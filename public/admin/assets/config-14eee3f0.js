import{d as R,x as y,r as u,l as C,q as t,h as N,c as P,e as o,w as n,a as s,t as k,u as r,i as q,K as B,L as F,a7 as D,M as I,E as U}from"./index-99f00cf3.js";/* empty css                  *//* empty css                *//* empty css                */import j from"./index-015c0c3e.js";import"./el-form-item-4ed993c7.js";/* empty css                 */import{E as M,F as S}from"./marketing-47e9cfd6.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-2e54ab99.js";/* empty css                  *//* empty css                   */import"./attachment-6fc096d0.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-a59c79e6.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-bde8c802.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-49ab6f2c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const K={class:"flex justify-between items-center mb-[10px]"},L={class:"text-page-title"},O={class:"flex items-center mx-[5px]"},T={class:"fixed-footer-wrap"},z={class:"fixed-footer h-[48px]"},ye=R({__name:"config",setup(A){const v=y().meta.title,a=u({rank_name:"",rank_remark:"",rank_images:""}),d=u(),h=C(()=>({rank_name:[{required:!0,message:t("rankNamePlaceholder"),trigger:"blur"}],rank_images:[{required:!0,message:t("imagePlaceholder"),trigger:"change"}]})),c=()=>{M().then(l=>{console.log(l),Object.keys(a.value).forEach(e=>{l.data[e]&&(a.value[e]=l.data[e])})}).catch(()=>{})};c();const i=u(!1),x=async()=>{var l;console.log(a.value),!i.value&&await((l=d.value)==null?void 0:l.validate(async e=>{e&&(i.value=!0,S(a.value).then(()=>{c(),i.value=!1}).catch(()=>{i.value=!1}))}))};return(l,e)=>{const _=B,p=F,b=j,f=D,w=I,V=U;return N(),P("div",null,[o(f,{class:"box-card !border-none main-container",shadow:"never"},{default:n(()=>[s("div",K,[s("span",L,k(r(v)),1)]),o(w,{model:a.value,"label-width":"120px",ref_key:"formRef",ref:d,rules:r(h),class:"page-form"},{default:n(()=>[o(f,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[o(p,{label:r(t)("rankName"),prop:"rank_name"},{default:n(()=>[s("div",O,[o(_,{modelValue:a.value.rank_name,"onUpdate:modelValue":e[0]||(e[0]=m=>a.value.rank_name=m),modelModifiers:{trim:!0},clearable:"",class:"input-width",placeholder:r(t)("rankNamePlaceholder"),maxlength:"20"},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),o(p,{label:r(t)("rankImages"),prop:"rank_images",rules:[{required:!0,trigger:"change",validator:(m,E,g)=>{E||g(r(t)("imagePlaceholder")),g()}}]},{default:n(()=>[o(b,{modelValue:a.value.rank_images,"onUpdate:modelValue":e[1]||(e[1]=m=>a.value.rank_images=m),limit:1},null,8,["modelValue"])]),_:1},8,["label","rules"]),o(p,{label:r(t)("rankRemark"),prop:"rank_remark"},{default:n(()=>[o(_,{modelValue:a.value.rank_remark,"onUpdate:modelValue":e[2]||(e[2]=m=>a.value.rank_remark=m),placeholder:r(t)("rankRemarkPlaceholder"),type:"textarea",maxlength:"500","show-word-limit":"",rows:"5",class:"!w-[400px]",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),s("div",T,[s("div",z,[o(V,{type:"primary",onClick:x},{default:n(()=>[q(k(r(t)("save")),1)]),_:1})])])])}}});export{ye as default};
