import{d as S,x as U,n as z,r as y,h as w,c as L,e as a,w as l,a as d,t as p,u as s,i as u,q as r,R,s as M,A as j,a4 as q,ao as A,U as J,E as K,K as W,L as Y,M as G,a6 as H,ab as O,J as Q,ac as X,W as Z,Y as ee,p as te,g as ae}from"./index-6ea097a6.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css                        *//* empty css                        *//* empty css                *//* empty css                     *//* empty css                  */import{k as oe,l as ne,n as re}from"./goods-ff2f32a8.js";import{_ as le}from"./brand-edit.vue_vue_type_style_index_0_lang-cd7a51dd.js";import{_ as se}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   */import"./index-a6a5e859.js";import"./index.vue_vue_type_style_index_0_lang-b4429e25.js";import"./attachment-eff12253.js";import"./index.vue_vue_type_script_setup_true_lang-5136f203.js";/* empty css               *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-7edbe634.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-3cb6d3b1.js";import"./sortable.esm-be94e56d.js";const ie=""+new URL("brand_default-ac73116e.png",import.meta.url).href,de=g=>(te("data-v-d67a3070"),g=g(),ae(),g),pe={class:"main-container"},me={class:"flex justify-between items-center"},ce={class:"text-page-title"},_e={class:"mt-[10px]"},ue={class:"h-[30px]"},ge=de(()=>d("div",{class:"image-slot"},[d("img",{class:"w-[30px] h-[30px]",src:ie})],-1)),fe={class:"mt-[16px] flex justify-end"},be=S({__name:"brand_list",setup(g){const C=U().meta.title,e=z({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{brand_name:"",order:"",sort:""}}),b=y(),k=o=>{let t="";o.order=="ascending"?t="asc":o.order=="descending"&&(t="desc"),t&&(e.searchParam.order=o.prop,e.searchParam.sort=t),i()},i=(o=1)=>{e.loading=!0,e.page=o,oe({page:e.page,limit:e.limit,...e.searchParam}).then(t=>{e.loading=!1,e.data=t.data.data,e.total=t.data.total}).catch(()=>{e.loading=!1})};i();const c=y(null),B=()=>{c.value.setFormData(),c.value.showDialog=!0},E=o=>{c.value.setFormData(o),c.value.showDialog=!0},D=o=>{q.confirm(r("brandDeleteTips"),r("warning"),{confirmButtonText:r("confirm"),cancelButtonText:r("cancel"),type:"warning"}).then(()=>{ne(o).then(()=>{i()}).catch(()=>{})})},I=A((o,t)=>{if(isNaN(o)||!/^\d{0,10}$/.test(o)){J({type:"warning",message:`${r("sortTips")}`});return}re({brand_id:t.brand_id,sort:o}).then(m=>{})}),P=o=>{o&&(o.resetFields(),i())};return(o,t)=>{const m=K,h=W,v=Y,V=G,x=H,f=O,N=Q,F=X,T=Z,$=ee;return w(),L("div",pe,[a(x,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[d("div",me,[d("span",ce,p(s(C)),1),a(m,{type:"primary",onClick:B},{default:l(()=>[u(p(s(r)("addBrand")),1)]),_:1})]),a(x,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:l(()=>[a(V,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:b},{default:l(()=>[a(v,{label:s(r)("brandName"),prop:"brand_name"},{default:l(()=>[a(h,{modelValue:e.searchParam.brand_name,"onUpdate:modelValue":t[0]||(t[0]=n=>e.searchParam.brand_name=n),modelModifiers:{trim:!0},placeholder:s(r)("brandNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,null,{default:l(()=>[a(m,{type:"primary",onClick:t[1]||(t[1]=n=>i())},{default:l(()=>[u(p(s(r)("search")),1)]),_:1}),a(m,{onClick:t[2]||(t[2]=n=>P(b.value))},{default:l(()=>[u(p(s(r)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),d("div",_e,[R((w(),M(F,{data:e.data,size:"large",onSortChange:k},{empty:l(()=>[d("span",null,p(e.loading?"":s(r)("emptyData")),1)]),default:l(()=>[a(f,{prop:"brand_name",label:s(r)("brandName"),"min-width":"120"},null,8,["label"]),a(f,{label:s(r)("logo"),"min-width":"120"},{default:l(({row:n})=>[d("div",ue,[a(N,{class:"w-[30px] h-[30px]",src:s(j)(n.logo),fit:"contain"},{error:l(()=>[ge]),_:2},1032,["src"])])]),_:1},8,["label"]),a(f,{prop:"sort",label:s(r)("sort"),"min-width":"120",sortable:"custom"},{default:l(({row:n})=>[a(h,{modelValue:n.sort,"onUpdate:modelValue":_=>n.sort=_,class:"!w-[100px]",maxlength:"10",onInput:_=>s(I)(_,n)},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1},8,["label"]),a(f,{label:s(r)("operation"),fixed:"right",align:"right","min-width":"120"},{default:l(({row:n})=>[a(m,{type:"primary",link:"",onClick:_=>E(n)},{default:l(()=>[u(p(s(r)("edit")),1)]),_:2},1032,["onClick"]),a(m,{type:"primary",link:"",onClick:_=>D(n.brand_id)},{default:l(()=>[u(p(s(r)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[$,e.loading]]),d("div",fe,[a(T,{"current-page":e.page,"onUpdate:current-page":t[3]||(t[3]=n=>e.page=n),"page-size":e.limit,"onUpdate:page-size":t[4]||(t[4]=n=>e.limit=n),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:t[5]||(t[5]=n=>i()),onCurrentChange:i},null,8,["current-page","page-size","total"])])]),a(le,{ref_key:"editBrandDialog",ref:c,onComplete:i},null,512)]),_:1})])}}});const tt=se(be,[["__scopeId","data-v-d67a3070"]]);export{tt as default};
