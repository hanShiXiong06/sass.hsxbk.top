import{d as F,x as $,n as z,r as x,h as y,c as I,e as t,w as s,a as _,t as m,u as r,i as u,q as o,R as U,s as R,a4 as S,ao as M,U as j,E as q,K,L as W,M as Y,a6 as A,ab as G,ac as H,W as J,Y as O}from"./index-6ea097a6.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                     *//* empty css                  */import{R as Q,S as X,T as Z}from"./goods-ff2f32a8.js";import{_ as ee}from"./label-edit.vue_vue_type_style_index_0_lang-9f8392c5.js";import{_ as ae}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   */const te={class:"main-container"},le={class:"flex justify-between items-center"},oe={class:"text-page-title"},ne={class:"mt-[10px]"},se={class:"mt-[16px] flex justify-end"},re=F({__name:"label_list",setup(ie){const C=$().meta.title,e=z({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{label_name:"",order:"",sort:""}}),f=x(),k=l=>{let a="";l.order=="ascending"?a="asc":l.order=="descending"&&(a="desc"),a&&(e.searchParam.order=l.prop,e.searchParam.sort=a),i()},i=(l=1)=>{e.loading=!0,e.page=l,Q({page:e.page,limit:e.limit,...e.searchParam}).then(a=>{e.loading=!1,e.data=a.data.data,e.total=a.data.total}).catch(()=>{e.loading=!1})};i();const p=x(null),w=()=>{p.value.setFormData(),p.value.showDialog=!0},E=l=>{p.value.setFormData(l),p.value.showDialog=!0},L=l=>{S.confirm(o("labelDeleteTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{X(l).then(()=>{i()}).catch(()=>{})})},D=M((l,a)=>{if(isNaN(l)||!/^\d{0,10}$/.test(l)){j({type:"warning",message:`${o("sortTips")}`});return}Z({label_id:a.label_id,sort:l}).then(d=>{})}),P=l=>{l&&(l.resetFields(),i())};return(l,a)=>{const d=q,g=K,h=W,V=Y,v=A,b=G,N=H,T=J,B=O;return y(),I("div",te,[t(v,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[_("div",le,[_("span",oe,m(r(C)),1),t(d,{type:"primary",onClick:w},{default:s(()=>[u(m(r(o)("addLabel")),1)]),_:1})]),t(v,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:s(()=>[t(V,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:f},{default:s(()=>[t(h,{label:r(o)("labelName"),prop:"label_name"},{default:s(()=>[t(g,{modelValue:e.searchParam.label_name,"onUpdate:modelValue":a[0]||(a[0]=n=>e.searchParam.label_name=n),modelModifiers:{trim:!0},placeholder:r(o)("labelNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(h,null,{default:s(()=>[t(d,{type:"primary",onClick:a[1]||(a[1]=n=>i())},{default:s(()=>[u(m(r(o)("search")),1)]),_:1}),t(d,{onClick:a[2]||(a[2]=n=>P(f.value))},{default:s(()=>[u(m(r(o)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),_("div",ne,[U((y(),R(N,{data:e.data,size:"large",onSortChange:k},{empty:s(()=>[_("span",null,m(e.loading?"":r(o)("emptyData")),1)]),default:s(()=>[t(b,{prop:"label_name",label:r(o)("labelName"),"min-width":"120"},null,8,["label"]),t(b,{prop:"memo",label:r(o)("memo"),"min-width":"200"},null,8,["label"]),t(b,{prop:"sort",label:r(o)("sort"),"min-width":"120",sortable:"custom"},{default:s(({row:n})=>[t(g,{modelValue:n.sort,"onUpdate:modelValue":c=>n.sort=c,class:"!w-[100px]",maxlength:"10",onInput:c=>r(D)(c,n)},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:1},8,["label"]),t(b,{label:r(o)("operation"),fixed:"right",align:"right","min-width":"120"},{default:s(({row:n})=>[t(d,{type:"primary",link:"",onClick:c=>E(n)},{default:s(()=>[u(m(r(o)("edit")),1)]),_:2},1032,["onClick"]),t(d,{type:"primary",link:"",onClick:c=>L(n.label_id)},{default:s(()=>[u(m(r(o)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[B,e.loading]]),_("div",se,[t(T,{"current-page":e.page,"onUpdate:current-page":a[3]||(a[3]=n=>e.page=n),"page-size":e.limit,"onUpdate:page-size":a[4]||(a[4]=n=>e.limit=n),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:a[5]||(a[5]=n=>i()),onCurrentChange:i},null,8,["current-page","page-size","total"])])]),t(ee,{ref_key:"editLabelDialog",ref:p,onComplete:i},null,512)]),_:1})])}}});const Te=ae(re,[["__scopeId","data-v-be18f07e"]]);export{Te as default};
