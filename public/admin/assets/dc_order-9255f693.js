import{d as L,x as M,r as E,n as N,a2 as T,h as i,c as f,e as a,w as l,u as U,q as O,F as P,T as S,s as y,i as x,a as n,R,t as m,B as j,bO as q,L as H,K,aa as W,aB as A,E as G,M as J,a6 as Q,ab as X,ac as Z,W as ee,Y as te,p as ae,g as oe}from"./index-f7a01263.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                     *//* empty css                  *//* empty css                       */import{g as le,a as se}from"./myxq-7624d734.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";const ne=c=>(ae("data-v-9a78154e"),c=c(),oe(),c),ie={class:"main-container"},de=ne(()=>n("div",{class:"flex justify-between items-center"},[n("span",{class:"text-lg"},"点餐订单")],-1)),pe={class:"mt-[10px]"},me={key:0},ce={class:"mt-[16px] flex justify-end"},ue=L({__name:"dc_order",setup(c){M();const k=E(),t=N({page:1,limit:30,total:0,loading:!0,data:[],searchParam:{time:[],orderid:"",status:""}}),F=s=>{const e=new Date(s*1e3),h=e.getFullYear(),d=e.getMonth()+1,v=e.getDate(),u=e.getHours(),_=e.getMinutes(),w=e.getSeconds();return`${h}-${d}-${v} ${u}:${_}:${w}`},g=E();(async()=>{const s=await le();g.value=s.data})();const p=(s=1)=>{t.loading=!0,t.page=s,se({page:t.page,limit:t.limit,...t.searchParam}).then(e=>{t.loading=!1,t.data=e.data.list,console.log(t.data),t.total=e.data.total}).catch(()=>{t.loading=!1})};p();const I=s=>{s&&(s.resetFields(),p())};return(s,e)=>{const h=q,d=H,v=K,u=W,_=T("block"),w=A,C=G,$=J,V=Q,r=X,B=Z,z=ee,Y=te;return i(),f("div",ie,[a(V,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[de,a(V,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:l(()=>[a($,{inline:!0,model:t.searchParam,ref_key:"searchFormRef",ref:k},{default:l(()=>[a(d,{label:"开始时间",prop:"time"},{default:l(()=>[a(h,{modelValue:t.searchParam.time,"onUpdate:modelValue":e[0]||(e[0]=o=>t.searchParam.time=o),type:"datetimerange",format:"YYYY-MM-DD hh:mm:ss","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),a(d,{label:"订单ID",prop:"orderid"},{default:l(()=>[a(v,{modelValue:t.searchParam.orderid,"onUpdate:modelValue":e[1]||(e[1]=o=>t.searchParam.orderid=o),placeholder:"请输入订单ID"},null,8,["modelValue"])]),_:1}),a(d,{label:"订单状态",prop:"status"},{default:l(()=>[a(w,{class:"w-[280px]",modelValue:t.searchParam.status,"onUpdate:modelValue":e[2]||(e[2]=o=>t.searchParam.status=o),clearable:"",placeholder:U(O)("isSendPlaceholder")},{default:l(()=>[a(u,{label:"全部",value:""}),(i(!0),f(P,null,S(g.value,(o,b)=>(i(),y(_,{key:"index"},{default:l(()=>[a(u,{label:o,value:b},null,8,["label","value"])]),_:2},1024))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),a(d,null,{default:l(()=>[a(C,{type:"primary",onClick:e[3]||(e[3]=o=>p())},{default:l(()=>[x("搜索")]),_:1}),a(C,{onClick:e[4]||(e[4]=o=>I(k.value))},{default:l(()=>[x("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),n("div",pe,[R((i(),y(B,{data:t.data,size:"large"},{empty:l(()=>[n("span",null,m(t.loading?"":"还没有订单哟~~~"),1)]),default:l(()=>[a(r,{prop:"orderid",label:"订单ID","min-width":"80","show-overflow-tooltip":!0}),a(r,{prop:"storeName",label:"门店","min-width":"120","show-overflow-tooltip":!0}),a(r,{prop:"goodsCount",label:"数量","min-width":"60","show-overflow-tooltip":!0}),a(r,{prop:"payprice",label:"支付金额","min-width":"80","show-overflow-tooltip":!0},{default:l(({row:o})=>[n("div",null,m(o.payprice/100),1)]),_:1}),a(r,{prop:"commission",label:"佣金","min-width":"80","show-overflow-tooltip":!0},{default:l(({row:o})=>[n("div",null,m(o.commission),1)]),_:1}),a(r,{prop:"status",label:"状态","min-width":"120","show-overflow-tooltip":!0},{default:l(({row:o})=>[(i(!0),f(P,null,S(g.value,(b,D)=>(i(),y(_,{key:D},{default:l(()=>[D==o.status?(i(),f("div",me,m(b),1)):j("",!0)]),_:2},1024))),128))]),_:1}),a(r,{prop:"closetxt",label:"关闭原因","min-width":"120","show-overflow-tooltip":!0}),a(r,{prop:"createdtime",label:"创建时间","min-width":"120","show-overflow-tooltip":!0},{default:l(({row:o})=>[n("div",null,m(F(o.createdtime)),1)]),_:1}),x("/> ")]),_:1},8,["data"])),[[Y,t.loading]]),n("div",ce,[a(z,{"current-page":t.page,"onUpdate:current-page":e[5]||(e[5]=o=>t.page=o),"page-size":t.limit,"onUpdate:page-size":e[6]||(e[6]=o=>t.limit=o),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:e[7]||(e[7]=o=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])])]),_:1})])}}});const ze=re(ue,[["__scopeId","data-v-9a78154e"]]);export{ze as default};
