import{d as B,f as C,r as f,n as E,h as u,c as D,e as r,w as s,a as l,t as p,u as i,q as n,R as F,s as V,i as v,L as R,E as L,M as N,a7 as $,Y as P}from"./index-5a756a51.js";/* empty css                   *//* empty css                *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";import S from"./index-92c2e799.js";import{a as T,b as j}from"./config-39a6742a.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-c0b4b1fc.js";/* empty css                  *//* empty css                   */import"./attachment-a9811edd.js";import"./index.vue_vue_type_script_setup_true_lang-cb419dfd.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-477c25f7.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-75313763.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const q={class:"main-container"},I={class:"text text-[14px] leading-[25px]"},M={class:"text-[var(--el-text-color-secondary)] text-[12px] leading-[25px]"},O={class:"fixed-footer-wrap"},U={class:"fixed-footer"},Ct=B({__name:"poster",setup(Y){const g=C(),o=f(!0),a=E({share_content:"",poster_bg:""});(async()=>{const e=await(await T()).data;Object.keys(a).forEach(t=>{e[t]!=null&&(a[t]=e[t])}),o.value=!1})();const d=f(),x=async e=>{o.value||!e||await e.validate(async t=>{t&&(o.value=!0,j(a).then(()=>{o.value=!1}).catch(()=>{o.value=!1}))})},b=e=>{let t=g.resolve(`/setting/agreement/edit?key=${e}`);window.open(t.href," blank")};return(e,t)=>{const w=S,c=R,_=L,h=N,y=$,k=P;return u(),D("div",q,[r(y,{class:"card !border-none",shadow:"never"},{default:s(()=>[l("div",I,p(i(n)("posterEdit")),1),F((u(),V(h,{class:"page-form mt-[20px]",model:a,"label-width":"150px",ref_key:"formRef",ref:d},{default:s(()=>[r(c,{label:i(n)("posterBg")},{default:s(()=>[l("div",null,[r(w,{modelValue:a.poster_bg,"onUpdate:modelValue":t[0]||(t[0]=m=>a.poster_bg=m),limit:1},null,8,["modelValue"]),l("p",M,p(i(n)("posterBgTip")),1)])]),_:1},8,["label"]),r(c,{label:i(n)("promotionSettings")},{default:s(()=>[r(_,{type:"primary",link:"",onClick:t[1]||(t[1]=m=>b("fenxiao_poster"))},{default:s(()=>[v(p(i(n)("settings")),1)]),_:1})]),_:1},8,["label"])]),_:1},8,["model"])),[[k,o.value]])]),_:1}),l("div",O,[l("div",U,[r(_,{type:"primary",loading:o.value,onClick:t[2]||(t[2]=m=>x(d.value))},{default:s(()=>[v(p(i(n)("save")),1)]),_:1},8,["loading"])])])])}}});export{Ct as default};
