import{d as L,x as M,n as y,q as e,r as j,f as R,h as _,c as U,e as i,w as o,a as m,t as r,u as n,i as d,R as Y,s as v,A as I,B as C,a5 as A,E as H,K as q,L as K,bO as O,M as W,a7 as G,ac as J,ad as Q,W as X,Y as Z}from"./index-2a89d409.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                *//* empty css                       *//* empty css                  */import"./el-form-item-4ed993c7.js";import{a as ee,U as te}from"./tourism-4aef9104.js";const ae={class:"main-container"},ne={class:"flex justify-between items-center"},ie={class:"text-page-title"},le={class:"mt-[10px]"},oe={class:"flex items-center"},se={class:"min-w-[60px] h-[60px] flex items-center justify-center"},re=["src"],ce=["title"],me={class:"mt-[16px] flex justify-end"},Ne=L({__name:"list",setup(de){const w=M().meta.title,S=y({1:e("oneStar"),2:e("twoStar"),3:e("threeStar"),4:e("fourStar"),5:e("fiveStar")}),a=y({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{scenic_name:"",create_time:[]}}),b=j(),p=(s=1)=>{a.loading=!0,a.page=s,ee({page:a.page,limit:a.limit,...a.searchParam}).then(l=>{a.loading=!1,a.data=l.data.data,a.total=l.data.total}).catch(()=>{a.loading=!1})};p();const f=R(),E=()=>{f.push("/tourism/product/scenic/edit_scenic")},P=s=>{f.push("/tourism/product/scenic/ticket?id="+s.scenic_id)},T=s=>{f.push("/tourism/product/scenic/edit_scenic?id="+s.scenic_id)},x=(s,l)=>{const c=s==1?e("upPrompt"):e("downPrompt");A.confirm(c,e("warning"),{confirmButtonText:e("confirm"),cancelButtonText:e("cancel"),type:"warning"}).then(()=>{te({scenic_id:l,scenic_status:s}).then(()=>{p()})})},V=s=>{s&&(s.resetFields(),p())};return(s,l)=>{const c=H,B=q,h=K,D=O,N=W,k=G,u=J,$=Q,z=X,F=Z;return _(),U("div",ae,[i(k,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[m("div",ne,[m("span",ie,r(n(w)),1),i(c,{type:"primary",class:"w-[100px]",onClick:E},{default:o(()=>[d(r(n(e)("addTourismScenic")),1)]),_:1})]),i(k,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:o(()=>[i(N,{inline:!0,model:a.searchParam,ref_key:"searchFormRef",ref:b},{default:o(()=>[i(h,{label:n(e)("scenicName"),prop:"scenic_name"},{default:o(()=>[i(B,{modelValue:a.searchParam.scenic_name,"onUpdate:modelValue":l[0]||(l[0]=t=>a.searchParam.scenic_name=t),modelModifiers:{trim:!0},placeholder:n(e)("scenicNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),i(h,{label:n(e)("createTime"),prop:"create_time"},{default:o(()=>[i(D,{modelValue:a.searchParam.create_time,"onUpdate:modelValue":l[1]||(l[1]=t=>a.searchParam.create_time=t),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":n(e)("startDate"),"end-placeholder":n(e)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),i(h,null,{default:o(()=>[i(c,{type:"primary",onClick:l[2]||(l[2]=t=>p())},{default:o(()=>[d(r(n(e)("search")),1)]),_:1}),i(c,{onClick:l[3]||(l[3]=t=>V(b.value))},{default:o(()=>[d(r(n(e)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),m("div",le,[Y((_(),v($,{data:a.data,size:"large"},{empty:o(()=>[m("span",null,r(a.loading?"":n(e)("emptyData")),1)]),default:o(()=>[i(u,{"show-overflow-tooltip":!0,label:n(e)("scenicInfo"),"min-width":"240",align:"left"},{default:o(({row:t})=>[m("div",oe,[m("div",se,[m("img",{class:"max-w-[60px] max-h-[60px]",src:n(I)(t.cover_thumb_small)},null,8,re)]),m("a",{href:"javascript:;",title:t.scenic_name,class:"multi-hidden ml-2"},r(t.scenic_name),9,ce)])]),_:1},8,["label"]),i(u,{prop:"scenic_level",label:n(e)("scenicLevel"),"min-width":"100"},{default:o(({row:t})=>[d(r(S[t.scenic_level]),1)]),_:1},8,["label"]),i(u,{prop:"full_address",label:n(e)("fullAddress"),"min-width":"200"},null,8,["label"]),i(u,{prop:"create_time",label:n(e)("createTime"),"min-width":"170"},null,8,["label"]),i(u,{prop:"status_name",label:n(e)("scenicStatus"),"min-width":"120"},null,8,["label"]),i(u,{label:n(e)("operation"),align:"right",fixed:"right","min-width":"200"},{default:o(({row:t})=>[t.scenic_status==1?(_(),v(c,{key:0,type:"primary",link:"",onClick:g=>x(0,t.scenic_id)},{default:o(()=>[d(r(n(e)("down")),1)]),_:2},1032,["onClick"])):C("",!0),t.scenic_status==0?(_(),v(c,{key:1,type:"primary",link:"",onClick:g=>x(1,t.scenic_id)},{default:o(()=>[d(r(n(e)("up")),1)]),_:2},1032,["onClick"])):C("",!0),i(c,{type:"primary",link:"",onClick:g=>P(t)},{default:o(()=>[d(r(n(e)("ticketManage")),1)]),_:2},1032,["onClick"]),i(c,{type:"primary",link:"",onClick:g=>T(t)},{default:o(()=>[d(r(n(e)("edit")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[F,a.loading]]),m("div",me,[i(z,{"current-page":a.page,"onUpdate:current-page":l[4]||(l[4]=t=>a.page=t),"page-size":a.limit,"onUpdate:page-size":l[5]||(l[5]=t=>a.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:l[6]||(l[6]=t=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{Ne as default};
