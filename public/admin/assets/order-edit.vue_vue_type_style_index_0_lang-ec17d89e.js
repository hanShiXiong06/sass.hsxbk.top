import{d as G,r as _,aO as H,a2 as N,h as o,c as i,e as r,w as a,s as u,a as e,t as s,B as l,i as c,u as K,A as Q,F as b,T as S,U as B,a1 as Y,ak as ee,E as te,cZ as se,cy as oe,a8 as ae,a9 as le,a7 as de,X as ne,aW as re,ab as ie,aC as ce}from"./index-37fee5a0.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                         *//* empty css                  *//* empty css                   *//* empty css                  */import{u as _e}from"./dict-f463d0b4.js";import{c as ue,g as ve,a as me}from"./order-2fa7a664.js";/* empty css                   */const pe={class:"flex items-center mt-4"},fe={key:0,class:"mr-[28px] p-4 pl-12 pr-12 rounded-md statistic-card bg-gradient-to-r from-indigo-50 from-10% via-sky-50 via-10% to-emerald-50 to-10%"},ye=e("div",{class:"font-bold text-slate-400"},"订单金额",-1),he={class:"text-2xl"},ge={key:1,class:"mr-[28px] p-4 pl-12 pr-12 rounded-md statistic-card bg-gradient-to-r from-indigo-50 from-10% via-sky-50 via-10% to-emerald-50 to-10%"},xe=e("div",{class:"font-bold text-slate-400"},"优惠金额",-1),ke={class:"text-2xl"},Ie={class:"flex mt-4"},be={class:"mr-4"},Ee=e("span",null,"订单号：",-1),we={class:"font-bold"},De={class:"mr-4"},Ce=e("span",null,"运单号：",-1),Ve={class:"font-bold"},Ne={class:"mr-2"},Se=e("span",null,"创建时间：",-1),Be={class:""},Oe={key:0,class:"flex mt-6"},Ue=e("span",null,"用户：",-1),Te={class:"font-bold"},Fe={class:"bg-cyan-50 rounded-md pl-2 pr-2 mr-4"},Le={key:0},je={class:"mt-4 flex"},Ae=e("div",{class:"mr-4"},"支付信息",-1),Je={key:2},$e={class:"mt-4 flex items-center"},Re=e("div",{class:"mr-4"},"订单状态",-1),ze={class:"ml-4 font-bold"},Me={key:0,class:"mt-4 flex items-center"},Pe=e("div",{class:"mr-4"},"订单备注",-1),We={class:"ml-4 font-bold"},Xe={class:"flex items-center mt-4"},Ze={key:0,class:"mr-[28px] p-4 rounded-md statistic-card bg-gradient-to-r from-indigo-50 from-10% via-sky-50 via-10% to-emerald-50 to-10%"},qe={class:"font-bold"},Ge={class:"flex text-xs text-current"},He={class:"mr-2"},Ke={class:"text-current font-bold"},Qe={key:1,class:"p-4 rounded-md statistic-card bg-gradient-to-r from-indigo-50 from-10% via-sky-50 via-10% to-emerald-50 to-10%"},Ye={class:"font-bold"},et={class:"flex text-xs text-current"},tt={class:"mr-2"},st={class:"text-current font-bold"},ot={class:"mt-2"},at={class:"flex items-center mb-4"},lt={class:"ml-1 p-2"},dt={class:"font-bold"},nt={key:1,class:"ml-8"},rt={class:"flex"},it={class:"mr-2"},ct={class:""},_t={key:0},ut={class:"mb-2"},vt={class:"w-[320px]"},jt=G({__name:"order-edit",emits:["complete"],setup(mt,{expose:O,emit:pt}){const E=_([]);(async()=>{E.value=await(await _e("jhkd_order_status")).data.dictionary})();const g=_(),h=_(!1),U=()=>{h.value=!0},T=async()=>{await ue({order_id:t.value.order_id,order_status:g.value}),h.value=!1},{copy:F,isSupported:L,copied:yt}=H(),j=m=>{if(console.log("ddddddd"),!L.value){B({message:"当前浏览器不支持一键复制，请手动复制",type:"warning"});return}F(m),B({message:"复制成功",type:"success"})},x=_(!1),w=_(!1),t=_(),k=_(),f=_(),v=_(),y=_(),A=async m=>{const d=await me(m);k.value=d.data};return O({showDialog:x,setFormData:async(m=null)=>{if(w.value=!0,m){const d=await(await ve(m.id)).data;t.value=d,v.value=JSON.parse(t.value.orderInfo.start_address),y.value=JSON.parse(t.value.orderInfo.end_address),t.value.orderInfo.courier_context&&(f.value=JSON.parse(t.value.orderInfo.courier_context)),t.value.orderInfo.delivery_id&&A(t.value.orderInfo.delivery_id)}w.value=!1}}),(m,d)=>{const J=N("DocumentCopy"),D=Y,p=ee,C=te,$=N("Right"),R=se,z=oe,M=ae,P=le,W=de,V=ne,X=re,Z=ie,q=ce;return o(),i(b,null,[r(V,{modelValue:x.value,"onUpdate:modelValue":d[2]||(d[2]=n=>x.value=n),title:"订单详情",width:"50%",class:"diy-dialog-wrap","destroy-on-close":""},{default:a(()=>[t.value?(o(),u(W,{key:0},{default:a(()=>[e("div",null,[e("div",pe,[v.value?(o(),i("div",fe,[ye,e("div",he,s(t.value.order_money),1)])):l("",!0),v.value?(o(),i("div",ge,[xe,e("div",ke,s(t.value.order_discount_money),1)])):l("",!0)]),e("div",Ie,[e("div",be,[Ee,e("span",we,s(t.value.order_id),1)]),e("div",De,[Ce,e("span",Ve,s(t.value.orderInfo.delivery_id),1),r(D,{class:"ml-2",onClick:d[0]||(d[0]=n=>j(t.value.orderInfo.delivery_id))},{default:a(()=>[r(J)]),_:1})]),e("div",Ne,[Se,e("span",Be,s(t.value.create_time),1)])]),t.value.memberInfo?(o(),i("div",Oe,[Ue,e("span",Te,s(t.value.memberInfo.nickname),1),r(p,{class:"ml-2 mr-12"},{default:a(()=>[c(s(t.value.order_from),1)]),_:1}),e("span",Fe,s(t.value.orderInfo.goods)+"-"+s(t.value.orderInfo.weight)+"kg-"+s(t.value.orderInfo.long)+"x"+s(t.value.orderInfo.width)+"x"+s(t.value.orderInfo.height)+"cm ",1),t.value.orderInfo.bj_price?(o(),i("div",Le," 保价："+s(t.value.orderInfo.bj_price),1)):l("",!0)])):l("",!0)]),e("div",je,[Ae,t.value.payInfo.status_name?(o(),u(p,{key:0,class:"mr-4",type:"info"},{default:a(()=>[c(s(t.value.payInfo.status_name),1)]),_:1})):l("",!0),t.value.payInfo.type_name?(o(),u(p,{key:1,class:"mr-4",type:"success"},{default:a(()=>[c(s(t.value.payInfo.type_name),1)]),_:1})):l("",!0),t.value.payInfo.pay_time?(o(),i("div",Je,s(t.value.payInfo.pay_time),1)):l("",!0)]),e("div",$e,[Re,r(p,{class:"mr-2"},{default:a(()=>[c(s(t.value.order_status_arr.name),1)]),_:1}),t.value.is_send==1?(o(),u(p,{key:0},{default:a(()=>[c(" 已发单 ")]),_:1})):l("",!0),t.value.is_send==0?(o(),u(p,{key:1,type:"info"},{default:a(()=>[c(" 未发单 ")]),_:1})):l("",!0),e("span",ze,s(t.value.close_reason),1),r(C,{class:"ml-4",onClick:d[1]||(d[1]=n=>U())},{default:a(()=>[c("更改状态")]),_:1})]),t.value.remark?(o(),i("div",Me,[Pe,e("span",We,s(t.value.remark),1)])):l("",!0),e("div",Xe,[v.value?(o(),i("div",Ze,[e("div",qe,s(v.value.address),1),e("div",null,s(v.value.full_address),1),e("div",Ge,[e("div",He,s(v.value.name),1),e("div",Ke,s(v.value.mobile),1)])])):l("",!0),r(D,{class:"mr-[28px]",size:"28"},{default:a(()=>[r($)]),_:1}),y.value?(o(),i("div",Qe,[e("div",Ye,s(y.value.address),1),e("div",null,s(y.value.full_address),1),e("div",et,[e("div",tt,s(y.value.name),1),e("div",st,s(y.value.mobile),1)])])):l("",!0)]),k.value?(o(),u(R,{key:1,class:"mt-4","content-position":"left"},{default:a(()=>[c("轨迹跟踪")]),_:1})):l("",!0),e("div",ot,[e("div",at,[t.value&&t.value.orderInfo.delivery_arry.logo?(o(),u(z,{key:0,src:K(Q)(t.value.orderInfo.delivery_arry.logo)},null,8,["src"])):l("",!0),e("div",lt,[e("div",null,s(t.value.orderInfo.delivery_arry.name),1),e("div",dt,s(t.value.orderInfo.delivery_id),1)]),f.value?(o(),i("div",nt,[e("div",rt,[e("div",it,"揽件员:"+s(f.value.courierName),1),e("div",ct,"联系电话:"+s(f.value.courierPhone),1)]),f.value.pickUpCode?(o(),i("div",_t," 取件码:"+s(f.value.pickUpCode),1)):l("",!0)])):l("",!0),r(p,{class:"ml-8 font-bold"},{default:a(()=>[c(s(t.value.orderInfo.order_status_desc?t.value.orderInfo.order_status_desc:"未取件"),1)]),_:1})]),r(P,null,{default:a(()=>[(o(!0),i(b,null,S(k.value,(n,I)=>(o(),u(M,{key:I,timestamp:n.time},{default:a(()=>[c(s(n.desc),1)]),_:2},1032,["timestamp"]))),128))]),_:1})])]),_:1})):l("",!0)]),_:1},8,["modelValue"]),r(V,{modelValue:h.value,"onUpdate:modelValue":d[5]||(d[5]=n=>h.value=n),title:"更改状态",width:"400"},{default:a(()=>[e("div",ut,[r(X,{type:"info",title:"这里更改状态仅更新订单状态，不会有额外操作，请谨慎修改",closable:!1,"show-icon":""})]),e("div",vt,[r(q,{modelValue:g.value,"onUpdate:modelValue":d[3]||(d[3]=n=>g.value=n),placeholder:"请选择订单状态"},{default:a(()=>[(o(!0),i(b,null,S(E.value,(n,I)=>(o(),u(Z,{key:I,label:n.name,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),r(C,{type:"primary",onClick:d[4]||(d[4]=n=>T()),class:"mt-4"},{default:a(()=>[c("确定")]),_:1})]),_:1},8,["modelValue"])],64)}}});export{jt as _};
