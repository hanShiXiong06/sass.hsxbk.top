import{d as E,r as d,l as N,q as i,h as B,s as F,w as t,a as f,e as n,i as b,t as g,u as r,K as U,L as w,M,E as R,X as q}from"./index-f7a01263.js";/* empty css                  *//* empty css                   *//* empty css                  *//* empty css                     */import L from"./index-e6c6f5a6.js";/* empty css                 */import{s as $}from"./order-1274d9d3.js";const K={class:"dialog-footer"},J=E({__name:"invoice-dialog",emits:["complete"],setup(P,{expose:V,emit:k}){const u=d(!1),o=d({invoice_number:"",remark:"",invoice_voucher:""}),m=d(!1);let v=0;const x=async(l=null)=>{l&&(v=l.id,o.value.invoice_number=l.invoice_number,o.value.remark=l.remark,o.value.invoice_voucher=l.invoice_voucher)},y=async l=>{m.value||!l||await l.validate(async e=>{if(e){m.value=!0;const s=o.value;$(v,s).then(c=>{k("complete"),u.value=!1,m.value=!1}).catch(()=>{m.value=!1})}})},p=d(),h=N(()=>({invoice_number:[{required:!0,message:i("invoiceNumberPlaceholder"),trigger:"blur"}]}));return V({invoiceDialog:u,setInvoiceData:x}),(l,e)=>{const s=U,c=w,I=L,D=M,_=R,C=q;return B(),F(C,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=a=>u.value=a),title:r(i)("invoice"),width:"420px"},{footer:t(()=>[f("span",K,[n(_,{onClick:e[3]||(e[3]=a=>u.value=!1)},{default:t(()=>[b(g(r(i)("cancel")),1)]),_:1}),n(_,{type:"primary",loading:m.value,onClick:e[4]||(e[4]=a=>y(p.value))},{default:t(()=>[b(g(r(i)("confirm")),1)]),_:1},8,["loading"])])]),default:t(()=>[f("div",null,[n(D,{model:o.value,ref_key:"makeInvoiceFormRef",ref:p,rules:r(h),"label-width":"80px","label-position":"left"},{default:t(()=>[n(c,{label:r(i)("invoiceNumber"),prop:"invoice_number"},{default:t(()=>[n(s,{modelValue:o.value.invoice_number,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.invoice_number=a),modelModifiers:{trim:!0},minlength:"150"},null,8,["modelValue"])]),_:1},8,["label"]),n(c,{label:r(i)("invoiceVoucher"),prop:"invoice_voucher"},{default:t(()=>[n(I,{modelValue:o.value.invoice_voucher,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.invoice_voucher=a)},null,8,["modelValue"])]),_:1},8,["label"]),n(c,{label:r(i)("remark"),prop:"remark"},{default:t(()=>[n(s,{modelValue:o.value.remark,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.remark=a),modelModifiers:{trim:!0},type:"textarea",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","title"])}}});export{J as _};
