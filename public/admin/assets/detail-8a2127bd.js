import{d as W,x as X,f as Z,r as m,h as a,c as i,e as r,w as p,u as l,R as ee,s as y,a as s,t as e,q as o,B as d,F as B,T as S,A as te,i as M,a5 as $,a3 as se,aQ as oe,a7 as le,L as ae,aM as ne,aN as ie,ac as re,ad as pe,aa as de,M as ce,Y as _e,p as ue,g as xe}from"./index-6f32d09b.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                        *//* empty css               *//* empty css               *//* empty css               */import"./el-form-item-4ed993c7.js";/* empty css                *//* empty css                   *//* empty css                       */import{v as me,w as ve,x as fe}from"./order-5ba8e14a.js";import{p as he}from"./printer-79f0f9a9.js";import{_ as ye}from"./delivery-action.vue_vue_type_style_index_0_lang-10799312.js";import{_ as be}from"./order-notes.vue_vue_type_style_index_0_lang-dd39ff80.js";import{_ as ge}from"./delivery-package.vue_vue_type_style_index_0_lang-b92c9315.js";import{_ as ke}from"./adjust-money.vue_vue_type_style_index_0_lang-a5a0f2b9.js";import{_ as we}from"./electronic-sheet-print.vue_vue_type_style_index_0_lang-3ece7ee0.js";import{_ as De}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   *//* empty css                  *//* empty css                 *//* empty css                  *//* empty css                  *//* empty css                       *//* empty css                 *//* empty css                 */import"./delivery-a60e03aa.js";import"./weapp-b661d354.js";/* empty css                    */import"./electronic_sheet-1b12528c.js";import"./lodop-af7abad4.js";const Fe=b=>(ue("data-v-439696fe"),b=b(),xe(),b),Ce={class:"main-container"},Te={class:"panel-title"},Ee={class:"input-width"},Ne={class:"input-width"},Be={class:"input-width"},Me={class:"input-width"},Ae={class:"input-width"},Se={key:0},$e={class:"input-width"},Ie={class:"input-width"},je={class:"input-width"},Le={key:1},Pe={class:"input-width"},Re={class:"input-width"},Oe={class:"input-width"},Ve={class:"input-width"},qe={class:"input-width line-feed"},ze={class:"input-width line-feed"},Ge={class:"panel-title"},He={class:"mb-[20px]"},Qe={class:"ml-[30px] text-[14px] mr-[20px]"},Ye={class:"text-[14px]"},Je={class:"flex mt-[10px]"},Ke={key:6,class:"flex"},Ue=["onClick"],We={class:"flex ml-[30px] mt-[15px]"},Xe={class:"text-[14px] text-[#ff7f5b]"},Ze={class:"ml-[10px]"},et={class:"text-[14px] text-[#a4a4a4]"},tt={class:"text-[14px] text-[#a4a4a4]"},st={class:"text-[14px] text-[#a4a4a4]"},ot={class:"panel-title"},lt={class:"flex"},at={class:"flex items-center shrink-0"},nt=["src"],it={class:"flex flex-col"},rt={class:"multi-hidden text-[14px]"},pt={class:"text-[12px] text-[#999]"},dt={key:0,class:"text-[12px] text-[#999]"},ct={class:"flex flex-col"},_t={key:0},ut={key:0},xt={key:1,class:"text-[13px]"},mt={class:"text-[13px] mt-[5px]"},vt={class:"py-[12px] px-[16px] border-b border-color flex justify-end"},ft={class:"w-[310px] flex flex-col text-right"},ht={class:"flex mb-[10px]"},yt={class:"text-base flex-1"},bt={class:"text-base flex-1 pl-[30px]"},gt={key:0,class:"text-[14px]"},kt={key:0},wt={key:1,class:"text-[14px]"},Dt={class:"flex mb-[10px]"},Ft={class:"text-base flex-1"},Ct={class:"text-base flex-1 pl-[30px]"},Tt={class:"flex mb-[10px]"},Et={class:"text-base flex-1"},Nt={class:"text-base flex-1 pl-[30px]"},Bt={class:"flex"},Mt={class:"text-base flex-1"},At={class:"text-base flex-1 pl-[30px] text-[red]"},St={key:0,class:"text-[14px]"},$t={key:0},It={key:1,class:"text-[14px]"},jt={key:0,class:"mt-[50px] mb-[20px]"},Lt={key:1,class:"mb-[100px]",style:{"min-height":"100px"}},Pt={class:"mr-[20px] min-w-[71px]"},Rt={class:"leading-[1] w-full text-[14px] w-[100px] flex justify-end"},Ot={class:"leading-[1] w-full text-[14px] w-[100px] flex justify-end mt-[15px]"},Vt=Fe(()=>s("div",{class:"w-[16px] h-[16px] flex items-center bg-[#D1EBFF] border-[1px] border-[#0091FF] rounded-[999px]"},[s("div",{class:"w-[8px] h-[8px] mx-auto bg-[#0091FF] rounded-[999px]"})],-1)),qt={key:0,class:"w-[2px] h-[50px] bg-[#D1EBFF] mx-auto"},zt={class:"leading-[1] ml-[20px] text-[14px]"},Gt={class:"leading-[1] ml-[20px] text-[14px] mt-[15px]"},Ht={class:"ml-[10px]"},Qt=W({__name:"detail",setup(b){const A=X(),I=Z(),j=A.meta.title,x=parseInt(A.query.order_id),f=m(!0),t=m(null),v=async(u=0)=>{f.value=!0,t.value=null,await me(u).then(({data:_})=>{t.value=_}).catch(()=>{}),f.value=!1};x?v(x):f.value=!1;const L=()=>{$.confirm(o("orderCloseTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{ve(x).then(()=>{v(x)})})},k=m(null),P=()=>{k.value.setFormData(t.value),k.value.showDialog=!0},w=m(null),R=()=>{w.value.setFormData(t.value),w.value.showDialog=!0},D=m(null),O=()=>{D.value.setFormData(t.value),D.value.showDialog=!0},V=()=>{$.confirm(o("orderFinishTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{fe(x).then(()=>{v(x)})})},F=m(null),q=(u,_)=>{F.value.setFormData(u,_),F.value.showDialog=!0},C=m(null),z=()=>{let u={print_type:"single"};Object.assign(u,se(t.value)),C.value.setFormData(u),C.value.showDialog=!0},g=m(!1),G=()=>{t.value.order_id&&(g.value||(g.value=!0,he({type:"shopGoodsOrder",trigger:"manual",business:{order_id:t.value.order_id}}).then(u=>{g.value=!1}).catch(()=>{g.value=!1})))};return(u,_)=>{const H=oe,T=le,c=ae,E=ne,Q=ie,N=re,Y=pe,J=de,K=ce,U=_e;return a(),i("div",Ce,[r(T,{class:"card !border-none mb-[15px]",shadow:"never"},{default:p(()=>[r(H,{content:l(j),icon:u.ArrowLeft,onBack:_[0]||(_[0]=n=>l(I).push({path:"/phone_shop/order/index"}))},null,8,["content","icon"])]),_:1}),ee((a(),y(K,{model:t.value,"label-width":"100px",ref:"formRef",class:"page-form","label-position":"left"},{default:p(()=>[t.value?(a(),y(T,{key:0,class:"box-card !border-none relative",shadow:"never"},{default:p(()=>[s("h3",Te,e(l(o)("orderInfo")),1),r(Q,{class:"row-bg px-[30px] mb-[20px]",gutter:20},{default:p(()=>[r(E,{span:8},{default:p(()=>[r(c,{label:l(o)("orderNo")},{default:p(()=>[s("div",Ee,e(t.value.order_no),1)]),_:1},8,["label"]),r(c,{label:l(o)("orderForm")},{default:p(()=>[s("div",Ne,e(t.value.order_from_name),1)]),_:1},8,["label"]),t.value.out_trade_no?(a(),y(c,{key:0,label:l(o)("outTradeNo")},{default:p(()=>[s("div",Be,e(t.value.out_trade_no),1)]),_:1},8,["label"])):d("",!0),t.value.pay?(a(),y(c,{key:1,label:l(o)("payType")},{default:p(()=>[s("div",Me,e(t.value.pay.type_name),1)]),_:1},8,["label"])):d("",!0)]),_:1}),r(E,{span:8},{default:p(()=>[r(c,{label:l(o)("deliveryType")},{default:p(()=>[s("div",Ae,e(t.value.delivery_type_name),1)]),_:1},8,["label"]),t.value.delivery_type=="express"||t.value.delivery_type=="local_delivery"?(a(),i("div",Se,[r(c,{label:l(o)("takerName")},{default:p(()=>[s("div",$e,e(t.value.taker_name),1)]),_:1},8,["label"]),r(c,{label:l(o)("takerMobile")},{default:p(()=>[s("div",Ie,e(t.value.taker_mobile),1)]),_:1},8,["label"]),r(c,{label:l(o)("takerFullAddress")},{default:p(()=>[s("div",je,e(t.value.taker_full_address),1)]),_:1},8,["label"])])):d("",!0),t.value.delivery_type=="store"?(a(),i("div",Le,[r(c,{label:l(o)("storeName")},{default:p(()=>[s("div",Pe,e(t.value.store.store_name),1)]),_:1},8,["label"]),r(c,{label:l(o)("storeAddress")},{default:p(()=>[s("div",Re,e(t.value.store.full_address),1)]),_:1},8,["label"]),r(c,{label:l(o)("storeMobile")},{default:p(()=>[s("div",Oe,e(t.value.store.store_mobile),1)]),_:1},8,["label"]),r(c,{label:l(o)("tradeTime")},{default:p(()=>[s("div",Ve,e(t.value.store.trade_time),1)]),_:1},8,["label"])])):d("",!0)]),_:1}),r(E,{span:8},{default:p(()=>[r(c,{label:l(o)("memberRemark")},{default:p(()=>[s("div",qe,e(t.value.member_remark??"--"),1)]),_:1},8,["label"]),r(c,{label:l(o)("notes")},{default:p(()=>[s("div",ze,e(t.value.shop_remark??"--"),1)]),_:1},8,["label"])]),_:1})]),_:1}),s("h3",Ge,e(l(o)("orderStatus")),1),s("div",He,[s("p",null,[s("span",Qe,e(l(o)("orderStatus"))+"：",1),s("span",Ye,e(t.value.status_name.name),1)]),s("div",Je,[s("span",{class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#ff7f5b] bg-[#fff0e5] cursor-pointer",onClick:O},e(l(o)("notes")),1),t.value.status==2?(a(),i("span",{key:0,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:R},e(l(o)("delivery")),1)):d("",!0),t.value.status==1?(a(),i("span",{key:1,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:L},e(l(o)("close")),1)):d("",!0),t.value.status==1?(a(),i("span",{key:2,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:P},e(l(o)("editPrice")),1)):d("",!0),t.value.status==3?(a(),i("span",{key:3,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:V},e(l(o)("finish")),1)):d("",!0),t.value.delivery_type=="express"&&t.value.status==3?(a(),i("span",{key:4,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:z},e(l(o)("electronicSheetPrintTitle")),1)):d("",!0),t.value.delivery_type=="virtual"&&(t.value.status==2||t.value.status==3||t.value.status==5)?(a(),i("span",{key:5,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:G},e(l(o)("printTicket")),1)):d("",!0),t.value.order_delivery?(a(),i("div",Ke,[(a(!0),i(B,null,S(t.value.order_delivery,(n,h)=>(a(),i(B,{key:h},[n.delivery_type=="express"&&n.sub_delivery_type=="express"?(a(),i("span",{key:0,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#ff7f5b] bg-[#fff0e5] cursor-pointer",onClick:Yt=>q(n.id,t.value.taker_mobile)},e(l(o)("package"))+e(h+1),9,Ue)):d("",!0)],64))),128))])):d("",!0)]),s("div",We,[s("span",Xe,e(l(o)("remind"))+"：",1),s("div",Ze,[s("p",et,e(l(o)("remindTips1")),1),s("p",tt,e(l(o)("remindTips2")),1),s("p",st,e(l(o)("remindTips3")),1)])])]),s("h3",ot,e(l(o)("goodsDetail")),1),r(Y,{data:t.value.order_goods,size:"large"},{default:p(()=>[r(N,{label:l(o)("goodsName"),align:"left",width:"300"},{default:p(({row:n})=>[s("div",lt,[s("div",at,[s("img",{class:"w-[50px] h-[50px] mr-[10px]",src:l(te)(n.goods_image)},null,8,nt)]),s("div",it,[s("p",rt,e(n.goods_name),1),s("span",pt,e(n.sku_name),1),n.sku_no?(a(),i("span",dt,e(l(o)("商品编号"))+": "+e(n.sku_no),1)):d("",!0)])])]),_:1},8,["label"]),r(N,{label:l(o)("price"),"min-width":"50",align:"left"},{default:p(({row:n})=>[s("div",ct,[t.value.activity_type=="exchange"?(a(),i("span",_t,[M(e(n.extend.point)+e(l(o)("point"))+" ",1),parseFloat(n.price)?(a(),i("span",ut,"+￥"+e(n.price),1)):d("",!0)])):(a(),i("span",xt,"￥"+e(n.price),1)),s("span",mt,e(n.num)+e(l(o)("piece")),1)])]),_:1},8,["label"]),r(N,{prop:"num",label:l(o)("num"),"min-width":"50",align:"right"},null,8,["label"])]),_:1},8,["data"]),s("div",vt,[s("div",ft,[s("div",ht,[s("div",yt,e(l(o)("goodsMoney")),1),s("div",bt,[t.value.activity_type=="exchange"?(a(),i("span",gt,[M(e(t.value.point)+e(l(o)("point"))+" ",1),parseFloat(t.value.goods_money)?(a(),i("span",kt,"+￥"+e(t.value.goods_money),1)):d("",!0)])):(a(),i("span",wt,"￥"+e(t.value.goods_money),1))])]),s("div",Dt,[s("div",Ft,e(l(o)("discountMoney")),1),s("div",Ct,e(t.value.discount_money),1)]),s("div",Tt,[s("div",Et,e(l(o)("deliveryMoney")),1),s("div",Nt,e(t.value.delivery_money),1)]),s("div",Bt,[s("div",Mt,e(l(o)("orderMoney")),1),s("div",At,[t.value.activity_type=="exchange"?(a(),i("span",St,[M(e(t.value.point)+e(l(o)("point"))+" ",1),parseFloat(t.value.order_money)?(a(),i("span",$t,"+￥"+e(t.value.order_money),1)):d("",!0)])):(a(),i("span",It,"￥"+e(t.value.order_money),1))])])])]),t.value.order_log.length>0?(a(),i("h3",jt,e(l(o)("operateLog")),1)):d("",!0),t.value.order_log.length>0?(a(),i("div",Lt,[(a(!0),i(B,null,S(t.value.order_log,(n,h)=>(a(),i("div",{class:"flex",key:h},[s("div",Pt,[s("div",Rt,e(n.create_time&&n.create_time.split(" ")[0]),1),s("div",Ot,e(n.create_time&&n.create_time.split(" ")[1]),1)]),s("div",null,[Vt,h+1!=t.value.order_log.length?(a(),i("div",qt)):d("",!0)]),s("div",null,[s("div",zt,e(n.main_type_name)+e(n.main_name),1),s("div",Gt,[s("span",null,e(n.type_name),1),s("span",Ht,e(n.content),1)])])]))),128))])):d("",!0)]),_:1})):d("",!0),!f.value&&!t.value?(a(),y(T,{key:1,class:"box-card !border-none relative",shadow:"never"},{default:p(()=>[r(J,{description:l(o)("orderInfoEmpty")},null,8,["description"])]),_:1})):d("",!0)]),_:1},8,["model"])),[[U,f.value]]),r(ke,{ref_key:"orderAdjustMoneyActionDialog",ref:k,onComplete:_[1]||(_[1]=n=>v(l(x)))},null,512),r(ye,{ref_key:"deliveryActionDialog",ref:w,onComplete:_[2]||(_[2]=n=>v(l(x)))},null,512),r(be,{ref_key:"orderNotesDialog",ref:D,onComplete:_[3]||(_[3]=n=>v(l(x)))},null,512),r(ge,{ref_key:"packageDialog",ref:F},null,512),r(we,{ref_key:"electronicSheetPrintDialog",ref:C,onComplete:u.loadOrderList},null,8,["onComplete"])])}}});const Ss=De(Qt,[["__scopeId","data-v-439696fe"]]);export{Ss as default};
