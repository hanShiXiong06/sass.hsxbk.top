import{d as $,x as L,f as R,n as j,r as w,h as d,c,e as a,w as n,a as m,t as i,u as l,q as r,F as P,T as V,s as C,i as _,R as H,A as E,K as I,L as q,ac as A,aD as K,bO as W,E as G,M as J,a7 as Q,ad as X,ae as Z,W as ee,Y as te}from"./index-99f00cf3.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                *//* empty css                  *//* empty css                       */import"./el-form-item-4ed993c7.js";import{_ as ae}from"./member_head-d9fd7b2c.js";import{B as le,C as re}from"./vipcard-cf1e419a.js";const oe={class:"main-container"},ne={class:"flex justify-between items-center"},se={class:"text-page-title"},ie={class:"mt-[10px]"},de=["src"],me={key:1,class:"w-[50px] h-[50px] mr-[10px]",src:"",alt:""},pe=["title"],ce=["onClick"],ue=["src"],_e={key:1,class:"w-[50px] h-[50px] mr-[10px] rounded-full",src:ae,alt:""},fe={class:"flex flex flex-col"},he={class:"mt-[16px] flex justify-end"},$e=$({__name:"order",setup(ge){const D=L(),S=R(),Y=D.meta.title,t=j({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{order_no:"",order_status:"",create_time:[],pay_time:[]}}),b=w(),h=(u=1)=>{t.loading=!0,t.page=u,le({page:t.page,limit:t.limit,...t.searchParam}).then(o=>{t.loading=!1,t.data=o.data.data,t.total=o.data.total}).catch(()=>{t.loading=!1})};h();const v=w([]);(()=>{re().then(u=>{v.value=u.data}).catch(()=>{})})();const T=u=>{S.push(`/vipcard/order/detail?order_id=${u.order_id}`)};return(u,o)=>{const F=I,f=q,x=A,M=K,y=W,g=G,N=J,k=Q,p=X,O=Z,z=ee,B=te;return d(),c("div",oe,[a(k,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[m("div",ne,[m("span",se,i(l(Y)),1)]),a(k,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:n(()=>[a(N,{inline:!0,model:t.searchParam,ref_key:"searchFormRef",ref:b},{default:n(()=>[a(f,{label:l(r)("orderNo"),prop:"order_no"},{default:n(()=>[a(F,{modelValue:t.searchParam.order_no,"onUpdate:modelValue":o[0]||(o[0]=e=>t.searchParam.order_no=e),placeholder:l(r)("orderNoPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(f,{label:l(r)("orderStatus"),prop:"order_status"},{default:n(()=>[a(M,{modelValue:t.searchParam.order_status,"onUpdate:modelValue":o[1]||(o[1]=e=>t.searchParam.order_status=e),clearable:"",class:"input-width"},{default:n(()=>[a(x,{label:l(r)("selectPlaceholder"),value:""},null,8,["label"]),(d(!0),c(P,null,V(v.value,(e,s)=>(d(),C(x,{label:e.name,value:s,key:s},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),a(f,{label:l(r)("createTime"),prop:"create_time"},{default:n(()=>[a(y,{modelValue:t.searchParam.create_time,"onUpdate:modelValue":o[2]||(o[2]=e=>t.searchParam.create_time=e),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":l(r)("startDate"),"end-placeholder":l(r)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),a(f,{label:l(r)("payTime"),prop:"pay_time"},{default:n(()=>[a(y,{modelValue:t.searchParam.pay_time,"onUpdate:modelValue":o[3]||(o[3]=e=>t.searchParam.pay_time=e),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":l(r)("startDate"),"end-placeholder":l(r)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),a(f,null,{default:n(()=>[a(g,{type:"primary",onClick:o[4]||(o[4]=e=>h())},{default:n(()=>[_(i(l(r)("search")),1)]),_:1}),a(g,{onClick:o[5]||(o[5]=e=>{var s;return(s=b.value)==null?void 0:s.resetFields()})},{default:n(()=>[_(i(l(r)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),m("div",ie,[H((d(),C(O,{data:t.data,size:"large"},{empty:n(()=>[m("span",null,i(t.loading?"":l(r)("emptyData")),1)]),default:n(()=>[a(p,{prop:"order_no",label:l(r)("orderNo"),align:"left","min-width":"240"},null,8,["label"]),a(p,{"show-overflow-tooltip":!0,label:l(r)("goodsInfo"),align:"left","min-width":"200"},{default:n(({row:e})=>[(d(!0),c(P,null,V(e.item,(s,U)=>(d(),c("div",{class:"flex items-center cursor-pointer",key:U},[s.item_image_thumb_small?(d(),c("img",{key:0,class:"w-[50px] h-[50px] mr-[10px]",src:l(E)(s.item_image_thumb_small),alt:""},null,8,de)):(d(),c("img",me)),m("a",{href:"javascript:;",class:"flex-1 multi-hidden ml-2",title:s.item_name},i(s.item_name),9,pe)]))),128))]),_:1},8,["label"]),a(p,{label:l(r)("orderMoney"),"min-width":"180",align:"center"},{default:n(({row:e})=>[_(i(e.order_money),1)]),_:1},8,["label"]),a(p,{prop:"order_from_name",label:l(r)("orderSource"),align:"center","min-width":"200"},null,8,["label"]),a(p,{"show-overflow-tooltip":!0,label:l(r)("memberInfo"),align:"left","min-width":"200"},{default:n(({row:e})=>[m("div",{class:"flex items-center cursor-pointer",onClick:s=>u.toMember(e.member.member_id)},[e.member.headimg?(d(),c("img",{key:0,class:"w-[50px] h-[50px] mr-[10px]",src:l(E)(e.member.headimg),alt:""},null,8,ue)):(d(),c("img",_e)),m("div",fe,[m("span",null,i(e.member.nickname||""),1),m("span",null,i(e.member.mobile||""),1)])],8,ce)]),_:1},8,["label"]),a(p,{label:l(r)("createTime"),"min-width":"180",align:"center"},{default:n(({row:e})=>[_(i(e.create_time||""),1)]),_:1},8,["label"]),a(p,{label:l(r)("orderStatus"),"min-width":"180",align:"center"},{default:n(({row:e})=>[_(i(e.order_status_info.name),1)]),_:1},8,["label"]),a(p,{label:l(r)("operation"),fixed:"right",width:"130",align:"right"},{default:n(({row:e})=>[a(g,{type:"primary",link:"",onClick:s=>T(e)},{default:n(()=>[_(i(l(r)("info")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[B,t.loading]]),m("div",he,[a(z,{"current-page":t.page,"onUpdate:current-page":o[6]||(o[6]=e=>t.page=e),"page-size":t.limit,"onUpdate:page-size":o[7]||(o[7]=e=>t.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:o[8]||(o[8]=e=>h()),onCurrentChange:h},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{$e as default};
