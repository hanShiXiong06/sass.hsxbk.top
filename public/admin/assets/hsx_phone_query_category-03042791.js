import{d as N,x as U,n as q,r as v,h as d,c as y,e as a,w as r,a as h,t as s,u as e,i as f,q as o,F as k,T as E,s as D,R,B as j,a5 as S,E as M,ac as K,aD as O,L as W,K as Y,M as A,a7 as G,ad as J,ae as X,W as Z,Y as ee}from"./index-99f00cf3.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{u as te}from"./dict-1df0bad2.js";import{_ as ae,g as oe,d as le}from"./hsx-phone-query-category-edit.vue_vue_type_style_index_0_lang-e2bee86d.js";import{_ as ne}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   */const re={class:"main-container"},ie={class:"flex justify-between items-center"},se={class:"text-lg"},pe={class:"mt-[10px]"},de={key:0},me={class:"mt-[16px] flex justify-end"},ce=N({__name:"hsx_phone_query_category",setup(ue){const V=U().meta.title;let t=q({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{type_id:"",name:"",price:""}});const x=v();v([]);const b=v([]);(async()=>{b.value=await(await te("phone_type")).data.dictionary})();const p=(i=1)=>{t.loading=!0,t.page=i,oe({page:t.page,limit:t.limit,...t.searchParam}).then(n=>{t.loading=!1,t.data=n.data.data,t.total=n.data.total}).catch(()=>{t.loading=!1})};p();const c=v(null),F=()=>{c.value.setFormData(),c.value.showDialog=!0},B=i=>{c.value.setFormData(i),c.value.showDialog=!0},L=i=>{S.confirm(o("hsxPhoneQueryCategoryDeleteTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{le(i).then(()=>{p()}).catch(()=>{})})},Q=i=>{i&&(i.resetFields(),p())};return(i,n)=>{const u=M,w=K,T=O,g=W,C=Y,z=A,P=G,_=J,H=X,I=Z,$=ee;return d(),y("div",re,[a(P,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[h("div",ie,[h("span",se,s(e(V)),1),a(u,{type:"primary",onClick:F},{default:r(()=>[f(s(e(o)("addHsxPhoneQueryCategory")),1)]),_:1})]),a(P,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:r(()=>[a(z,{inline:!0,model:e(t).searchParam,ref_key:"searchFormRef",ref:x},{default:r(()=>[a(g,{label:e(o)("typeId"),prop:"type_id"},{default:r(()=>[a(T,{class:"w-[280px]",modelValue:e(t).searchParam.type_id,"onUpdate:modelValue":n[0]||(n[0]=l=>e(t).searchParam.type_id=l),clearable:"",placeholder:e(o)("typeIdPlaceholder")},{default:r(()=>[a(w,{label:"全部",value:""}),(d(!0),y(k,null,E(b.value,(l,m)=>(d(),D(w,{key:m,label:l.name,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a(g,{label:e(o)("name"),prop:"name"},{default:r(()=>[a(C,{modelValue:e(t).searchParam.name,"onUpdate:modelValue":n[1]||(n[1]=l=>e(t).searchParam.name=l),placeholder:e(o)("namePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(g,{label:e(o)("price"),prop:"price"},{default:r(()=>[a(C,{modelValue:e(t).searchParam.price,"onUpdate:modelValue":n[2]||(n[2]=l=>e(t).searchParam.price=l),placeholder:e(o)("pricePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(g,null,{default:r(()=>[a(u,{type:"primary",onClick:n[3]||(n[3]=l=>p())},{default:r(()=>[f(s(e(o)("search")),1)]),_:1}),a(u,{onClick:n[4]||(n[4]=l=>Q(x.value))},{default:r(()=>[f(s(e(o)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),h("div",pe,[R((d(),D(H,{data:e(t).data,size:"large"},{empty:r(()=>[h("span",null,s(e(t).loading?"":e(o)("emptyData")),1)]),default:r(()=>[a(_,{prop:"id",label:e(o)("id"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),a(_,{label:e(o)("typeId"),"min-width":"180",align:"center","show-overflow-tooltip":!0},{default:r(({row:l})=>[(d(!0),y(k,null,E(b.value,(m,he)=>(d(),y("div",null,[m.value==l.type_id?(d(),y("div",de,s(m.name),1)):j("",!0)]))),256))]),_:1},8,["label"]),a(_,{prop:"name",label:e(o)("name"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),a(_,{prop:"price",label:e(o)("price"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),a(_,{label:e(o)("operation"),fixed:"right","min-width":"120"},{default:r(({row:l})=>[a(u,{type:"primary",link:"",onClick:m=>B(l)},{default:r(()=>[f(s(e(o)("edit")),1)]),_:2},1032,["onClick"]),a(u,{type:"primary",link:"",onClick:m=>L(l.site_id)},{default:r(()=>[f(s(e(o)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[$,e(t).loading]]),h("div",me,[a(I,{"current-page":e(t).page,"onUpdate:current-page":n[5]||(n[5]=l=>e(t).page=l),"page-size":e(t).limit,"onUpdate:page-size":n[6]||(n[6]=l=>e(t).limit=l),layout:"total, sizes, prev, pager, next, jumper",total:e(t).total,onSizeChange:n[7]||(n[7]=l=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])]),a(ae,{ref_key:"editHsxPhoneQueryCategoryDialog",ref:c,onComplete:p},null,512)]),_:1})])}}});const Ue=ne(ce,[["__scopeId","data-v-951ffb28"]]);export{Ue as default};
