import{O as n,d as F,r as c,n as R,l as $,h as v,s as y,w as s,a as b,e as d,i as k,t as w,u,q as m,R as B,K as C,L as G,M as N,E as I,X as L,Y as q}from"./index-6f32d09b.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */function Q(t){return n.get("shop_giftcard/order",{params:t})}function W(t){return n.get(`shop_giftcard/order/${t}`)}function T(t){return n.put(`shop_giftcard/order/remark/${t.order_id}`,t,{showErrorMessage:!0,showSuccessMessage:!0})}function Z(t){return n.put(`shop_giftcard/order/close/${t}`,{showErrorMessage:!0,showSuccessMessage:!0})}function ee(){return n.get("shop_giftcard/order/status")}function te(){return n.get("shop_giftcard/order/pay/type")}const U={class:"dialog-footer"},oe=F({__name:"order-notes",emits:["complete"],setup(t,{expose:V,emit:x}){const l=c(!1),o=c(!1),p={order_id:0,shop_remark:""},r=R({...p}),f=c(),D=$(()=>({})),O=async a=>{o.value||!a||await a.validate(async e=>{e&&(o.value=!0,T(r).then(g=>{o.value=!1,l.value=!1,x("complete")}).catch(()=>{o.value=!1}))})};return V({showDialog:l,setFormData:async(a=null)=>{Object.assign(r,p),o.value=!0,a&&(r.order_id=a.order_id,r.shop_remark=a.shop_remark),o.value=!1}}),(a,e)=>{const _=C,g=G,S=N,h=I,E=L,M=q;return v(),y(E,{modelValue:l.value,"onUpdate:modelValue":e[3]||(e[3]=i=>l.value=i),title:u(m)("notes"),width:"460px",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:s(()=>[b("span",U,[d(h,{onClick:e[1]||(e[1]=i=>l.value=!1)},{default:s(()=>[k(w(u(m)("cancel")),1)]),_:1}),d(h,{type:"primary",loading:o.value,onClick:e[2]||(e[2]=i=>O(f.value))},{default:s(()=>[k(w(u(m)("confirm")),1)]),_:1},8,["loading"])])]),default:s(()=>[B((v(),y(S,{model:r,ref_key:"formRef",ref:f,rules:u(D),class:"page-form notes-form"},{default:s(()=>[d(g,{class:"mb-0"},{default:s(()=>[d(_,{modelValue:r.shop_remark,"onUpdate:modelValue":e[0]||(e[0]=i=>r.shop_remark=i),modelModifiers:{trim:!0},rows:5,type:"textarea",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[M,o.value]])]),_:1},8,["modelValue","title"])}}});export{oe as _,ee as a,te as b,Z as c,Q as d,W as g};
