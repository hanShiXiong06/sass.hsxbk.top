import{d as B,r as N,n as R,a2 as j,h,c as F,R as m,a0 as f,u as l,a as p,e as t,w as n,i as b,v as L,t as C,q as u,s as M,b as $,F as A,au as O,av as q,L as G,a1 as K,M as W,K as X,ad as Y,E as H,ae as J,W as Q,X as Z,bv as ee,Y as te}from"./index-99f00cf3.js";/* empty css                   *//* empty css                        *//* empty css                 *//* empty css                  *//* empty css                  *//* empty css                   *//* empty css                      *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 */import{u as oe}from"./diy-c8337ab9.js";import{g as le}from"./poster-a2e7062d.js";const ae={class:"content-wrap"},ne={class:"edit-attr-item-wrap"},ie=p("h3",{class:"mb-[10px]"},"海报设置",-1),se=p("h3",{class:"mb-[10px]"},"文本内容",-1),pe={class:"mt-[16px] flex justify-end"},de={class:"style-wrap"},re={class:"edit-attr-item-wrap"},me=p("h3",{class:"mb-[10px]"},"文本样式",-1),ue=B({__name:"poster",setup(_e,{expose:V}){const o=oe();o.editComponent.ignore=[],o.editComponent.verify=s=>{const e={code:!0,message:""};return o.value[s].sources==="diy"&&!o.value[s].posterId&&(e.code=!1,e.message="请选择海报"),e};const r=N(!1),w=()=>{r.value=!0},i=R({page:1,limit:10,total:0,loading:!0,data:[]}),_=(s=1)=>{i.loading=!0,i.page=s,le({page:i.page,limit:i.limit,type:"ttn_fenxiao"}).then(e=>{i.loading=!1,i.data=e.data.data,i.total=e.data.total}).catch(()=>{i.loading=!1})};_();const E=s=>{o.editComponent.posterName=s.type_name+"-"+s.name,o.editComponent.type=s.type,o.editComponent.posterId=s.id,r.value=!1};return V({}),(s,e)=>{const v=O,k=q,d=G,z=j("ArrowRight"),P=K,c=W,x=X,g=Y,S=H,U=J,D=Q,T=Z,y=ee,I=te;return h(),F(A,null,[m(p("div",ae,[p("div",ne,[ie,t(c,{"label-width":"80px",class:"px-[10px]"},{default:n(()=>[t(d,{label:"落地页"},{default:n(()=>[t(k,{modelValue:l(o).editComponent.page,"onUpdate:modelValue":e[0]||(e[0]=a=>l(o).editComponent.page=a)},{default:n(()=>[t(v,{label:""},{default:n(()=>[b("首页")]),_:1}),t(v,{label:"member"},{default:n(()=>[b("个人中心")]),_:1})]),_:1},8,["modelValue"])]),_:1}),m(t(d,{label:"海报",class:"flex"},{default:n(()=>[p("span",{onClick:w,class:L(["cursor-pointer flex-1",{"text-primary":l(o).editComponent.posterId}])},C(l(o).editComponent.posterName||l(u)("selectPlaceholder")),3),t(P,null,{default:n(()=>[t(z)]),_:1})]),_:1},512),[[f,l(o).editComponent.sources=="diy"]])]),_:1}),se,t(c,{"label-width":"80px",class:"px-[10px]"},{default:n(()=>[t(d,{label:"宣传语"},{default:n(()=>[t(x,{modelValue:l(o).editComponent.text,"onUpdate:modelValue":e[1]||(e[1]=a=>l(o).editComponent.text=a),modelModifiers:{trim:!0},placeholder:"邀请好友一起赚钱，好友推广你也有收益",clearable:"",maxlength:"19","show-word-limit":""},null,8,["modelValue"])]),_:1}),t(d,{label:"提示语"},{default:n(()=>[t(x,{modelValue:l(o).editComponent.tip,"onUpdate:modelValue":e[2]||(e[2]=a=>l(o).editComponent.tip=a),modelModifiers:{trim:!0},placeholder:"马上推广",clearable:"",maxlength:"25","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1})]),t(T,{modelValue:r.value,"onUpdate:modelValue":e[6]||(e[6]=a=>r.value=a),title:"海报选择",width:"60%","close-on-press-escape":!1,"close-on-click-modal":!1},{default:n(()=>[p("div",null,[m((h(),M(U,{data:i.data,size:"large"},{empty:n(()=>[p("span",null,C(i.loading?"":l(u)("emptyData")),1)]),default:n(()=>[t(g,{prop:"name",label:"海报名称","min-width":"120"}),t(g,{prop:"type_name",label:"海报类型","min-width":"80"}),t(g,{label:l(u)("operation"),fixed:"right",align:"right","min-width":"160"},{default:n(({row:a})=>[t(S,{type:"primary",onClick:ce=>E(a)},{default:n(()=>[b(C(l(u)("confirm")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[I,i.loading]]),p("div",pe,[t(D,{"current-page":i.page,"onUpdate:current-page":e[3]||(e[3]=a=>i.page=a),"page-size":i.limit,"onUpdate:page-size":e[4]||(e[4]=a=>i.limit=a),layout:"total, sizes, prev, pager, next, jumper",total:i.total,onSizeChange:e[5]||(e[5]=a=>_()),onCurrentChange:_},null,8,["current-page","page-size","total"])])])]),_:1},8,["modelValue"])],512),[[f,l(o).editTab=="content"]]),m(p("div",de,[p("div",re,[me,t(c,{"label-width":"90px",class:"px-[10px]"},{default:n(()=>[t(d,{label:"宣传语颜色"},{default:n(()=>[t(y,{modelValue:l(o).editComponent.textColor,"onUpdate:modelValue":e[7]||(e[7]=a=>l(o).editComponent.textColor=a)},null,8,["modelValue"])]),_:1}),t(d,{label:"提示语颜色"},{default:n(()=>[t(y,{modelValue:l(o).editComponent.tipColor,"onUpdate:modelValue":e[8]||(e[8]=a=>l(o).editComponent.tipColor=a)},null,8,["modelValue"])]),_:1})]),_:1})]),$(s.$slots,"style")],512),[[f,l(o).editTab=="style"]])],64)}}});const Fe=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));export{Fe as _};
