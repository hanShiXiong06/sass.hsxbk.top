import{d as J,x as K,f as Q,r as m,h as l,c as n,a as e,u as a,t,q as o,R as U,s as h,w as d,e as r,B as c,F as T,T as A,A as W,i as E,a4 as I,L as X,aM as Z,aN as ee,ab as te,ac as se,a6 as oe,a9 as ae,M as le,Y as ie,p as ne,g as re}from"./index-6ea097a6.js";/* empty css                   *//* empty css                     *//* empty css                 *//* empty css                *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                        *//* empty css               *//* empty css               *//* empty css               */import{p as de,q as ce,r as _e}from"./order-d7ffe8c0.js";import{_ as pe}from"./delivery-action.vue_vue_type_style_index_0_lang-96d33a5e.js";import{_ as ue}from"./order-notes.vue_vue_type_style_index_0_lang-fcb3ad91.js";import{_ as xe}from"./delivery-package.vue_vue_type_style_index_0_lang-8f434fbc.js";import{_ as me}from"./adjust-money.vue_vue_type_style_index_0_lang-2be91958.js";import{_ as ve}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   *//* empty css                  *//* empty css                 *//* empty css                  *//* empty css                  *//* empty css                       *//* empty css                 *//* empty css                 */import"./delivery-057b70d4.js";import"./weapp-d2a52090.js";const N=y=>(ne("data-v-5fceab12"),y=y(),re(),y),fe={class:"main-container"},he={class:"detail-head"},ye=N(()=>e("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1)),be={class:"ml-[1px]"},ge=N(()=>e("span",{class:"adorn"},"|",-1)),ke={class:"right"},we={class:"panel-title"},De={class:"input-width"},Fe={class:"input-width"},Ce={class:"input-width"},Te={class:"input-width"},Ee={class:"input-width"},Ne={key:0},Be={class:"input-width"},Me={class:"input-width"},Ae={class:"input-width"},Ie={key:1},$e={class:"input-width"},je={class:"input-width"},Re={class:"input-width"},Se={class:"input-width"},Le={class:"input-width line-feed"},Ve={class:"input-width line-feed"},qe={class:"panel-title"},Pe={class:"mb-[20px]"},ze={class:"ml-[30px] text-[14px] mr-[20px]"},Oe={class:"text-[14px]"},Ye={class:"flex mt-[10px]"},Ge={key:4,class:"flex"},He=["onClick"],Je={class:"flex ml-[30px] mt-[15px]"},Ke={class:"text-[14px] text-[#ff7f5b]"},Qe={class:"ml-[10px]"},Ue={class:"text-[14px] text-[#a4a4a4]"},We={class:"text-[14px] text-[#a4a4a4]"},Xe={class:"text-[14px] text-[#a4a4a4]"},Ze={class:"panel-title"},et={class:"flex"},tt={class:"flex items-center shrink-0"},st=["src"],ot={class:"flex flex-col"},at={class:"multi-hidden text-[14px]"},lt={class:"text-[12px] text-[#999]"},it={class:"flex flex-col"},nt={key:0},rt={key:0},dt={key:1,class:"text-[13px]"},ct={class:"text-[13px] mt-[5px]"},_t={class:"py-[12px] px-[16px] border-b border-color flex justify-end"},pt={class:"w-[310px] flex flex-col text-right"},ut={class:"flex mb-[10px]"},xt={class:"text-base flex-1"},mt={class:"text-base flex-1 pl-[30px]"},vt={key:0,class:"text-[14px]"},ft={key:0},ht={key:1,class:"text-[14px]"},yt={class:"flex mb-[10px]"},bt={class:"text-base flex-1"},gt={class:"text-base flex-1 pl-[30px]"},kt={class:"flex mb-[10px]"},wt={class:"text-base flex-1"},Dt={class:"text-base flex-1 pl-[30px]"},Ft={class:"flex"},Ct={class:"text-base flex-1"},Tt={class:"text-base flex-1 pl-[30px] text-[red]"},Et={key:0,class:"text-[14px]"},Nt={key:0},Bt={key:1,class:"text-[14px]"},Mt={key:0,class:"mt-[50px] mb-[20px]"},At={key:1,class:"mb-[100px]",style:{"min-height":"100px"}},It={class:"mr-[20px] min-w-[71px]"},$t={class:"leading-[1] w-full text-[14px] w-[100px] flex justify-end"},jt={class:"leading-[1] w-full text-[14px] w-[100px] flex justify-end mt-[15px]"},Rt=N(()=>e("div",{class:"w-[16px] h-[16px] flex items-center bg-[#D1EBFF] border-[1px] border-[#0091FF] rounded-[999px]"},[e("div",{class:"w-[8px] h-[8px] mx-auto bg-[#0091FF] rounded-[999px]"})],-1)),St={key:0,class:"w-[2px] h-[50px] bg-[#D1EBFF] mx-auto"},Lt={class:"leading-[1] ml-[20px] text-[14px]"},Vt={class:"leading-[1] ml-[20px] text-[14px] mt-[15px]"},qt=J({__name:"detail",setup(y){const B=K(),$=Q(),j=B.meta.title,u=parseInt(B.query.order_id),v=m(!0),s=m(null),x=async(b=0)=>{v.value=!0,s.value=null,await de(b).then(({data:p})=>{s.value=p}).catch(()=>{}),v.value=!1};u?x(u):v.value=!1;const R=()=>{I.confirm(o("orderCloseTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{ce(u).then(()=>{x(u)})})},g=m(null),S=()=>{g.value.setFormData(s.value),g.value.showDialog=!0},k=m(null),L=()=>{k.value.setFormData(s.value),k.value.showDialog=!0},w=m(null),V=()=>{w.value.setFormData(s.value),w.value.showDialog=!0},q=()=>{I.confirm(o("orderFinishTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{_e(u).then(()=>{x(u)})})},D=m(null),P=(b,p)=>{D.value.setFormData(b,p),D.value.showDialog=!0};return(b,p)=>{const _=X,F=Z,z=ee,C=te,O=se,M=oe,Y=ae,G=le,H=ie;return l(),n("div",fe,[e("div",he,[e("div",{class:"left",onClick:p[0]||(p[0]=i=>a($).push({path:"/shop/order/index"}))},[ye,e("span",be,t(a(o)("returnToPreviousPage")),1)]),ge,e("span",ke,t(a(j)),1)]),U((l(),h(G,{model:s.value,"label-width":"100px",ref:"formRef",class:"page-form","label-position":"left"},{default:d(()=>[s.value?(l(),h(M,{key:0,class:"box-card !border-none relative",shadow:"never"},{default:d(()=>[e("h3",we,t(a(o)("orderInfo")),1),r(z,{class:"row-bg px-[30px] mb-[20px]",gutter:20},{default:d(()=>[r(F,{span:8},{default:d(()=>[r(_,{label:a(o)("orderNo")},{default:d(()=>[e("div",De,t(s.value.order_no),1)]),_:1},8,["label"]),r(_,{label:a(o)("orderForm")},{default:d(()=>[e("div",Fe,t(s.value.order_from_name),1)]),_:1},8,["label"]),s.value.out_trade_no?(l(),h(_,{key:0,label:a(o)("outTradeNo")},{default:d(()=>[e("div",Ce,t(s.value.out_trade_no),1)]),_:1},8,["label"])):c("",!0),s.value.pay?(l(),h(_,{key:1,label:a(o)("payType")},{default:d(()=>[e("div",Te,t(s.value.pay.type_name),1)]),_:1},8,["label"])):c("",!0)]),_:1}),r(F,{span:8},{default:d(()=>[r(_,{label:a(o)("deliveryType")},{default:d(()=>[e("div",Ee,t(s.value.delivery_type_name),1)]),_:1},8,["label"]),s.value.delivery_type=="express"||s.value.delivery_type=="local_delivery"?(l(),n("div",Ne,[r(_,{label:a(o)("takerName")},{default:d(()=>[e("div",Be,t(s.value.taker_name),1)]),_:1},8,["label"]),r(_,{label:a(o)("takerMobile")},{default:d(()=>[e("div",Me,t(s.value.taker_mobile),1)]),_:1},8,["label"]),r(_,{label:a(o)("takerFullAddress")},{default:d(()=>[e("div",Ae,t(s.value.taker_full_address),1)]),_:1},8,["label"])])):c("",!0),s.value.delivery_type=="store"?(l(),n("div",Ie,[r(_,{label:a(o)("storeName")},{default:d(()=>[e("div",$e,t(s.value.store.store_name),1)]),_:1},8,["label"]),r(_,{label:a(o)("storeAddress")},{default:d(()=>[e("div",je,t(s.value.store.full_address),1)]),_:1},8,["label"]),r(_,{label:a(o)("storeMobile")},{default:d(()=>[e("div",Re,t(s.value.store.store_mobile),1)]),_:1},8,["label"]),r(_,{label:a(o)("tradeTime")},{default:d(()=>[e("div",Se,t(s.value.store.trade_time),1)]),_:1},8,["label"])])):c("",!0)]),_:1}),r(F,{span:8},{default:d(()=>[r(_,{label:a(o)("memberRemark")},{default:d(()=>[e("div",Le,t(s.value.member_remark??"--"),1)]),_:1},8,["label"]),r(_,{label:a(o)("notes")},{default:d(()=>[e("div",Ve,t(s.value.shop_remark??"--"),1)]),_:1},8,["label"])]),_:1})]),_:1}),e("h3",qe,t(a(o)("orderStatus")),1),e("div",Pe,[e("p",null,[e("span",ze,t(a(o)("orderStatus"))+"：",1),e("span",Oe,t(s.value.status_name.name),1)]),e("div",Ye,[e("span",{class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#ff7f5b] bg-[#fff0e5] cursor-pointer",onClick:V},t(a(o)("notes")),1),s.value.status==2?(l(),n("span",{key:0,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:L},t(a(o)("delivery")),1)):c("",!0),s.value.status==1?(l(),n("span",{key:1,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:R},t(a(o)("close")),1)):c("",!0),s.value.status==1?(l(),n("span",{key:2,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:S},t(a(o)("editPrice")),1)):c("",!0),s.value.status==3?(l(),n("span",{key:3,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:q},t(a(o)("finish")),1)):c("",!0),s.value.order_delivery?(l(),n("div",Ge,[(l(!0),n(T,null,A(s.value.order_delivery,(i,f)=>(l(),n(T,{key:f},[i.delivery_type=="express"&&i.sub_delivery_type=="express"?(l(),n("span",{key:0,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#ff7f5b] bg-[#fff0e5] cursor-pointer",onClick:Pt=>P(i.id,s.value.taker_mobile)},t(a(o)("package"))+t(f+1),9,He)):c("",!0)],64))),128))])):c("",!0)]),e("div",Je,[e("span",Ke,t(a(o)("remind"))+"：",1),e("div",Qe,[e("p",Ue,t(a(o)("remindTips1")),1),e("p",We,t(a(o)("remindTips2")),1),e("p",Xe,t(a(o)("remindTips3")),1)])])]),e("h3",Ze,t(a(o)("goodsDetail")),1),r(O,{data:s.value.order_goods,size:"large"},{default:d(()=>[r(C,{label:a(o)("goodsName"),align:"left",width:"300"},{default:d(({row:i})=>[e("div",et,[e("div",tt,[e("img",{class:"w-[50px] h-[50px] mr-[10px]",src:a(W)(i.goods_image)},null,8,st)]),e("div",ot,[e("p",at,t(i.goods_name),1),e("span",lt,t(i.sku_name),1)])])]),_:1},8,["label"]),r(C,{label:a(o)("price"),"min-width":"50",align:"left"},{default:d(({row:i})=>[e("div",it,[s.value.activity_type=="exchange"?(l(),n("span",nt,[E(t(i.extend.point)+t(a(o)("point"))+" ",1),parseFloat(i.price)?(l(),n("span",rt,"+￥"+t(i.price),1)):c("",!0)])):(l(),n("span",dt,"￥"+t(i.price),1)),e("span",ct,t(i.num)+t(a(o)("piece")),1)])]),_:1},8,["label"]),r(C,{prop:"num",label:a(o)("num"),"min-width":"50",align:"right"},null,8,["label"])]),_:1},8,["data"]),e("div",_t,[e("div",pt,[e("div",ut,[e("div",xt,t(a(o)("goodsMoney")),1),e("div",mt,[s.value.activity_type=="exchange"?(l(),n("span",vt,[E(t(s.value.point)+t(a(o)("point"))+" ",1),parseFloat(s.value.goods_money)?(l(),n("span",ft,"+￥"+t(s.value.goods_money),1)):c("",!0)])):(l(),n("span",ht,"￥"+t(s.value.goods_money),1))])]),e("div",yt,[e("div",bt,t(a(o)("discountMoney")),1),e("div",gt,t(s.value.discount_money),1)]),e("div",kt,[e("div",wt,t(a(o)("deliveryMoney")),1),e("div",Dt,t(s.value.delivery_money),1)]),e("div",Ft,[e("div",Ct,t(a(o)("orderMoney")),1),e("div",Tt,[s.value.activity_type=="exchange"?(l(),n("span",Et,[E(t(s.value.point)+t(a(o)("point"))+" ",1),parseFloat(s.value.order_money)?(l(),n("span",Nt,"+￥"+t(s.value.order_money),1)):c("",!0)])):(l(),n("span",Bt,"￥"+t(s.value.order_money),1))])])])]),s.value.order_log.length>0?(l(),n("h3",Mt,t(a(o)("operateLog")),1)):c("",!0),s.value.order_log.length>0?(l(),n("div",At,[(l(!0),n(T,null,A(s.value.order_log,(i,f)=>(l(),n("div",{class:"flex",key:f},[e("div",It,[e("div",$t,t(i.create_time&&i.create_time.split(" ")[0]),1),e("div",jt,t(i.create_time&&i.create_time.split(" ")[1]),1)]),e("div",null,[Rt,f+1!=s.value.order_log.length?(l(),n("div",St)):c("",!0)]),e("div",null,[e("div",Lt,t(i.main_type_name)+t(i.main_name),1),e("div",Vt,t(i.type_name),1)])]))),128))])):c("",!0)]),_:1})):c("",!0),!v.value&&!s.value?(l(),h(M,{key:1,class:"box-card !border-none relative",shadow:"never"},{default:d(()=>[r(Y,{description:a(o)("orderInfoEmpty")},null,8,["description"])]),_:1})):c("",!0)]),_:1},8,["model"])),[[H,v.value]]),r(me,{ref_key:"orderAdjustMoneyActionDialog",ref:g,onComplete:p[1]||(p[1]=i=>x(a(u)))},null,512),r(pe,{ref_key:"deliveryActionDialog",ref:k,onComplete:p[2]||(p[2]=i=>x(a(u)))},null,512),r(ue,{ref_key:"orderNotesDialog",ref:w,onComplete:p[3]||(p[3]=i=>x(a(u)))},null,512),r(xe,{ref_key:"packageDialog",ref:D},null,512)])}}});const ys=ve(qt,[["__scopeId","data-v-5fceab12"]]);export{ys as default};
