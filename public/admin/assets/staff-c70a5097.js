import{d as N,x as T,f as $,n as R,r as b,h as y,c as S,e as a,w as n,a as i,u as o,t as d,q as l,i as u,R as j,s as U,a5 as I,E as L,K as q,L as K,M as W,a7 as Y,ac as A,ad as G,W as H,Y as J}from"./index-a3bdc7eb.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{_ as O}from"./delivery-personnel-edit.vue_vue_type_style_index_0_lang-b22e5107.js";import{o as Q,p as X}from"./delivery-a373b4ea.js";/* empty css                  *//* empty css                   */const Z={class:"main-container"},ee={class:"flex justify-between items-center"},te={class:"detail-head !m-0"},ae=i("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),le={class:"ml-[1px]"},oe=i("span",{class:"adorn"},"|",-1),re={class:"right"},ne={class:"mt-[10px]"},ie={class:"mt-[16px] flex justify-end"},Be=N({__name:"staff",setup(se){const x=T(),C=$(),k=x.meta.title,e=R({page:1,limit:10,total:0,loading:!1,data:[],searchParam:{deliver_name:"",deliver_mobile:""}}),f=b(),m=(s=1)=>{e.loading=!0,e.page=s,Q({page:e.page,limit:e.limit,...e.searchParam}).then(t=>{e.loading=!1,e.data=t.data.data,e.total=t.data.total}).catch(()=>{e.loading=!1})};m();const p=b(null),D=()=>{p.value.setFormData(),p.value.showDialog=!0},E=s=>{p.value.setFormData(s),p.value.showDialog=!0},P=s=>{I.confirm(l("deliverDeleteTips"),l("warning"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning"}).then(()=>{X(s).then(()=>{m()}).catch(()=>{})})},w=s=>{s&&(s.resetFields(),m())};return(s,t)=>{const c=L,g=q,_=K,F=W,h=Y,v=A,V=G,B=H,z=J;return y(),S("div",Z,[a(h,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[i("div",ee,[i("div",te,[i("div",{class:"left",onClick:t[0]||(t[0]=r=>o(C).push("/shop/order/delivery"))},[ae,i("span",le,d(o(l)("returnToPreviousPage")),1)]),oe,i("span",re,d(o(k)),1)]),a(c,{type:"primary",onClick:D},{default:n(()=>[u(d(o(l)("addDeliveryPersonnel")),1)]),_:1})]),a(h,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:n(()=>[a(F,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:f},{default:n(()=>[a(_,{label:o(l)("deliverName"),prop:"deliver_name"},{default:n(()=>[a(g,{modelValue:e.searchParam.deliver_name,"onUpdate:modelValue":t[1]||(t[1]=r=>e.searchParam.deliver_name=r),modelModifiers:{trim:!0},placeholder:o(l)("deliverNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(_,{label:o(l)("deliverMobile"),prop:"deliver_mobile"},{default:n(()=>[a(g,{modelValue:e.searchParam.deliver_mobile,"onUpdate:modelValue":t[2]||(t[2]=r=>e.searchParam.deliver_mobile=r),modelModifiers:{trim:!0},placeholder:o(l)("deliverMobilePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(_,null,{default:n(()=>[a(c,{type:"primary",onClick:t[3]||(t[3]=r=>m())},{default:n(()=>[u(d(o(l)("search")),1)]),_:1}),a(c,{onClick:t[4]||(t[4]=r=>w(f.value))},{default:n(()=>[u(d(o(l)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),i("div",ne,[j((y(),U(V,{data:e.data,ref:"tableRef",size:"large"},{empty:n(()=>[i("span",null,d(e.loading?"":o(l)("emptyData")),1)]),default:n(()=>[a(v,{prop:"deliver_name",label:o(l)("deliverName")},null,8,["label"]),a(v,{prop:"deliver_mobile",label:o(l)("deliverMobile")},null,8,["label"]),a(v,{label:o(l)("operation"),fixed:"right",align:"right",width:"120"},{default:n(({row:r})=>[a(c,{type:"primary",link:"",onClick:M=>E(r)},{default:n(()=>[u(d(o(l)("edit")),1)]),_:2},1032,["onClick"]),a(c,{type:"primary",link:"",onClick:M=>P(r.deliver_id)},{default:n(()=>[u(d(o(l)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[z,e.loading]]),i("div",ie,[a(B,{"current-page":e.page,"onUpdate:current-page":t[5]||(t[5]=r=>e.page=r),"page-size":e.limit,"onUpdate:page-size":t[6]||(t[6]=r=>e.limit=r),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:t[7]||(t[7]=r=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1}),a(O,{ref_key:"editCategoryDialog",ref:p,onComplete:m},null,512)])}}});export{Be as default};
