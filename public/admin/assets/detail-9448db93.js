import{d as L,x as V,f as M,r as k,h as c,c as m,e as s,w as o,u as t,R as O,s as v,a,t as l,q as e,B as f,i as G,a5 as z,aR as A,a7 as H,L as P,aN as Y,aO as j,ad as J,E as K,ae as Q,M as U,Y as W}from"./index-99f00cf3.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                  *//* empty css                        *//* empty css               *//* empty css               *//* empty css               */import"./el-form-item-4ed993c7.js";/* empty css                *//* empty css                   *//* empty css                       */import{_ as X,g as Z,c as ee}from"./order-notes.vue_vue_type_style_index_0_lang-f6004251.js";/* empty css                  *//* empty css                   *//* empty css                 */const te={class:"main-container"},ae={key:0},le={class:"panel-title"},oe={class:"input-width"},se={class:"input-width"},ne={class:"input-width"},ie={class:"input-width"},re={class:"input-width"},de={class:"input-width line-feed"},ce={class:"input-width line-feed"},_e={class:"input-width line-feed"},pe={class:"input-width"},ue={class:"input-width line-feed"},me={class:"input-width line-feed"},fe={class:"panel-title"},he={class:"mb-[20px]"},ve={class:"ml-[30px] text-[14px] mr-[20px]"},be={class:"text-[14px]"},xe={class:"flex mt-[10px]"},we={class:"flex ml-[30px] mt-[15px]"},ye={class:"text-[14px] text-[#ff7f5b]"},ge={class:"ml-[10px]"},ke={class:"text-[14px] text-[#a4a4a4]"},Ce={class:"panel-title"},Ne={class:"text-[14px]"},Ee={key:0},Te={key:1},We=L({__name:"detail",setup(Be){const C=V(),b=M(),N=C.meta.title,u=parseInt(C.query.order_id),h=k(!0),n=k(null),x=async(_=0)=>{h.value=!0,n.value=null,await Z(_).then(({data:r})=>{n.value=r}),h.value=!1};u?x(u):h.value=!1;const w=k(null),E=()=>{w.value.setFormData(n.value),w.value.showDialog=!0},T=()=>{z.confirm(e("orderCloseTips"),e("warning"),{confirmButtonText:e("confirm"),cancelButtonText:e("cancel"),type:"warning"}).then(()=>{ee(u).then(()=>{x(u)})})},B=_=>{const r=b.resolve({path:"/shop_giftcard/giftcard/card_detail",query:{card_id:_.card_id}});window.open(r.href)},D=_=>{const r=b.resolve({path:"/member/detail",query:{id:_}});window.open(r.href)};return(_,r)=>{const R=A,y=H,d=P,g=Y,S=j,p=J,F=K,I=Q,$=U,q=W;return c(),m("div",te,[s(y,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[s(R,{content:t(N),icon:_.ArrowLeft,onBack:r[0]||(r[0]=i=>t(b).push({path:"/shop_giftcard/order/list"}))},null,8,["content","icon"])]),_:1}),O((c(),v($,{model:n.value,"label-width":"100px",ref:"formRef",class:"page-form","label-position":"left"},{default:o(()=>[n.value?(c(),m("div",ae,[s(y,{class:"box-card !border-none relative",shadow:"never"},{default:o(()=>[a("h3",le,l(t(e)("orderInfo")),1),s(S,{class:"row-bg px-[30px] mb-[20px]",gutter:20},{default:o(()=>[s(g,{span:8},{default:o(()=>[s(d,{label:t(e)("orderNo")},{default:o(()=>[a("div",oe,l(n.value.order_no),1)]),_:1},8,["label"]),s(d,{label:t(e)("orderForm")},{default:o(()=>[a("div",se,l(n.value.order_from_name),1)]),_:1},8,["label"]),n.value.out_trade_no?(c(),v(d,{key:0,label:t(e)("outTradeNo")},{default:o(()=>[a("div",ne,l(n.value.out_trade_no),1)]),_:1},8,["label"])):f("",!0),s(d,{label:t(e)("orderStatus")},{default:o(()=>[a("div",ie,l(n.value.status_name),1)]),_:1},8,["label"]),s(d,{label:t(e)("buyInfo")},{default:o(()=>[a("div",{class:"input-width text-primary cursor-pointer",onClick:r[1]||(r[1]=i=>D(n.value.member.member_id))},l(n.value.member.nickname),1)]),_:1},8,["label"]),n.value.pay?(c(),v(d,{key:1,label:t(e)("payType")},{default:o(()=>[a("div",re,l(n.value.pay.type_name),1)]),_:1},8,["label"])):f("",!0)]),_:1}),s(g,{span:8},{default:o(()=>[s(d,{label:t(e)("giftCardName")},{default:o(()=>[a("div",de,l(n.value.body),1)]),_:1},8,["label"]),s(d,{label:t(e)("cardRightType")},{default:o(()=>[a("div",ce,l(n.value.card_right_type_name),1)]),_:1},8,["label"]),s(d,{label:t(e)("giftCardNum")},{default:o(()=>[a("div",_e,l(n.value.num),1)]),_:1},8,["label"])]),_:1}),s(g,{span:8},{default:o(()=>[s(d,{label:t(e)("createTime")},{default:o(()=>[a("div",pe,l(n.value.create_time),1)]),_:1},8,["label"]),s(d,{label:t(e)("memberRemark")},{default:o(()=>[a("div",ue,l(n.value.member_remark??"--"),1)]),_:1},8,["label"]),s(d,{label:t(e)("notes")},{default:o(()=>[a("div",me,l(n.value.shop_remark??"--"),1)]),_:1},8,["label"])]),_:1})]),_:1}),a("h3",fe,l(t(e)("orderStatus")),1),a("div",he,[a("p",null,[a("span",ve,l(t(e)("orderStatus"))+"：",1),a("span",be,l(n.value.status_name),1)]),a("div",xe,[a("span",{class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#ff7f5b] bg-[#fff0e5] cursor-pointer",onClick:E},l(t(e)("notes")),1),n.value.status==1?(c(),m("span",{key:0,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:T},l(t(e)("close")),1)):f("",!0)]),a("div",we,[a("span",ye,l(t(e)("remind"))+"：",1),a("div",ge,[a("p",ke,l(t(e)("remindTips1")),1)])])])]),_:1}),s(y,{class:"box-card !border-none relative",shadow:"never"},{default:o(()=>[a("h3",Ce,l(t(e)("cardListTitle")),1),s(I,{data:n.value.card,size:"large","max-height":"400"},{default:o(()=>[s(p,{label:t(e)("cardNo"),"min-width":"120"},{default:o(({row:i})=>[a("span",Ne,l(i.card_no),1)]),_:1},8,["label"]),n.value.card_right_type=="balance"?(c(),v(p,{key:0,prop:"balance",label:t(e)("cardBalance"),"min-width":"120","show-overflow-tooltip":!0},{default:o(({row:i})=>[a("span",null,"￥"+l(i.balance),1)]),_:1},8,["label"])):f("",!0),s(p,{prop:"status_name",label:t(e)("cardStatus"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),s(p,{prop:"validity_time",label:t(e)("validityTime"),"min-width":"120","show-overflow-tooltip":!0},{default:o(({row:i})=>[i.validity_time?(c(),m("div",Ee,l(i.validity_time),1)):(c(),m("div",Te,l(t(e)("validityForever")),1))]),_:1},8,["label"]),s(p,{prop:"total_num",label:t(e)("totalNum"),"min-width":"120","show-overflow-tooltip":!0},{default:o(({row:i})=>[a("span",null,l(i.use_num)+"/"+l(i.total_num),1)]),_:1},8,["label"]),s(p,{label:t(e)("operation"),"min-width":"120",align:"right"},{default:o(({row:i})=>[s(F,{type:"primary",link:"",onClick:De=>B(i)},{default:o(()=>[G(l(t(e)("toCardDetail")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})])):f("",!0)]),_:1},8,["model"])),[[q,h.value]]),s(X,{ref_key:"orderNotesDialog",ref:w,onComplete:r[2]||(r[2]=i=>x(t(u)))},null,512)])}}});export{We as default};
