import{d as q,x as G,n as K,r as m,h as i,c as u,e as a,w as o,a as y,t as d,u as t,i as x,q as l,R as W,s as Y,F as v,T as f,B as g,a5 as A,E as H,K as J,L as O,M as Q,a7 as X,ad as Z,ae as tt,W as et,Y as at}from"./index-99f00cf3.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{u as D}from"./dict-1df0bad2.js";import{_ as lt,g as st,d as ot}from"./site-edit.vue_vue_type_style_index_0_lang-d6702ca9.js";import{_ as it}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   *//* empty css                       *//* empty css                 */const nt={class:"main-container"},rt={class:"flex justify-between items-center"},ut={class:"text-lg"},dt={class:"mt-[10px]"},ct={key:0},pt={key:0},mt={key:0},_t={key:0},vt={key:0},ft={key:0},gt={class:"mt-[16px] flex justify-end"},bt=q({__name:"site",setup(ht){const N=G().meta.title;let s=K({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{site_id:"",site_name:"",client:""}});const C=m();m([]);const S=m([]);(async()=>{S.value=await(await D("status")).data.dictionary})();const E=m([]);(async()=>{E.value=await(await D("status")).data.dictionary})();const P=m([]);(async()=>{P.value=await(await D("status")).data.dictionary})();const V=m([]);(async()=>{V.value=await(await D("status")).data.dictionary})();const F=m([]);(async()=>{F.value=await(await D("status")).data.dictionary})();const _=(c=1)=>{s.loading=!0,s.page=c,st({page:s.page,limit:s.limit,...s.searchParam}).then(n=>{s.loading=!1,s.data=n.data.data,s.total=n.data.total}).catch(()=>{s.loading=!1})};_();const b=m(null),T=()=>{b.value.setFormData(),b.value.showDialog=!0},z=c=>{b.value.setFormData(c),b.value.showDialog=!0},$=c=>{A.confirm(l("siteDeleteTips"),l("warning"),{confirmButtonText:l("confirm"),cancelButtonText:l("cancel"),type:"warning"}).then(()=>{ot(c).then(()=>{_()}).catch(()=>{})})},I=c=>{c&&(c.resetFields(),_())};return(c,n)=>{const h=H,k=J,L=O,U=Q,B=X,p=Z,R=tt,j=et,M=at;return i(),u("div",nt,[a(B,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[y("div",rt,[y("span",ut,d(t(N)),1),a(h,{type:"primary",onClick:T},{default:o(()=>[x(d(t(l)("addSite")),1)]),_:1})]),a(B,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:o(()=>[a(U,{inline:!0,model:t(s).searchParam,ref_key:"searchFormRef",ref:C},{default:o(()=>[a(L,{label:t(l)("siteId"),prop:"site_id"},{default:o(()=>[a(k,{modelValue:t(s).searchParam.site_id,"onUpdate:modelValue":n[0]||(n[0]=e=>t(s).searchParam.site_id=e),placeholder:t(l)("siteIdPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(L,{label:t(l)("siteName"),prop:"site_name"},{default:o(()=>[a(k,{modelValue:t(s).searchParam.site_name,"onUpdate:modelValue":n[1]||(n[1]=e=>t(s).searchParam.site_name=e),placeholder:t(l)("siteNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(L,{label:t(l)("client"),prop:"client"},{default:o(()=>[a(k,{modelValue:t(s).searchParam.client,"onUpdate:modelValue":n[2]||(n[2]=e=>t(s).searchParam.client=e),placeholder:t(l)("clientPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(L,null,{default:o(()=>[a(h,{type:"primary",onClick:n[3]||(n[3]=e=>_())},{default:o(()=>[x(d(t(l)("search")),1)]),_:1}),a(h,{onClick:n[4]||(n[4]=e=>I(C.value))},{default:o(()=>[x(d(t(l)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),y("div",dt,[W((i(),Y(R,{data:t(s).data,size:"large"},{empty:o(()=>[y("span",null,d(t(s).loading?"":t(l)("emptyData")),1)]),default:o(()=>[a(p,{prop:"site_name",label:t(l)("siteName"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),a(p,{prop:"client",label:t(l)("client"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),a(p,{label:t(l)("categoryStatus"),"min-width":"180",align:"center","show-overflow-tooltip":!0},{default:o(({row:e})=>[(i(!0),u(v,null,f(S.value,(r,w)=>(i(),u("div",null,[r.value==e.category_status?(i(),u("div",ct,d(r.name),1)):g("",!0)]))),256))]),_:1},8,["label"]),a(p,{label:t(l)("brandStatus"),"min-width":"180",align:"center","show-overflow-tooltip":!0},{default:o(({row:e})=>[(i(!0),u(v,null,f(E.value,(r,w)=>(i(),u("div",null,[r.value==e.brand_status?(i(),u("div",pt,d(r.name),1)):g("",!0)]))),256))]),_:1},8,["label"]),a(p,{label:t(l)("labelGroupStatus"),"min-width":"180",align:"center","show-overflow-tooltip":!0},{default:o(({row:e})=>[(i(!0),u(v,null,f(P.value,(r,w)=>(i(),u("div",null,[r.value==e.label_group_status?(i(),u("div",mt,d(r.name),1)):g("",!0)]))),256))]),_:1},8,["label"]),a(p,{label:t(l)("labelStatus"),"min-width":"180",align:"center","show-overflow-tooltip":!0},{default:o(({row:e})=>[(i(!0),u(v,null,f(V.value,(r,w)=>(i(),u("div",null,[r.value==e.label_status?(i(),u("div",_t,d(r.name),1)):g("",!0)]))),256))]),_:1},8,["label"]),a(p,{label:t(l)("serviceStatus"),"min-width":"180",align:"center","show-overflow-tooltip":!0},{default:o(({row:e})=>[(i(!0),u(v,null,f(F.value,(r,w)=>(i(),u("div",null,[r.value==e.service_status?(i(),u("div",vt,d(r.name),1)):g("",!0)]))),256))]),_:1},8,["label"]),a(p,{label:t(l)("priceStatus"),"min-width":"180",align:"center","show-overflow-tooltip":!0},{default:o(({row:e})=>[(i(!0),u(v,null,f(c.price_statusList,(r,w)=>(i(),u("div",null,[r.value==e.price_status?(i(),u("div",ft,d(r.name),1)):g("",!0)]))),256))]),_:1},8,["label"]),a(p,{label:t(l)("operation"),fixed:"right","min-width":"120"},{default:o(({row:e})=>[a(h,{type:"primary",link:"",onClick:r=>z(e)},{default:o(()=>[x(d(t(l)("edit")),1)]),_:2},1032,["onClick"]),a(h,{type:"primary",link:"",onClick:r=>$(e.id)},{default:o(()=>[x(d(t(l)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[M,t(s).loading]]),y("div",gt,[a(j,{"current-page":t(s).page,"onUpdate:current-page":n[5]||(n[5]=e=>t(s).page=e),"page-size":t(s).limit,"onUpdate:page-size":n[6]||(n[6]=e=>t(s).limit=e),layout:"total, sizes, prev, pager, next, jumper",total:t(s).total,onSizeChange:n[7]||(n[7]=e=>_()),onCurrentChange:_},null,8,["current-page","page-size","total"])])]),a(lt,{ref_key:"editSiteDialog",ref:b,onComplete:_},null,512)]),_:1})])}}});const Ot=it(bt,[["__scopeId","data-v-93b9e2fd"]]);export{Ot as default};
