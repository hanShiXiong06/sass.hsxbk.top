import{d as h,r as n,n as y,H as w,l as E,Q as u,h as N,s as j,w as d,e as m,a as o,aw as k,K as B,L as C,M as O}from"./index-99f00cf3.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                    */const R={class:"flex items-center"},$=o("span",{class:"ml-[10px] el-form-item__label"},"送",-1),F={class:"w-[70px]"},I=o("span",{class:"ml-[15px] el-form-item__label"},"佣金",-1),K=h({__name:"gift-send-commission",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(c,{expose:p,emit:_}){const f=c,t=n({is_use:0,commission:""}),r=n(null),v={required:/[\S]+/,number:/^\d{0,10}$/,digit:/^\d{0,10}(.?\d{0,2})$/,special:/^\d{0,10}(.?\d{0,3})$/},V=y({commission:[{validator:(l,e,s)=>{t.value.is_use&&(w.empty(e)?s("请输入佣金金额"):isNaN(e)||!v.digit.test(e)?s("佣金金额格式错误"):e<=0&&s("佣金金额不能小于等于0")),s()},trigger:"blur"}]}),a=E({get(){return f.modelValue},set(l){_("update:modelValue",l)}});return u(()=>a.value,(l,e)=>{(!e||!Object.keys(e).length)&&Object.keys(l).length&&(t.value=a.value)},{immediate:!0}),u(()=>t.value,()=>{a.value=t.value},{deep:!0}),p({verify:async()=>{var e;let l=!0;return await((e=r.value)==null?void 0:e.validate(s=>{l=s})),l}}),(l,e)=>{const s=k,g=B,x=C,b=O;return N(),j(b,{ref_key:"formRef",ref:r,model:t.value,rules:V},{default:d(()=>[m(x,{label:"",prop:"commission"},{default:d(()=>[o("div",R,[m(s,{modelValue:t.value.is_use,"onUpdate:modelValue":e[0]||(e[0]=i=>t.value.is_use=i),"true-label":1,"false-label":0,label:"",size:"large"},null,8,["modelValue"]),$,o("div",F,[m(g,{modelValue:t.value.commission,"onUpdate:modelValue":e[1]||(e[1]=i=>t.value.commission=i),modelModifiers:{trim:!0},maxlength:5,clearable:""},null,8,["modelValue"])]),I])]),_:1})]),_:1},8,["model","rules"])}}});export{K as default};
