import{d as C,r as d,n as y,l as I,q as n,h as c,s as b,w as l,a as M,e as u,br as h,i as V,t as k,u as r,c as R,F as L,T as N,ab as O,aC as S,L as q,M as P,E as T,X as U}from"./index-6f32d09b.js";/* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  */import{g as j,h as X}from"./material-a1349d7e.js";const $={class:"dialog-footer"},ne=C({__name:"material-move",emits:["complete"],setup(z,{expose:w,emit:x}){let a=d(!1);const i=d(!1),_={material_ids:"",group_id:""},s=y({..._}),f=d(),D=I(()=>({group_id:[{required:!0,message:n("materialGroupIdPlaceholder"),trigger:"blur"}]})),m=y([]);(()=>{j({}).then(o=>{const e=o.data;e&&m.splice(0,m.length,...e)})})();const E=async o=>{i.value||!o||await o.validate(async e=>{e&&(i.value=!0,X(s).then(p=>{i.value=!1,a.value=!1,x("complete")}).catch(p=>{i.value=!1}))})};return w({showDialog:a,setFormData:async(o=null)=>{Object.assign(s,_),s.material_ids=o.toString(),a.value=!0}}),(o,e)=>{const g=O,p=S,F=q,G=P,v=T,B=U;return c(),b(B,{modelValue:r(a),"onUpdate:modelValue":e[3]||(e[3]=t=>h(a)?a.value=t:a=t),title:r(n)("moveMaterial"),width:"400px",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:l(()=>[M("span",$,[u(v,{onClick:e[1]||(e[1]=t=>h(a)?a.value=!1:a=!1)},{default:l(()=>[V(k(r(n)("cancel")),1)]),_:1}),u(v,{type:"primary",loading:i.value,onClick:e[2]||(e[2]=t=>E(f.value))},{default:l(()=>[V(k(r(n)("confirm")),1)]),_:1},8,["loading"])])]),default:l(()=>[u(G,{model:s,"label-width":"120px",ref_key:"formRef",ref:f,rules:r(D),class:"page-form"},{default:l(()=>[u(F,{label:r(n)("materialId"),prop:"group_id"},{default:l(()=>[u(p,{modelValue:s.group_id,"onUpdate:modelValue":e[0]||(e[0]=t=>s.group_id=t),placeholder:r(n)("materialGroupIdPlaceholder"),clearable:""},{default:l(()=>[(c(!0),R(L,null,N(m,t=>(c(),b(g,{key:t.group_id,label:t.group_name,value:t.group_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});export{ne as _};
