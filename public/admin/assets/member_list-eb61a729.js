import{d as B,x as D,f as N,n as L,r as g,h as p,c as v,e as l,w as n,u as i,a as o,R as j,s as x,t as m,q as s,A as I,i as c,aQ as M,a6 as R,J as V,ab as $,ac as q,W as A,Y as U}from"./index-f7a01263.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                 *//* empty css                        *//* empty css                *//* empty css                   *//* empty css                       */import{_ as y}from"./default_headimg-a897263d.js";import{e as H,f as J}from"./sale-76e32896.js";const Q={class:"main-container"},W={class:"flex items-center cursor-pointer"},Y={class:"min-w-[50px] h-[50px] flex items-center justify-center"},F=o("div",{class:"image-slot"},[o("img",{class:"w-[50px] h-[50px]",src:y})],-1),G={key:1,class:"w-[50px] h-[50px]",src:y,fit:"contain"},K={class:"ml-2"},O=["title"],X={class:"text-primary text-[12px]"},Z={class:"mt-[16px] flex justify-end"},ye=B({__name:"member_list",setup(ee){const b=D();N();const w=b.meta.title,t=L({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{create_time:""}}),k=g({}),_=g(!1);g();const E=d=>{_.value=!0,H(d).then(a=>{k.value=a.data,_.value=!1}).catch(()=>{_.value=!1})};let f=Number(b.query.id);E(f);const u=(d=1)=>{t.loading=!0,t.page=d,J({page:t.page,limit:t.limit,period_id:f,...t.searchParam}).then(a=>{t.loading=!1,t.data=a.data.data,t.total=a.data.total}).catch(()=>{t.loading=!1})};return u(),(d,a)=>{const P=M,h=R,S=V,r=$,T=q,C=A,z=U;return p(),v("div",Q,[l(h,{class:"card !border-none",shadow:"never"},{default:n(()=>[l(P,{content:i(w),icon:d.ArrowLeft,onBack:a[0]||(a[0]=e=>d.$router.back())},null,8,["content","icon"])]),_:1}),l(h,{class:"card mt-[15px] !border-none",shadow:"never"},{default:n(()=>[o("div",null,[j((p(),x(T,{data:t.data,size:"large"},{empty:n(()=>[o("span",null,m(t.loading?"":i(s)("emptyData")),1)]),default:n(()=>[l(r,{label:i(s)("memberInfo"),"min-width":"160"},{default:n(({row:e})=>[o("div",W,[o("div",Y,[e.member&&e.member.headimg?(p(),x(S,{key:0,class:"w-[50px] h-[50px]",src:i(I)(e.member.headimg),fit:"contain"},{error:n(()=>[F]),_:2},1032,["src"])):(p(),v("img",G))]),o("div",K,[o("span",{title:e.member&&e.member.nickname,class:"multi-hidden"},m(e.member&&e.member.nickname||e.member&&e.member.username),9,O),o("span",X,m(e.member&&e.member.mobile),1)])])]),_:1},8,["label"]),l(r,{prop:"sale_start_time",label:i(s)("saleStartTime"),"min-width":"130"},null,8,["label"]),l(r,{prop:"sale_end_time",label:i(s)("saleEndTime"),"min-width":"130"},null,8,["label"]),l(r,{prop:"order_money",label:i(s)("orderMoney"),"min-width":"120",align:"right"},null,8,["label"]),l(r,{prop:"reward_money",label:i(s)("rewardMoney"),"min-width":"120",align:"right"},null,8,["label"]),l(r,{label:i(s)("settlementStatus"),"min-width":"120",align:"center"},{default:n(({row:e})=>[c(m(e.is_settlement>0?"已结算":"待结算"),1)]),_:1},8,["label"]),l(r,{label:i(s)("sendStatus"),"min-width":"120",align:"center"},{default:n(({row:e})=>[c(m(e.is_send>0?"已发放":"待发放"),1)]),_:1},8,["label"]),l(r,{label:i(s)("settlementTime"),"min-width":"150",align:"center"},{default:n(({row:e})=>[c(m(e.settlement_time||"--"),1)]),_:1},8,["label"]),l(r,{label:i(s)("sendTime"),"min-width":"150",align:"center"},{default:n(({row:e})=>[c(m(e.send_time||"--"),1)]),_:1},8,["label"])]),_:1},8,["data"])),[[z,t.loading]]),o("div",Z,[l(C,{"current-page":t.page,"onUpdate:current-page":a[1]||(a[1]=e=>t.page=e),"page-size":t.limit,"onUpdate:page-size":a[2]||(a[2]=e=>t.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:a[3]||(a[3]=e=>u()),onCurrentChange:u},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{ye as default};
