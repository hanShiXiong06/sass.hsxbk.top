import{d as T,x as G,n as N,r as f,h as m,c as y,e as o,w as a,a as c,t as l,u as e,i as g,q as t,R as O,s as h,A as V,a5 as $,E as z,ad as A,cz as F,ae as L,a7 as R,Y as j}from"./index-99f00cf3.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                  *//* empty css                        *//* empty css               *//* empty css                  */import{_ as q}from"./category_default-6c62f083.js";import{g as M,d as S}from"./category-cab25d32.js";import{_ as Y}from"./category-edit.vue_vue_type_script_setup_true_lang-7cccb533.js";/* empty css                  *//* empty css                   *//* empty css                */import"./index-015c0c3e.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-2e54ab99.js";import"./attachment-6fc096d0.js";import"./index.vue_vue_type_script_setup_true_lang-a59c79e6.js";import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                  *//* empty css                  *//* empty css                      *//* empty css                 *//* empty css               *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-bde8c802.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-49ab6f2c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const H={class:"main-container"},I={class:"flex justify-between items-center"},J={class:"text-page-title"},K={class:"mt-[20px]"},P={key:1,class:"w-[50px] h-[50px]",src:q},Ft=T({__name:"category",setup(Q){const v=G().meta.title,i=N({loading:!0,data:[]});f();const p=(n=1)=>{i.loading=!0,M().then(u=>{i.loading=!1,i.data=u.data}).catch(()=>{i.loading=!1})};p();const r=f(null),C=()=>{r.value.setFormData(),r.value.showDialog=!0},x=n=>{r.value.setFormData(n),r.value.showDialog=!0},b=n=>{$.confirm(t("o2oGoodsCategoryDeleteTips"),t("warning"),{confirmButtonText:t("confirm"),cancelButtonText:t("cancel"),type:"warning"}).then(()=>{S(n).then(()=>{p()}).catch(()=>{})})};return(n,u)=>{const d=z,_=A,k=F,w=L,E=R,D=j;return m(),y("div",H,[o(E,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[c("div",I,[c("span",J,l(e(v)),1),o(d,{type:"primary",class:"w-[100px]",onClick:C},{default:a(()=>[g(l(e(t)("addCategory")),1)]),_:1})]),c("div",K,[O((m(),h(w,{data:i.data,"row-key":"category_id",size:"large"},{empty:a(()=>[c("span",null,l(i.loading?"":e(t)("emptyData")),1)]),default:a(()=>[o(_,{prop:"category_name",label:e(t)("categoryName"),"min-width":"120"},null,8,["label"]),o(_,{label:e(t)("image"),"min-width":"100",align:"left"},{default:a(({row:s})=>[s.image?(m(),h(k,{key:0,src:e(V)(s.image)},null,8,["src"])):(m(),y("img",P))]),_:1},8,["label"]),o(_,{label:e(t)("operation"),fixed:"right",align:"right","min-width":"100"},{default:a(({row:s})=>[o(d,{type:"primary",link:"",onClick:B=>x(s)},{default:a(()=>[g(l(e(t)("edit")),1)]),_:2},1032,["onClick"]),o(d,{type:"primary",link:"",onClick:B=>b(s.category_id)},{default:a(()=>[g(l(e(t)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[D,i.loading]])]),o(Y,{ref_key:"editO2oGoodsCategoryDialog",ref:r,onComplete:p},null,512)]),_:1})])}}});export{Ft as default};
