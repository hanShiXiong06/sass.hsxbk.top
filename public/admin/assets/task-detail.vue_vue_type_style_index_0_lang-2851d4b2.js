import{d as N,r as x,x as O,f as V,n as B,h as l,s as v,w as r,R as C,c as n,e as m,u as t,q as o,a,t as s,A as E,B as c,F as R,T as A,L as I,J as M,M as P,bQ as S,Y as U,a3 as q}from"./index-99f00cf3.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                 *//* empty css                        */import"./el-form-item-4ed993c7.js";import{_ as f}from"./goods_default-247a7f2b.js";import{g as J}from"./task-dcca969a.js";import{h as Q}from"./level-0d08fb21.js";const Y={class:"main-container"},j=a("div",{class:"image-slot"},[a("img",{class:"w-[100px] h-[100px]",src:f,fit:"contain"})],-1),z={key:1,class:"w-[100px] h-[100px]",src:f,fit:"contain"},G={class:"flex items-center"},H=a("span",{class:"mx-[10px]"},"至",-1),K={key:0},W={key:1},X={key:0},Z={key:1,class:"flex"},$={class:"flex flex-col"},ee={key:0,class:"flex items-center mt-[2px]"},te={class:"mr-[5px]"},se={class:"text-[var(--el-color-primary)]"},ae={class:"ml-[5px]"},oe={key:1,class:"flex items-center mt-[2px]"},ie={class:"mr-[5px]"},le={class:"text-[var(--el-color-primary)]"},ne={class:"ml-[5px]"},re={key:2,class:"flex items-center mt-[2px]"},_e={class:"mr-[5px]"},me={class:"text-[var(--el-color-primary)]"},de={class:"ml-[5px]"},ce={class:"flex items-center"},pe={key:0},ue={key:1},xe={class:"flex items-center"},ve={class:"mr-[5px]"},ye={class:"text-[var(--el-color-primary)]"},fe={class:"ml-[5px]"},he={class:"w-[750px]"},Ae=N({__name:"task-detail",setup(ke,{expose:h}){const p=x(!1),y=x(!1);O(),V();const k=d=>{p.value=!1},e=B({...{id:"",name:"",time_type:"1",start_time:"",end_time:"",level_type:"1",level:["1"],level_data:[],times:"",rules:[{condition:{type:[]},reward:{commission:""}}],remark:"",type_name:"",type:""}});e.id="";const b=x([]);(()=>{Q().then(d=>{b.value=d.data})})();const g=()=>{J({id:e.id}).then(d=>{let i=q(d.data);i&&(e.name=i.name,e.time_type=i.time_type,e.start_time=i.start_time,e.end_time=i.end_time,e.level_type=i.level_type,e.level=i.level,e.times=i.times.toString(),e.rules=i.rules,e.remark=i.remark,e.type_name=i.type_name,e.type=i.type,e.level_data=i.level_data,e.cover_thumb_mid=i.cover_thumb_mid,e.send_time_type=i.send_time_type,e.send_time=i.send_time_type==1?timeStampTurnTime(i.send_time):i.send_time),y.value=!1})};return h({showDialog:p,setFormData:async(d=null)=>{d.id&&(e.id=d.id,g())}}),(d,i)=>{const _=I,F=M,w=P,D=S,T=U;return l(),v(D,{modelValue:p.value,"onUpdate:modelValue":i[0]||(i[0]=u=>p.value=u),title:"任务详情",direction:"rtl","before-close":k,class:"member-detail-drawer"},{default:r(()=>[C((l(),n("div",Y,[m(w,{class:"page-form",model:e,"label-width":"120px",ref:"taskFormRef"},{default:r(()=>[m(_,{label:t(o)("taskNam"),prop:"name"},{default:r(()=>[a("div",null,s(e.name),1)]),_:1},8,["label"]),m(_,{label:t(o)("cover")},{default:r(()=>[e.cover_thumb_mid?(l(),v(F,{key:0,class:"w-[100px] h-[100px]",src:t(E)(e.cover_thumb_mid)||"",fit:"contain"},{error:r(()=>[j]),_:1},8,["src"])):(l(),n("img",z))]),_:1},8,["label"]),m(_,{label:t(o)("taskTime")},{default:r(()=>[a("div",G,[a("span",null,s(e.start_time),1),H,e.time_type==2?(l(),n("span",K,"长期有效")):(l(),n("span",W,s(e.end_time),1))])]),_:1},8,["label"]),e.type===1?(l(),v(_,{key:0,label:t(o)("articipation")},{default:r(()=>[a("div",null,s(e.times!=0?e.times+t(o)("timesNext"):t(o)("timesUnlimited")),1)]),_:1},8,["label"])):c("",!0),m(_,{label:t(o)("level")},{default:r(()=>[e.level_type=="1"?(l(),n("div",X,s(t(o)("allLevel")),1)):c("",!0),e.level_type=="2"&&e.level_data?(l(),n("div",Z,[(l(!0),n(R,null,A(e.level_data,(u,L)=>(l(),n("span",{key:L,class:"border-solid border-[1px] border-[var(--el-color-primary)] text-[var(--el-color-primary)] px-[5px] mr-[15px] h-[25px] leading-[25px] rounded text-[12px]"},s(u),1))),128))])):c("",!0)]),_:1},8,["label"]),m(_,{label:t(o)("taskIndex"),prop:"type"},{default:r(()=>[a("div",$,[e.rules[0].condition.type.indexOf("order_num")>-1?(l(),n("div",ee,[a("span",te,s(t(o)("conditionOrderNumTips1")),1),a("span",se,s(e.rules[0].condition.order_num),1),a("span",ae,s(t(o)("conditionOrderNumTips2")),1)])):c("",!0),e.rules[0].condition.type.indexOf("order_money")>-1?(l(),n("div",oe,[a("span",ie,s(t(o)("conditionOrderMoneyTips1")),1),a("span",le,s(e.rules[0].condition.order_money),1),a("span",ne,s(t(o)("conditionOrderMoneyTips2")),1)])):c("",!0),e.rules[0].condition.type.indexOf("fenxiao_num")>-1?(l(),n("div",re,[a("span",_e,s(t(o)("conditionFenxiaoNumTips1")),1),a("span",me,s(e.rules[0].condition.fenxiao_num),1),a("span",de,s(t(o)("conditionFenxiaoNumTips2")),1)])):c("",!0)])]),_:1},8,["label"]),m(_,{label:t(o)("awardTime")},{default:r(()=>[a("div",ce,[e.send_time_type==1?(l(),n("span",pe,s(e.send_time),1)):c("",!0),e.send_time_type==2?(l(),n("span",ue,s(t(o)("taskAttainment"))+s(e.send_time)+s(t(o)("taskAttainment1")),1)):c("",!0)])]),_:1},8,["label"]),m(_,{label:t(o)("taskContent")},{default:r(()=>[a("div",xe,[a("span",ve,s(t(o)("return")),1),a("span",ye,s(e.rules[0].reward.commission),1),a("span",fe,s(t(o)("brokerage")),1)])]),_:1},8,["label"]),m(_,{label:t(o)("remark")},{default:r(()=>[a("div",he,s(e.remark),1)]),_:1},8,["label"])]),_:1},8,["model"])])),[[T,y.value]])]),_:1},8,["modelValue"])}}});export{Ae as _};
