import{d as L,x as O,r as C,l as z,q as t,n as A,f as K,R as Y,h as u,c as x,a as n,t as d,u as a,e as l,w as r,s as V,i as p,F as k,T as H,v as b,A as J,B as f,ax as Q,ay as W,at as X,au as Z,L as ee,a7 as te,K as le,M as ae,E as oe,Y as re,p as se,g as ne}from"./index-5a756a51.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                 *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 *//* empty css                    */import{w as de,x as ce}from"./goods-d1f9b95c.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";const T=v=>(se("data-v-c5ed29e8"),v=v(),ne(),v),ue={class:"main-container pt-[20px] bg-[#fff]"},pe={class:"flex ml-[18px] justify-between items-center mb-[5px]"},me={class:"text-page-title"},_e={class:"panel-title !text-[16px] pl-[15px]"},xe=["onClick"],fe=["src"],ve=T(()=>n("span",{class:"iconfont iconicon-selected absolute right-0 bottom-[-8px]"},null,-1)),ge={class:"panel-title !text-[16px] pl-[15px]"},be={class:"flex items-center"},he={class:"text-[#fff] bg-color h-[20px] text-[12px] px-[10px] leading-[20px] rounded-[10px]"},ye=T(()=>n("span",{class:"text-color nc-iconfont nc-icon-gouwucheV6xx-2 !text-[24px]"},null,-1)),we=[ye],Ce=T(()=>n("div",{class:"text-[#fff] bg-color h-[30px] w-[30px] leading-[30px] rounded-[30px] text-center"},[n("span",{class:"nc-iconfont nc-icon-gouwucheV6xx-2 !text-[20px]"})],-1)),Ve=[Ce],ke={key:1,class:"fixed-footer-wrap"},Te={class:"fixed-footer"},Ee=L({__name:"category_config",setup(v){const R=O().meta.title,e=C({}),_=C(!1),U=z(()=>({page_title:[{required:!0,message:t("pageTitlePlaceholder"),trigger:"blur"}],"search.title":[{required:!0,message:t("searchTitlePlaceholder"),trigger:"blur"}],sort:[{required:!0,message:t("sortPlaceholder"),trigger:"change"}],"cart.text":[{required:!0,message:t("cartTextPlaceholder"),trigger:"blur"}]})),j=A({level_1:[{template:"style-1",preview:"addon/shop/category_style1_1.png"}],level_2:[{template:"style-1",preview:"addon/shop/category_style2_1.png"},{template:"style-2",preview:"addon/shop/category_style2_2.png"}]}),E=()=>{_.value=!0,de().then(c=>{e.value=c.data,_.value=!1}).catch(()=>{_.value=!1})};E();const B=c=>{e.value.template=c},h=c=>{e.value.cart.style="style-"+c},S=C(),I=async c=>{await c.validate(async o=>{o&&(_.value=!0,ce(e.value).then(y=>{E()}).catch(()=>{_.value=!1}))})},$=K(),q=c=>{$.push({path:c})};return(c,o)=>{const y=Q,F=W,m=X,g=Z,i=ee,P=te,w=le,N=ae,M=oe,D=re;return Y((u(),x("div",ue,[n("div",pe,[n("span",me,d(a(R)),1)]),l(F,{class:"demo-tabs mx-[18px]","model-value":"/shop/goods/category/config",onTabChange:q},{default:r(()=>[l(y,{label:a(t)("tabGoodsCategory"),name:"/shop/goods/category"},null,8,["label"]),l(y,{label:a(t)("tabGoodsCategoryConfig"),name:"/shop/goods/category/config"},null,8,["label"])]),_:1}),Object.keys(e.value).length?(u(),V(N,{key:0,model:e.value,"label-width":"170",ref_key:"formRef",ref:S,rules:a(U),class:"page-form"},{default:r(()=>[l(P,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[n("h3",_e,d(a(t)("categoryTemplate")),1),l(i,{label:a(t)("categoryType")},{default:r(()=>[l(g,{class:"mx-[10px]",modelValue:e.value.level,"onUpdate:modelValue":o[0]||(o[0]=s=>e.value.level=s),onChange:o[1]||(o[1]=s=>e.value.template="style-1")},{default:r(()=>[l(m,{label:1},{default:r(()=>[p(d(a(t)("categorystyleOne")),1)]),_:1}),l(m,{label:2},{default:r(()=>[p(d(a(t)("categorystyleTwo")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l(i,{label:a(t)("categoryTemplate")},{default:r(()=>[(u(!0),x(k,null,H(j["level_"+e.value.level],(s,G)=>(u(),x("div",{key:G,class:b(["w-[150px] border-[1px] border-[#ededed] border-solid overflow-hidden text-[#ededed] rounded-[4px] mr-[20px] relative",e.value.template===s.template?"border-color text-color":""]),onClick:Pe=>B(s.template)},[n("img",{class:"w-[100%]",src:a(J)(s.preview),"fit-object":"contain"},null,8,fe),ve],10,xe))),128))]),_:1},8,["label"])]),_:1}),l(P,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[n("h3",ge,d(a(t)("pageSettings")),1),l(i,{label:a(t)("pageTitle"),prop:"page_title"},{default:r(()=>[l(w,{modelValue:e.value.page_title,"onUpdate:modelValue":o[2]||(o[2]=s=>e.value.page_title=s),modelModifiers:{trim:!0},clearable:"",placeholder:a(t)("pageTitlePlaceholder"),class:"input-width",maxlength:"10","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(i,{label:a(t)("searchControl")},{default:r(()=>[l(g,{class:"mx-[10px]",modelValue:e.value.search.control,"onUpdate:modelValue":o[3]||(o[3]=s=>e.value.search.control=s)},{default:r(()=>[l(m,{label:1},{default:r(()=>[p(d(a(t)("open")),1)]),_:1}),l(m,{label:0},{default:r(()=>[p(d(a(t)("close")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e.value.search.control?(u(),V(i,{key:0,label:a(t)("searchTitle"),prop:"search.title"},{default:r(()=>[l(w,{modelValue:e.value.search.title,"onUpdate:modelValue":o[4]||(o[4]=s=>e.value.search.title=s),modelModifiers:{trim:!0},clearable:"",placeholder:a(t)("searchTitlePlaceholder"),class:"input-width",maxlength:"12","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):f("",!0),e.value.level!=2||e.value.level===2&&e.value.template!="style-1"?(u(),x(k,{key:1},[l(i,{label:a(t)("cartControl")},{default:r(()=>[l(g,{class:"mx-[10px]",modelValue:e.value.cart.control,"onUpdate:modelValue":o[5]||(o[5]=s=>e.value.cart.control=s)},{default:r(()=>[l(m,{label:1},{default:r(()=>[p(d(a(t)("show")),1)]),_:1}),l(m,{label:0},{default:r(()=>[p(d(a(t)("hidden")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e.value.cart.control?(u(),x(k,{key:0},[l(i,{label:a(t)("cartStyle"),class:"carStyle"},{default:r(()=>[n("div",be,[n("div",{class:b(["flex items-center justify-center w-[65px] h-[65px] border-0 border-color rounded-[4px] border-solid box-border cursor-pointer mr-[15px]",e.value.cart.style==="style-1"?"!border-[1px]":""]),onClick:o[6]||(o[6]=s=>h(1))},[n("div",he,d(e.value.cart.text),1)],2),n("div",{class:b(["flex items-center justify-center w-[65px] h-[65px] border-0 border-color rounded-[4px] border-solid box-border cursor-pointer mr-[15px]",e.value.cart.style==="style-3"?"!border-[1px]":""]),onClick:o[7]||(o[7]=s=>h(3))},we,2),n("div",{class:b(["flex items-center justify-center w-[65px] h-[65px] border-0 border-color rounded-[4px] border-solid box-border cursor-pointer mr-[15px]",e.value.cart.style==="style-4"?"!border-[1px]":""]),onClick:o[8]||(o[8]=s=>h(4))},Ve,2)])]),_:1},8,["label"]),e.value.cart.style==="style-1"?(u(),V(i,{key:0,prop:"cart.text"},{default:r(()=>[l(w,{modelValue:e.value.cart.text,"onUpdate:modelValue":o[9]||(o[9]=s=>e.value.cart.text=s),modelModifiers:{trim:!0},clearable:"",placeholder:a(t)("cartTextPlaceholder"),class:"input-width",maxlength:"3","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1})):f("",!0),l(i,{label:a(t)("cartEvent")},{default:r(()=>[l(g,{class:"mx-[10px]",modelValue:e.value.cart.event,"onUpdate:modelValue":o[10]||(o[10]=s=>e.value.cart.event=s)},{default:r(()=>[l(m,{label:"detail"},{default:r(()=>[p(d(a(t)("detail")),1)]),_:1}),l(m,{label:"cart"},{default:r(()=>[p(d(a(t)("cart")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])],64)):f("",!0)],64)):f("",!0)]),_:1})]),_:1},8,["model","rules"])):f("",!0),_.value?f("",!0):(u(),x("div",ke,[n("div",Te,[l(M,{type:"primary",onClick:o[11]||(o[11]=s=>I(S.value))},{default:r(()=>[p(d(a(t)("save")),1)]),_:1})])]))])),[[D,_.value]])}}});const Le=ie(Ee,[["__scopeId","data-v-c5ed29e8"]]);export{Le as default};
