import{O as h,d as C,r as m,n as B,h as _,c as w,R as D,s as F,w as o,e as a,a as d,i as u,F as I,B as N,K as R,L as T,at as z,a7 as K,ax as L,ay as O,M as P,E as M,Y}from"./index-a3bdc7eb.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                    *//* empty css                *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                 */function $(c){return h.post("zxprint/setting",c)}function j(){return h.post("zxprint/getsetting")}const A={class:"main-container"},G=d("p",{class:"text-[12px] text-[#a9a9a9]"},null,-1),H=d("p",{class:"text-[12px] text-[#a9a9a9]"},"请填写终端编号",-1),J=d("p",{class:"text-[12px] text-[#a9a9a9]"},"请填写打印机密钥",-1),Q=d("p",{class:"text-[12px] text-[#a9a9a9]"},"应用id在易联云-开发者中心-应用中心获取",-1),S=d("p",{class:"text-[12px] text-[#a9a9a9]"},"apiKey在易联云-开发者中心-应用中心获取",-1),W=d("p",{class:"text-[12px] text-[#a9a9a9]"},"订单付款后自动打印小票，默认关闭",-1),X=d("p",{class:"text-[12px] text-[#a9a9a9]"},"关闭和开启打印机的使用，默认关闭",-1),Z=d("p",{class:"text-[12px] text-[#a9a9a9]"},"可将订单备注留言打印再小票上",-1),ee=d("p",{class:"text-[12px] text-[#a9a9a9]"},"可将二维码打印在小票上，二维码内容请开启后设置",-1),le=d("p",{class:"text-[12px] text-[#a9a9a9]"},null,-1),te=d("p",{class:"text-[12px] text-[#a9a9a9]"},null,-1),ae=d("p",{class:"text-[12px] text-[#a9a9a9]"},null,-1),oe={class:"fixed-footer-wrap"},de={class:"fixed-footer"},Ve=C({__name:"zx_print",setup(c){m(""),m(""),m("");const r=m(!0),V=m("d"),l=B({title:"",machine_code:"",private_key:"",client_id:"",client_secret:"",auto_print:"1",status:"1",show_buyer_message:"1",show_qrcode:"1",qrcode_name:"",qrcode_content:"",bottom:""}),g=(p,e)=>{console.log(p,e)},f=async()=>{r.value=!1,(await(await j()).data).forEach(e=>{const{value_type:n,value_code:s}=e;l.hasOwnProperty(n)&&(l[n]=s)})};f();const b=m(),y=async p=>{r.value||!p||(r.value=!0,$(l).then(()=>{r.value=!1,f()}).catch(()=>{r.value=!1}))};return(p,e)=>{const n=R,s=T,i=z,x=K,v=L,U=O,q=P,k=M,E=Y;return _(),w("div",A,[D((_(),F(q,{model:l,"label-width":"150px",ref_key:"formRef",ref:b,class:"page-form"},{default:o(()=>[a(U,{modelValue:V.value,"onUpdate:modelValue":e[16]||(e[16]=t=>V.value=t),onTabClick:g},{default:o(()=>[a(v,{label:"基本参数",name:"d"},{default:o(()=>[a(x,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[a(s,{label:"小票名称"},{default:o(()=>[d("div",null,[a(n,{modelValue:l.title,"onUpdate:modelValue":e[0]||(e[0]=t=>l.title=t),placeholder:"请填写小票名称",class:"input-width",clearable:""},null,8,["modelValue"]),G])]),_:1}),a(s,{label:"终端编号"},{default:o(()=>[d("div",null,[a(n,{modelValue:l.machine_code,"onUpdate:modelValue":e[1]||(e[1]=t=>l.machine_code=t),placeholder:"请填写终端编号",class:"input-width",clearable:""},null,8,["modelValue"]),H])]),_:1}),a(s,{label:"打印密钥"},{default:o(()=>[d("div",null,[a(n,{modelValue:l.private_key,"onUpdate:modelValue":e[2]||(e[2]=t=>l.private_key=t),placeholder:"请填写打印机密钥",class:"input-width",clearable:""},null,8,["modelValue"]),J])]),_:1}),a(s,{label:"应用I D"},{default:o(()=>[d("div",null,[a(n,{modelValue:l.client_id,"onUpdate:modelValue":e[3]||(e[3]=t=>l.client_id=t),placeholder:"请填写应用ID",class:"input-width",clearable:""},null,8,["modelValue"]),Q])]),_:1}),a(s,{label:"应用I密钥"},{default:o(()=>[d("div",null,[a(n,{modelValue:l.client_secret,"onUpdate:modelValue":e[4]||(e[4]=t=>l.client_secret=t),placeholder:"请填写应用密钥",class:"input-width",clearable:""},null,8,["modelValue"]),S])]),_:1}),a(s,{label:"自动打印"},{default:o(()=>[d("div",null,[a(i,{modelValue:l.auto_print,"onUpdate:modelValue":e[5]||(e[5]=t=>l.auto_print=t),label:"1"},{default:o(()=>[u("启用")]),_:1},8,["modelValue"]),a(i,{modelValue:l.auto_print,"onUpdate:modelValue":e[6]||(e[6]=t=>l.auto_print=t),label:"2"},{default:o(()=>[u("禁用")]),_:1},8,["modelValue"]),W])]),_:1}),a(s,{label:"启用状态"},{default:o(()=>[d("div",null,[a(i,{modelValue:l.status,"onUpdate:modelValue":e[7]||(e[7]=t=>l.status=t),label:"1"},{default:o(()=>[u("启用")]),_:1},8,["modelValue"]),a(i,{modelValue:l.status,"onUpdate:modelValue":e[8]||(e[8]=t=>l.status=t),label:"2"},{default:o(()=>[u("关闭")]),_:1},8,["modelValue"]),X])]),_:1})]),_:1})]),_:1}),a(v,{label:"模板参数",name:"t"},{default:o(()=>[a(x,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[a(s,{label:"买家留言"},{default:o(()=>[d("div",null,[a(i,{modelValue:l.show_buyer_message,"onUpdate:modelValue":e[9]||(e[9]=t=>l.show_buyer_message=t),label:"1"},{default:o(()=>[u("启用")]),_:1},8,["modelValue"]),a(i,{modelValue:l.show_buyer_message,"onUpdate:modelValue":e[10]||(e[10]=t=>l.show_buyer_message=t),label:"2"},{default:o(()=>[u("禁用")]),_:1},8,["modelValue"]),Z])]),_:1}),a(s,{label:"条码显示"},{default:o(()=>[d("div",null,[a(i,{modelValue:l.show_qrcode,"onUpdate:modelValue":e[11]||(e[11]=t=>l.show_qrcode=t),label:"1"},{default:o(()=>[u("启用")]),_:1},8,["modelValue"]),a(i,{modelValue:l.show_qrcode,"onUpdate:modelValue":e[12]||(e[12]=t=>l.show_qrcode=t),label:"2"},{default:o(()=>[u("关闭")]),_:1},8,["modelValue"]),ee])]),_:1}),l.show_qrcode==1?(_(),w(I,{key:0},[a(s,{label:"显示名称"},{default:o(()=>[d("div",null,[a(n,{modelValue:l.qrcode_name,"onUpdate:modelValue":e[13]||(e[13]=t=>l.qrcode_name=t),placeholder:"请填写二维码显示名称",class:"input-width",clearable:""},null,8,["modelValue"]),le])]),_:1}),a(s,{label:"显示内容"},{default:o(()=>[d("div",null,[a(n,{modelValue:l.qrcode_content,"onUpdate:modelValue":e[14]||(e[14]=t=>l.qrcode_content=t),placeholder:"请填写二维码内容",class:"input-width",clearable:""},null,8,["modelValue"]),te])]),_:1})],64)):N("",!0),a(s,{label:"底部内容"},{default:o(()=>[d("div",null,[a(n,{modelValue:l.bottom,"onUpdate:modelValue":e[15]||(e[15]=t=>l.bottom=t),placeholder:"请填写小票底部内容",class:"input-width",clearable:""},null,8,["modelValue"]),ae])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["model"])),[[E,r.value]]),d("div",oe,[d("div",de,[a(k,{type:"primary",loading:r.value,onClick:e[17]||(e[17]=t=>y(b.value))},{default:o(()=>[u("立即保存")]),_:1},8,["loading"])])])])}}});export{Ve as default};
