import{d as C,x as D,r as x,n as R,l as F,q as e,h as I,c as T,a as n,t as m,u as l,e as a,w as s,i as _,K as B,L as O,at as U,au as $,M as S,a7 as z,E as G}from"./index-37fee5a0.js";/* empty css                  *//* empty css                *//* empty css                */import{_ as K}from"./index.vue_vue_type_script_setup_true_lang-6267846f.js";/* empty css                       *//* empty css                 */import L from"./index-75241224.js";import"./el-form-item-4ed993c7.js";/* empty css                 */import{e as M,f as A,h as H}from"./tkjhkd-dbc81071.js";import"./index.vue_vue_type_style_index_0_lang-9e528ade.js";/* empty css                  *//* empty css                   */import"./attachment-78567e2f.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-1f515813.js";/* empty css                        *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-a7856b99.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-165de32d.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const J={class:"main-container"},Q={class:"detail-head"},W=n("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),X={class:"ml-[1px]"},Y=n("span",{class:"adorn"},"|",-1),Z={class:"right"},tt={class:"fixed-footer-wrap"},et={class:"fixed-footer"},zt=C({__name:"noticeedit",setup(ot){const g=D(),f=parseInt(g.query.id),u=x(!1),w=g.meta.title,b={id:0,title:"",image:"",content:"",status:0,addon:""},o=R({...b});f&&(async(d=0)=>{Object.assign(o,b);const t=await(await M(d)).data;Object.keys(o).forEach(i=>{t[i]!=null&&(o[i]=t[i])})})(f);const v=x(),E=F(()=>({title:[{required:!0,message:e("titlePlaceholder"),trigger:"blur"}],image:[{required:!0,message:e("imagePlaceholder"),trigger:"blur"}],content:[{required:!0,message:e("contentPlaceholder"),trigger:"blur"}],status:[{required:!0,message:e("statusPlaceholder"),trigger:"blur"}]})),y=async d=>{u.value||!d||await d.validate(async t=>{if(t){u.value=!0;let i=o;console.log("formData",o),(f?A:H)(i).then(c=>{u.value=!1,console.log("return data",c)}).catch(c=>{u.value=!1})}})},h=()=>{history.back()};return(d,t)=>{const i=B,p=O,c=L,V=U,N=$,P=K,j=S,q=z,k=G;return I(),T("div",J,[n("div",Q,[n("div",{class:"left",onClick:t[0]||(t[0]=r=>h())},[W,n("span",X,m(l(e)("returnToPreviousPage")),1)]),Y,n("span",Z,m(l(w)),1)]),a(q,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[a(j,{model:o,"label-width":"90px",ref_key:"formRef",ref:v,rules:l(E),class:"page-form"},{default:s(()=>[a(p,{label:l(e)("title"),prop:"title"},{default:s(()=>[a(i,{modelValue:o.title,"onUpdate:modelValue":t[1]||(t[1]=r=>o.title=r),clearable:"",placeholder:l(e)("titlePlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(p,{label:l(e)("image")},{default:s(()=>[a(c,{modelValue:o.image,"onUpdate:modelValue":t[2]||(t[2]=r=>o.image=r)},null,8,["modelValue"])]),_:1},8,["label"]),a(p,{label:l(e)("status"),prop:"status"},{default:s(()=>[a(N,{modelValue:o.status,"onUpdate:modelValue":t[3]||(t[3]=r=>o.status=r),placeholder:l(e)("statusPlaceholder")},{default:s(()=>[a(V,{label:"1"},{default:s(()=>[_(m(l(e)("statusIsOpen")),1)]),_:1}),a(V,{label:"0"},{default:s(()=>[_(m(l(e)("statusNoOpen")),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a(p,{label:l(e)("content"),prop:"content"},{default:s(()=>[a(P,{modelValue:o.content,"onUpdate:modelValue":t[4]||(t[4]=r=>o.content=r)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1}),n("div",tt,[n("div",et,[a(k,{type:"primary",onClick:t[5]||(t[5]=r=>y(v.value))},{default:s(()=>[_(m(l(e)("save")),1)]),_:1}),a(k,{onClick:t[6]||(t[6]=r=>h())},{default:s(()=>[_(m(l(e)("cancel")),1)]),_:1})])])])}}});export{zt as default};
