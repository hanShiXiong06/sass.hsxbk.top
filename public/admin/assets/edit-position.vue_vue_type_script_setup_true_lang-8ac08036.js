import{d as E,r as c,n as N,l as R,q as o,h as g,s as V,w as n,a as F,e as d,i as b,t as h,u as t,R as B,K as C,L as M,M as U,E as j,X as q,Y as I}from"./index-37fee5a0.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */import{e as L,a as O}from"./technician-78151175.js";const $={class:"dialog-footer"},W=E({__name:"edit-position",emits:["complete"],setup(z,{expose:w,emit:x}){const r=c(!1),l=c(!1),p={id:"",name:"",desc:""},a=N({...p}),f=c(),y=R(()=>({name:[{required:!0,message:o("positionNamePlaceholder"),trigger:"blur"}]})),D=async s=>{if(l.value||!s)return;const e=a.id?L:O;await s.validate(async m=>{m&&(l.value=!0,e(a).then(_=>{l.value=!1,r.value=!1,x("complete")}).catch(()=>{l.value=!1}))})};return w({showDialog:r,setFormData:async(s=null)=>{Object.assign(a,p),s&&Object.keys(a).forEach(e=>{s[e]!=null&&(a[e]=s[e])}),r.value=!0,l.value=!1}}),(s,e)=>{const m=C,u=M,_=U,v=j,P=q,k=I;return g(),V(P,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=i=>r.value=i),title:a.id?t(o)("updatePosition"):t(o)("addPosition"),width:"500px","destroy-on-close":!0},{footer:n(()=>[F("span",$,[d(v,{onClick:e[2]||(e[2]=i=>r.value=!1)},{default:n(()=>[b(h(t(o)("cancel")),1)]),_:1}),d(v,{type:"primary",loading:l.value,onClick:e[3]||(e[3]=i=>D(f.value))},{default:n(()=>[b(h(t(o)("confirm")),1)]),_:1},8,["loading"])])]),default:n(()=>[B((g(),V(_,{model:a,"label-width":"90px",ref_key:"formRef",ref:f,rules:t(y),class:"page-form"},{default:n(()=>[d(u,{label:t(o)("positionName"),prop:"name"},{default:n(()=>[d(m,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=i=>a.name=i),modelModifiers:{trim:!0},clearable:"",placeholder:t(o)("positionNamePlaceholder"),class:"input-width"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(u,{label:t(o)("remark")},{default:n(()=>[d(m,{modelValue:a.desc,"onUpdate:modelValue":e[1]||(e[1]=i=>a.desc=i),modelModifiers:{trim:!0},autosize:{minRows:2,maxRows:4},type:"textarea",clearable:"",placeholder:t(o)("remarkPlaceholder"),class:"input-width",maxlength:"200"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[k,l.value]])]),_:1},8,["modelValue","title"])}}});export{W as _};
