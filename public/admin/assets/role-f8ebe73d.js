import{d as z,x as B,n as N,r as T,h as d,c as w,e as o,w as l,a as i,t as p,u as s,i as u,q as n,R as V,s as g,B as h,al as $,U as j,E as L,aW as P,ac as U,ak as S,ad as W,W as q,a7 as A,Y as F}from"./index-a3bdc7eb.js";/* empty css                   *//* empty css                *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                 *//* empty css                  */import{i as M}from"./data_scope-c0fc0729.js";import{_ as Y}from"./scope-auth.vue_vue_type_script_setup_true_async_true_lang-f5cd0972.js";/* empty css                  *//* empty css                   *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";const G={class:"main-container"},H={class:"flex justify-between items-center"},I={class:"text-lg"},J=i("p",null,"1、添加、删除、编辑角色，请移步至 权限管理 -> 角色管理",-1),K=i("p",null,' 2、由于不对主框架进行侵入开发，如已进行上述操作，请点击右侧的 "同步角色" 按钮，保证此插件附表数据与角色表一致 ',-1),O={class:"mt-[16px] flex justify-end"},Et=z({__name:"role",setup(Q){const b=B().meta.title,t=N({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{search:""}}),m=(r=1)=>{t.loading=!0,t.page=r,$({page:t.page,limit:t.limit,role_name:t.searchParam.search}).then(a=>{t.loading=!1,t.data=a.data.data,t.total=a.data.total}).catch(()=>{t.loading=!1})};m();const v=()=>{M().then(r=>{j.success(r.msg)})},_=T(null),x=r=>{_.value.setFormData(r),_.value.showDialog=!0};return(r,a)=>{const f=L,C=P,c=U,y=S,E=W,k=q,D=A,R=F;return d(),w("div",G,[o(D,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[i("div",H,[i("span",I,p(s(b)),1),o(f,{type:"primary",onClick:v},{default:l(()=>[u(p(s(n)("asyncRole")),1)]),_:1})]),o(C,{title:"",type:"success"},{default:l(()=>[J,K]),_:1}),i("div",null,[V((d(),g(E,{data:t.data,size:"large"},{empty:l(()=>[i("span",null,p(t.loading?"":s(n)("emptyData")),1)]),default:l(()=>[o(c,{prop:"role_name",label:s(n)("roleName")},null,8,["label"]),o(c,{label:s(n)("status")},{default:l(({row:e})=>[e.status==1?(d(),g(y,{key:0,type:"success"},{default:l(()=>[u(p(e.status_name),1)]),_:2},1024)):h("",!0),e.status==0?(d(),g(y,{key:1,type:"error"},{default:l(()=>[u(p(e.status_name),1)]),_:2},1024)):h("",!0)]),_:1},8,["label"]),o(c,{prop:"create_time",label:s(n)("createTime")},null,8,["label"]),o(c,{label:s(n)("operation"),align:"right",fixed:"right",width:"130"},{default:l(({row:e})=>[o(f,{type:"primary",link:"",onClick:Z=>x(e)},{default:l(()=>[u(p(s(n)("auth")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[R,t.loading]]),i("div",O,[o(k,{"current-page":t.page,"onUpdate:current-page":a[0]||(a[0]=e=>t.page=e),"page-size":t.limit,"onUpdate:page-size":a[1]||(a[1]=e=>t.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:a[2]||(a[2]=e=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])]),o(Y,{ref_key:"editRoleDialog",ref:_,onComplete:a[3]||(a[3]=e=>m())},null,512)]),_:1})])}}});export{Et as default};
