import{d as B,x as V,r as c,h as m,c as g,a as r,t as u,u as l,R as y,s as O,w as f,e as d,q as s,c1 as R,i as I,B as F,K as j,L as D,au as P,a6 as K,M,E as S,Y as U}from"./index-f7a01263.js";/* empty css                   *//* empty css                  *//* empty css                     *//* empty css                *//* empty css                    *//* empty css                 */import{g as q,s as T}from"./order-eb92dceb.js";const Y={class:"main-container pt-[20px] bg-[#fff]"},$={class:"flex ml-[18px] justify-between items-center"},z={class:"text-page-title"},A={class:"panel-title !text-sm pl-[15px]"},G={class:"!text-sm"},H={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},J={key:0,class:"fixed-footer-wrap"},Q={class:"fixed-footer"},ue=B({__name:"config",setup(W){const h=V().meta.title,o=c({close_length:"10",is_close:"1"}),x=c({close_length:[{validator:(a,e,t)=>o.value.is_close!="2"?e==""?t(new Error(s("CloseLengthPlaceholder"))):Number(e)>=10&&Number(e)<=1440?t():t(new Error(s("closeOrderInfoBottom"))):t(),trigger:"blur"}],finish_length:[{validator:(a,e,t)=>o.value.is_finish!="2"?e==""?t(new Error(s("finishLengthPlaceholder"))):Number(e)>=1&&Number(e)<=30?t():t(new Error(s("confirmBottom"))):t(),trigger:"blur"}],refund_length:[{validator:(a,e,t)=>o.value.no_allow_refund!="2"?e==""?t(new Error(s("validRefundLengthPlaceholder"))):Number(e)>=1&&Number(e)<=30?t():t(new Error(s("refundBottom"))):t(),trigger:"blur"}]}),n=c(!1),_=()=>{n.value=!0,q().then(a=>{Object.values(a.data).forEach(e=>{o.value=Object.assign(o.value,e)}),o.value.invoice_content.length||o.value.invoice_content.push(""),n.value=!1}).catch(()=>{n.value=!1})};_();const p=c(),b=async a=>{await a.validate(async e=>{e&&(n.value=!0,T(o.value).then(t=>{_()}).catch(()=>{n.value=!1}))})};return(a,e)=>{const t=j,v=D,w=P,E=K,C=M,L=S,N=U;return m(),g("div",Y,[r("div",$,[r("span",z,u(l(h)),1)]),y((m(),O(C,{model:o.value,"label-width":"95",ref_key:"formRef",ref:p,rules:x.value,class:"page-form"},{default:f(()=>[d(E,{class:"box-card !border-none",shadow:"never"},{default:f(()=>[r("h3",A,u(l(s)("closeOrderInfo")),1),d(v,{prop:"close_length"},{default:f(()=>[r("div",null,[r("p",G,[r("span",null,u(l(s)("closeOrderInfoLeft")),1),d(t,{modelValue:o.value.close_length,"onUpdate:modelValue":e[0]||(e[0]=i=>o.value.close_length=i),modelModifiers:{trim:!0},class:"!w-[120px] mx-[10px]",onKeyup:e[1]||(e[1]=i=>l(R)(i)),clearable:""},null,8,["modelValue"]),r("span",null,u(l(s)("closeOrderInfoRight")),1)]),r("p",H,u(l(s)("closeOrderInfoBottom")),1)])]),_:1}),d(v,{prop:"is_close"},{default:f(()=>[d(w,{modelValue:o.value.is_close,"onUpdate:modelValue":e[2]||(e[2]=i=>o.value.is_close=i),label:l(s)("isClose"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[N,n.value]]),n.value?F("",!0):(m(),g("div",J,[r("div",Q,[d(L,{type:"primary",onClick:e[3]||(e[3]=i=>b(p.value))},{default:f(()=>[I(u(l(s)("save")),1)]),_:1})])]))])}}});export{ue as default};
