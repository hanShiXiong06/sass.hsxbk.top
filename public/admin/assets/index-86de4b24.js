import{d as R,r as m,n as $,l as L,h as i,c as S,a as r,R as A,s as d,w as l,e as o,i as n,B as g,u as w,t as G,q as O,F as J,A as K,aW as M,L as P,K as T,au as W,av as X,E as Y,a7 as j,M as z,J as H,X as Q,Y as Z}from"./index-99f00cf3.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                 *//* empty css                        *//* empty css                *//* empty css                *//* empty css                  */import{_ as ee}from"./index.vue_vue_type_style_index_0_lang-572087a4.js";/* empty css                       *//* empty css                 *//* empty css                 */import"./el-form-item-4ed993c7.js";import te from"./index-015c0c3e.js";/* empty css                 */import{p as oe,c as le,d as ae}from"./config-ed9c7ed3.js";/* empty css                     */import"./diy-a3190996.js";import"./index.vue_vue_type_style_index_0_lang-2e54ab99.js";import"./attachment-6fc096d0.js";import"./index.vue_vue_type_script_setup_true_lang-a59c79e6.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                  *//* empty css                      *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css               *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-bde8c802.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-49ab6f2c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const se={class:"main-container"},re={class:"mb-4",style:{width:"640px"}},ne=r("p",{class:"ml-2"},"支付成功后执行动作，仅小程序支持视频号相关跳转",-1),ie={class:"mt-2"},pe={class:"fixed-footer-wrap"},me={class:"fixed-footer"},de={class:""},Qe=R({__name:"index",setup(ue){const y=m(),u=m(!1),b=async p=>{const e=await oe({channel:p});y.value=K(e.data),u.value=!0},v=m(!0),x=m(),t=$({business_name:"",business_logo:"",banener:"",desc:"",type:"0",finderUserName:"",feedId:"",page:""}),I=L(()=>({business_name:[{required:!0,message:"请输入商户名称",trigger:"blur"}],business_logo:[{required:!0,message:"请上传商户LOGO",trigger:"blur"}],type:[{required:!0,message:"请选择支付后跳转类型",trigger:"blur"}],finderUserName:[{required:!0,message:"请填写视频号ID",trigger:"blur"}],feedId:[{required:!0,message:"请填写视频ID",trigger:"blur"}],page:[{required:!0,message:"请选择跳转链接",trigger:"blur"}]})),V=async()=>{const p=await le();v.value=!1;for(const e in t)t[e]=p.data[e]};V();const k=async()=>{await ae(t),V()};return(p,e)=>{const E=M,U=te,s=P,_=T,f=W,D=X,C=ee,c=Y,N=j,q=z,h=H,B=Q,F=Z;return i(),S(J,null,[r("div",se,[A((i(),d(q,{model:t,"label-width":"150px",ref_key:"ruleFormRef",ref:x,rules:w(I),class:"page-form"},{default:l(()=>[o(N,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[r("div",re,[o(E,{type:"info",title:"请设置完善支付后跳转信息，微信小程序支持跳转到视频号，其他渠道只支持跳转选择或者自定义链接，这里是集成到框架里面的商户生效",closable:!1,"show-icon":""})]),o(s,{label:"商户图标",prop:"business_logo"},{default:l(()=>[o(U,{modelValue:t.business_logo,"onUpdate:modelValue":e[0]||(e[0]=a=>t.business_logo=a)},null,8,["modelValue"])]),_:1}),o(s,{label:"商户名称",prop:"business_name"},{default:l(()=>[o(_,{modelValue:t.business_name,"onUpdate:modelValue":e[1]||(e[1]=a=>t.business_name=a),style:{width:"200px"},placeholder:"请输入收款商户名称"},null,8,["modelValue"])]),_:1}),o(s,{label:"支付跳转",prop:"type"},{default:l(()=>[o(D,{modelValue:t.type,"onUpdate:modelValue":e[2]||(e[2]=a=>t.type=a)},{default:l(()=>[o(f,{label:"0"},{default:l(()=>[n("视频号主页")]),_:1}),o(f,{label:"1"},{default:l(()=>[n("视频号视频")]),_:1}),o(f,{label:"2"},{default:l(()=>[n("系统链接")]),_:1})]),_:1},8,["modelValue"]),ne]),_:1}),t.type==0||t.type==1?(i(),d(s,{key:0,label:"视频号ID",prop:"finderUserName"},{default:l(()=>[o(_,{modelValue:t.finderUserName,"onUpdate:modelValue":e[3]||(e[3]=a=>t.finderUserName=a),style:{width:"200px"},placeholder:"请输入视频号ID"},null,8,["modelValue"])]),_:1})):g("",!0),t.type==1?(i(),d(s,{key:1,label:"视频ID",prop:"feedId"},{default:l(()=>[o(_,{type:"textarea",modelValue:t.feedId,"onUpdate:modelValue":e[4]||(e[4]=a=>t.feedId=a),style:{width:"200px"},placeholder:"请输入视频ID"},null,8,["modelValue"])]),_:1})):g("",!0),t.type==2?(i(),d(s,{key:2,label:"选择链接",prop:"page"},{default:l(()=>[o(C,{modelValue:t.page,"onUpdate:modelValue":e[5]||(e[5]=a=>t.page=a)},null,8,["modelValue"])]),_:1})):g("",!0),o(s,null,{default:l(()=>[r("div",ie,[o(c,{style:{width:"120px"},type:"primary",plain:"",onClick:e[6]||(e[6]=a=>b("wechat"))},{default:l(()=>[n(" 公众号收款码 ")]),_:1}),o(c,{class:"ml-2",style:{width:"120px"},type:"primary",plain:"",onClick:e[7]||(e[7]=a=>b("weapp"))},{default:l(()=>[n(" 小程序收款码 ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[F,v.value]]),r("div",pe,[r("div",me,[o(c,{type:"primary",onClick:e[8]||(e[8]=a=>k())},{default:l(()=>[n(G(w(O)("save")),1)]),_:1})])])]),o(B,{modelValue:u.value,"onUpdate:modelValue":e[9]||(e[9]=a=>u.value=a),title:"商家收款码","align-center":"",width:"420px"},{default:l(()=>[r("div",de,[o(h,{src:y.value,alt:""},null,8,["src"])])]),_:1},8,["modelValue"])],64)}}});export{Qe as default};
