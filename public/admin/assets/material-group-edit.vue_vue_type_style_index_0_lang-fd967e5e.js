import{d as G,r as f,n as B,l as F,q as r,h as v,s as b,w as n,a as R,e as d,br as w,i as V,t as y,u as o,R as k,b_ as C,K as I,L as P,M as U,E as j,X as q,Y as K}from"./index-6f32d09b.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 */import{c as L,d as O,f as S}from"./material-a1349d7e.js";const T={class:"dialog-footer"},ae=G({__name:"material-group-edit",emits:["complete"],setup(X,{expose:h,emit:x}){let l=f(!1);const s=f(!1),c={group_id:"",group_name:"",sort:""},a=B({...c}),_=f(),D=F(()=>({group_name:[{required:!0,message:r("groupNamePlaceholder"),trigger:"blur"}]})),M=async u=>{if(s.value||!u)return;let e=a.group_id?L:O;await u.validate(async i=>{i&&(s.value=!0,e(a).then(p=>{s.value=!1,l.value=!1,x("complete")}).catch(p=>{s.value=!1}))})};return h({showDialog:l,setFormData:async(u=null)=>{if(Object.assign(a,c),s.value=!0,u){const e=await(await S(u.group_id)).data;e&&Object.keys(a).forEach(i=>{e[i]!=null&&(a[i]=e[i])})}s.value=!1}}),(u,e)=>{const i=I,m=P,p=U,g=j,E=q,N=K;return v(),b(E,{modelValue:o(l),"onUpdate:modelValue":e[6]||(e[6]=t=>w(l)?l.value=t:l=t),title:a.group_id?o(r)("updateMaterialGroup"):o(r)("addMaterialGroup"),width:"400px",class:"diy-dialog-wrap","destroy-on-close":!0},{footer:n(()=>[R("span",T,[d(g,{onClick:e[4]||(e[4]=t=>w(l)?l.value=!1:l=!1)},{default:n(()=>[V(y(o(r)("cancel")),1)]),_:1}),d(g,{type:"primary",loading:s.value,onClick:e[5]||(e[5]=t=>M(_.value))},{default:n(()=>[V(y(o(r)("confirm")),1)]),_:1},8,["loading"])])]),default:n(()=>[k((v(),b(p,{model:a,"label-width":"120px",ref_key:"formRef",ref:_,rules:o(D),class:"page-form"},{default:n(()=>[d(m,{label:o(r)("groupName"),prop:"group_name"},{default:n(()=>[d(i,{modelValue:a.group_name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.group_name=t),modelModifiers:{trim:!0},clearable:"",placeholder:o(r)("groupNamePlaceholder"),class:"input-width",maxlength:"10"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(m,{label:o(r)("sort"),prop:"sort"},{default:n(()=>[d(i,{modelValue:a.sort,"onUpdate:modelValue":e[1]||(e[1]=t=>a.sort=t),modelModifiers:{trim:!0},maxlength:"6","show-word-limit":"",clearable:"",placeholder:o(r)("sortPlaceholder"),class:"input-width",onKeyup:e[2]||(e[2]=t=>o(C)(t)),onBlur:e[3]||(e[3]=t=>a.sort=t.target.value)},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[N,s.value]])]),_:1},8,["modelValue","title"])}}});export{ae as _};
