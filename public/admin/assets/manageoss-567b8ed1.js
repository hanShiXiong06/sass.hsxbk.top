import{d as R,x as j,n as N,r as v,h as p,c as b,e as o,w as s,a as g,i as m,t as d,u as e,q as n,F as E,T as D,s as y,R as U,a5 as W,E as q,ab as Y,aC as A,L as G,M as H,a7 as J,ac as K,ak as Q,ad as X,W as Z,Y as ee,p as te,g as ae}from"./index-6f32d09b.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{d as oe,f as se,b as le}from"./manageoss-9d1be0b1.js";import{_ as ne}from"./manageoss-edit.vue_vue_type_style_index_0_lang-8c880a26.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   *//* empty css                          */const re=f=>(te("data-v-1f1a4ee4"),f=f(),ae(),f),de={class:"main-container"},pe={class:"flex justify-between items-center"},me=re(()=>g("span",{class:"text-lg"},"站点存储管理",-1)),ce={class:"mt-[10px]"},_e={class:"mt-[16px] flex justify-end"},ue=R({__name:"manageoss",setup(f){j().meta.title;let t=N({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{site_id:""}});const w=v();v([]);const r=(i=1)=>{t.loading=!0,t.page=i,oe({page:t.page,limit:t.limit,...t.searchParam}).then(l=>{t.loading=!1,t.data=l.data.data,t.total=l.data.total}).catch(()=>{t.loading=!1})};r();const c=v(null),F=()=>{c.value.setFormData(),c.value.showDialog=!0},I=i=>{c.value.setFormData(i),c.value.showDialog=!0},L=i=>{W.confirm(n("manageOssDeleteTips"),n("warning"),{confirmButtonText:n("confirm"),cancelButtonText:n("cancel"),type:"warning"}).then(()=>{se(i).then(()=>{r()}).catch(()=>{})})},x=v([]);(async()=>{x.value=await(await le({})).data})();const O=i=>{i&&(i.resetFields(),r())};return(i,l)=>{const _=q,S=Y,T=A,k=G,B=H,C=J,h=K,M=Q,P=X,z=Z,V=ee;return p(),b("div",de,[o(C,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[g("div",pe,[me,o(_,{type:"primary",onClick:F},{default:s(()=>[m(d(e(n)("addManageOss")),1)]),_:1})]),o(C,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:s(()=>[o(B,{inline:!0,model:e(t).searchParam,ref_key:"searchFormRef",ref:w},{default:s(()=>[o(k,{label:e(n)("siteId"),prop:"site_id"},{default:s(()=>[o(T,{class:"w-[280px]",modelValue:e(t).searchParam.site_id,"onUpdate:modelValue":l[0]||(l[0]=a=>e(t).searchParam.site_id=a),clearable:"",placeholder:e(n)("siteIdPlaceholder")},{default:s(()=>[(p(!0),b(E,null,D(x.value,(a,u)=>(p(),y(S,{key:u,label:a.site_name,value:a.site_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),o(k,null,{default:s(()=>[o(_,{type:"primary",onClick:l[1]||(l[1]=a=>r())},{default:s(()=>[m(d(e(n)("search")),1)]),_:1}),o(_,{onClick:l[2]||(l[2]=a=>O(w.value))},{default:s(()=>[m(d(e(n)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),g("div",ce,[U((p(),y(P,{data:e(t).data,size:"large"},{empty:s(()=>[g("span",null,d(e(t).loading?"":e(n)("emptyData")),1)]),default:s(()=>[o(h,{prop:"site_id_name",label:"站点","min-width":"80","show-overflow-tooltip":!0}),o(h,{prop:"storage_name",label:e(n)("value"),"min-width":"120","show-overflow-tooltip":!0},{default:s(({row:a})=>[(p(!0),b(E,null,D(a.storage_name,(u,$)=>(p(),y(M,{class:"mr-1 mb-1",key:$},{default:s(()=>[m(d(u),1)]),_:2},1024))),128))]),_:1},8,["label"]),o(h,{label:e(n)("operation"),fixed:"right","min-width":"120"},{default:s(({row:a})=>[o(_,{type:"primary",link:"",onClick:u=>I(a)},{default:s(()=>[m(d(e(n)("edit")),1)]),_:2},1032,["onClick"]),o(_,{type:"primary",link:"",onClick:u=>L(a.id)},{default:s(()=>[m(d(e(n)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[V,e(t).loading]]),g("div",_e,[o(z,{"current-page":e(t).page,"onUpdate:current-page":l[3]||(l[3]=a=>e(t).page=a),"page-size":e(t).limit,"onUpdate:page-size":l[4]||(l[4]=a=>e(t).limit=a),layout:"total, sizes, prev, pager, next, jumper",total:e(t).total,onSizeChange:l[5]||(l[5]=a=>r()),onCurrentChange:r},null,8,["current-page","page-size","total"])])]),o(ne,{ref_key:"editManageOssDialog",ref:c,onComplete:r},null,512)]),_:1})])}}});const je=ie(ue,[["__scopeId","data-v-1f1a4ee4"]]);export{je as default};
