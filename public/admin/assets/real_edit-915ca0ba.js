import{d as _e,x as fe,f as be,r as w,q as t,n as le,a2 as he,h as n,c as u,e as d,w as r,u as e,aP as ge,s as v,F as g,T as y,v as H,a as s,t as i,B as V,i as h,b_ as B,j as ve,R as U,cS as ye,a0 as S,aQ as Ve,a7 as ke,L as xe,K as De,bF as we,ab as Ce,aC as Ue,av as Se,c1 as Te,at as Pe,au as Ee,M as Re,ax as Me,a1 as Oe,E as Ge,aS as Fe,aU as Ne,ay as Ie,p as Be,g as Ae}from"./index-6f32d09b.js";/* empty css                    */import{_ as $e}from"./index.vue_vue_type_script_setup_true_lang-edd497b7.js";import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                  *//* empty css                  *//* empty css                *//* empty css                       *//* empty css                 *//* empty css                          *//* empty css                    *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                          */import Le from"./index-4df26bee.js";import"./el-form-item-4ed993c7.js";/* empty css                *//* empty css                   *//* empty css                       */import{a0 as He,a1 as Ke,a2 as je}from"./goods-3890b03a.js";import{i as ze,B as We}from"./delivery-a60e03aa.js";import{u as Ze}from"./useGoodsEdit-45118e25.js";import{_ as qe}from"./_plugin-vue_export-helper-c27b6911.js";import"./index.vue_vue_type_style_index_0_lang-972988e5.js";/* empty css                  *//* empty css                   */import"./attachment-503e95ee.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-bee7eaa7.js";/* empty css                        *//* empty css                      *//* empty css                 *//* empty css               *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-ad575143.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-0724e2f9.js";import"./sortable.esm-be94e56d.js";import"./poster-11e724dc.js";import"./range-2967ecbd.js";const T=G=>(Be("data-v-7847a29d"),G=G(),Ae(),G),Qe={class:"main-container"},Je={class:"goods-type-name"},Xe={class:"goods-type-desc"},Ye=T(()=>s("div",{class:"triangle"},null,-1)),el=T(()=>s("div",{class:"selected"},"✓",-1)),ll=["onClick"],ol={class:"goods-type-name"},al={class:"goods-type-desc"},tl=T(()=>s("div",{class:"triangle"},null,-1)),sl=T(()=>s("div",{class:"selected"},"✓",-1)),dl={class:"ml-[10px]"},rl={class:"ml-[10px]"},il={class:"ml-[10px]"},nl={class:"ml-[120px] mb-[10px] text-[12px] text-[#999] leading-[20px]"},pl={class:"ml-[10px]"},ul={class:"ml-[10px]"},ml={class:"ml-[10px]"},cl={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},_l={key:0,class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},fl={class:"el-form-item asterisk-left"},bl={class:"el-form-item__label w-[120px]"},hl={class:"spec-wrap"},gl={class:"spec-edit-list"},vl={class:"spec-name-wrap"},yl={class:"spec-value-wrap"},Vl=["onClick"],kl=T(()=>s("div",{class:"box"},null,-1)),xl={class:"add-spec"},Dl={class:"batch-operation-sku"},wl={class:"sku-table"},Cl={class:"el-table--fit el-table--default el-table",style:{width:"100%"}},Ul={class:"el-table__inner-wrapper"},Sl={class:"el-table__header-wrapper"},Tl={class:"el-table__header",border:"0",cellpadding:"0",cellspacing:"0",style:{width:"100%"}},Pl={key:0,class:"el-table__cell"},El={class:"cell"},Rl={class:"el-table__cell"},Ml={class:"cell"},Ol={class:"el-table__cell"},Gl={class:"cell"},Fl={class:"el-table__cell"},Nl={class:"cell"},Il={class:"el-table__cell"},Bl={class:"cell"},Al={class:"el-table__cell"},$l={class:"cell"},Ll={class:"el-table__cell"},Hl={class:"cell"},Kl={class:"el-table__cell"},jl={class:"cell"},zl={class:"el-table__cell"},Wl={class:"cell"},Zl={class:"el-table__cell"},ql={class:"cell"},Ql={class:"el-table__body-wrapper"},Jl={class:"el-scrollbar"},Xl={class:"el-scrollbar__wrap el-scrollbar__wrap--hidden-default"},Yl={class:"el-scrollbar__view",style:{display:"inline-block","vertical-align":"middle"}},eo={class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0",style:{"table-layout":"fixed",width:"100%"}},lo={tabindex:"-1"},oo=["rowspan"],ao={class:"cell"},to={class:"el-table__cell"},so={class:"cell"},ro={class:"el-table__cell"},io={class:"cell"},no={class:"el-table__cell"},po={class:"cell"},uo={class:"el-table__cell"},mo={class:"cell"},co={class:"el-table__cell"},_o={class:"cell"},fo={class:"el-table__cell"},bo={class:"cell"},ho={class:"el-table__cell"},go={class:"cell"},vo={class:"el-table__cell"},yo={class:"cell"},Vo={class:"el-table__cell"},ko={class:"cell"},xo={key:0,class:"text-[12px] text-[#999] leading-[20px]"},Do={key:1,class:"text-[12px] text-[#999] leading-[20px]"},wo={key:0,class:"text-[12px] text-[#999] leading-[20px]"},Co={class:"ml-[10px]"},Uo={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},So={class:"attr-table mt-[10px]"},To=T(()=>s("colgroup",null,[s("col",{width:"30%"}),s("col",{width:"40%"}),s("col",{width:"20%"}),s("col",{width:"10%"})],-1)),Po={class:"bg-[#f7f7f7]"},Eo={class:"prompt-block"},Ro={class:"flex items-center"},Mo=T(()=>s("span",{class:"iconfont iconwenhao cursor-pointer ml-[3px] mt-[3px] !text-[14px]"},null,-1)),Oo={class:"attr-new"},Go={key:0},Fo={key:1},No={key:1},Io={key:2},Bo=["onClick"],Ao={key:1},$o={colspan:"4",class:"text-center"},Lo={class:"fixed-footer-wrap"},Ho={class:"fixed-footer"},Ko=_e({__name:"real_edit",setup(G){const oe=fe(),ae=be();oe.meta.title;const K=w(),j=w(),A=w(),z=w(),W=w(),Z=w(),q=w(),l=Ze({getFormRef(){return{basicFormRef:K.value,priceStockFormRef:j.value,deliveryFormRef:A.value,goodsArgumentsFormRef:z.value,detailFormRef:W.value,skuFormRef:Z.value,specValueRef:q.value}},addApi:He,editApi:Ke,formData:{goods_type:"real",stock:1,goods_desc:"-"},appendFormData:{delivery_type:[],is_free_shipping:1,fee_type:"template",delivery_money:"",delivery_template_id:""},appendRefreshGoodsSkuData:{weight:{value:"0",regExp:"special",message:t("weightTips")},volume:{value:"0",regExp:"special",message:t("volumeTips")}},appendSingleGoodsData(_){return{weight:_.weight,volume:_.volume}},getFormRules(_,a){return{delivery_type:[{required:!0,message:t("deliveryTypePlaceholder"),trigger:"blur"}],delivery_money:[{trigger:"blur",validator:(k,D,p)=>{_.delivery_type.indexOf("express")!=-1&&_.is_free_shipping==0&&_.fee_type=="fixed"?_.delivery_template_id.length==0&&D===""?p(new Error(t("deliveryMoneyPlaceholder"))):isNaN(D)||!a.digit.test(D)?p(new Error(t("deliveryMoneyTips"))):D<0?p(new Error(t("deliveryMoneyNotZeroTips"))):p():p()}}],delivery_template_id:[{trigger:"blur",validator:(k,D,p)=>{_.delivery_type.indexOf("express")!=-1&&_.is_free_shipping==0&&_.fee_type=="template"&&_.delivery_money.length==0&&D===""?p(new Error(t("deliveryTemplateIdPlaceholder"))):p()}}]}},getVerify(){return[{key:"delivery",verify:!1,ref:A.value}]}}),$=le([]),L=le([]),te=w(!1);ze().then(_=>{const a=_.data;a&&$.splice(0,$.length,...a)});const se=()=>{const _=ae.resolve({path:"/phone_shop/order/shipping/template"});window.open(_.href)},Q=()=>{We({}).then(_=>{const a=_.data;a&&L.splice(0,L.length,...a)})};Q(),je({goods_id:l.formData.goods_id}).then(_=>{const a=_.data;a&&(l.handleGoodsInit(a),l.formData.goods_id&&a.goods_info?(l.formData.delivery_type=a.goods_info.delivery_type,l.formData.is_free_shipping=a.goods_info.is_free_shipping,l.formData.fee_type=a.goods_info.fee_type,l.formData.delivery_money=a.goods_info.delivery_money,l.formData.delivery_template_id=a.goods_info.delivery_template_id):l.formData.delivery_type=["express","store"])});const de=()=>[{trigger:"blur",validator:(_,a,k)=>{l.formData.spec_type=="multi"?a.length>0&&(isNaN(a)||!l.regExp.special.test(a))?k(t("weightTips")):a<0?k(t("weightNotZeroTips")):k():k()}}],re=()=>[{trigger:"blur",validator:(_,a,k)=>{l.formData.spec_type=="multi"?a.length>0&&(isNaN(a)||!l.regExp.special.test(a))?k(t("volumeTips")):a<0?k(t("volumeNotZeroTips")):k():k()}}],ie=()=>{l.attrTableData.forEach(_=>{_.child.length>0&&_.type=="radio"&&(_.select_child_name=_.child[0].id,_.select_child_val=_.child[0].name)})},ne=()=>{l.save()};return(_,a)=>{const k=Ve,D=ke,p=xe,m=De,J=Le,pe=we,C=Ce,P=Ue,F=Se,N=Te,x=Pe,M=Ee,E=Re,O=Me,X=he("CircleCloseFilled"),Y=Oe,R=Ge,ee=Fe,ue=Ne,me=$e,ce=Ie;return n(),u("div",Qe,[d(D,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[d(k,{content:e(l).formData.goods_id?e(t)("updateGoods"):e(t)("addGoods"),icon:e(ge),onBack:a[0]||(a[0]=o=>_.$router.back())},null,8,["content","icon"])]),_:1}),d(D,{class:"box-card mt-[15px] !border-none",shadow:"never"},{default:r(()=>[d(ce,{modelValue:e(l).activeName,"onUpdate:modelValue":a[59]||(a[59]=o=>e(l).activeName=o),onTabClick:e(l).tabHandleClick},{default:r(()=>[d(O,{label:e(t)("basicInfoTab"),name:"basic"},{default:r(()=>[d(E,{model:e(l).formData,"label-width":"120px",ref_key:"basicFormRef",ref:K,rules:e(l).formRules,class:"page-form"},{default:r(()=>[e(l).formData.goods_id?(n(),v(p,{key:0,label:e(t)("goodsType")},{default:r(()=>[(n(!0),u(g,null,y(e(l).goodsType,o=>(n(),u("div",{key:o.type,class:H(["goods-type-wrap",[e(l).formData.goods_type==o.type?"selected":"disabled"]])},[s("div",Je,i(o.name),1),s("div",Xe,"("+i(o.desc)+")",1),e(l).formData.goods_type==o.type?(n(),u(g,{key:0},[Ye,el],64)):V("",!0)],2))),128))]),_:1},8,["label"])):(n(),v(p,{key:1,label:e(t)("goodsType")},{default:r(()=>[(n(!0),u(g,null,y(e(l).goodsType,o=>(n(),u("div",{class:H(["goods-type-wrap",{selected:e(l).formData.goods_type==o.type}]),key:o.type,onClick:f=>e(l).changeGoodsType(o)},[s("div",ol,i(o.name),1),s("div",al,"("+i(o.desc)+")",1),e(l).formData.goods_type==o.type?(n(),u(g,{key:0},[tl,sl],64)):V("",!0)],10,ll))),128))]),_:1},8,["label"])),d(p,{label:e(t)("goodsName"),prop:"goods_name"},{default:r(()=>[d(m,{modelValue:e(l).formData.goods_name,"onUpdate:modelValue":a[1]||(a[1]=o=>e(l).formData.goods_name=o),clearable:"",placeholder:e(t)("goodsNamePlaceholder"),class:"input-width",maxlength:"60","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(p,{label:e(t)("subTitle"),prop:"sub_title"},{default:r(()=>[d(m,{modelValue:e(l).formData.sub_title,"onUpdate:modelValue":a[2]||(a[2]=o=>e(l).formData.sub_title=o),clearable:"",placeholder:e(t)("subTitlePlaceholder"),class:"input-width",maxlength:"80","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(p,{label:e(t)("goodsImage"),prop:"goods_image"},{default:r(()=>[d(J,{modelValue:e(l).formData.goods_image,"onUpdate:modelValue":a[3]||(a[3]=o=>e(l).formData.goods_image=o),limit:10},null,8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("goodsCategory"),prop:"goods_category"},{default:r(()=>[d(pe,{modelValue:e(l).formData.goods_category,"onUpdate:modelValue":a[4]||(a[4]=o=>e(l).formData.goods_category=o),options:e(l).goodsCategoryOptions,props:e(l).goodsCategoryProps,clearable:"",filterable:"",onChange:e(l).categoryHandleChange,"popper-class":"choice"},null,8,["modelValue","options","props","onChange"]),s("div",dl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[5]||(a[5]=o=>e(l).refreshGoodsCategory(!0))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[6]||(a[6]=(...o)=>e(l).toGoodsCategoryEvent&&e(l).toGoodsCategoryEvent(...o))},i(e(t)("addGoodsCategory")),1)])]),_:1},8,["label"]),d(p,{label:e(t)("brand")},{default:r(()=>[d(P,{modelValue:e(l).formData.brand_id,"onUpdate:modelValue":a[7]||(a[7]=o=>e(l).formData.brand_id=o),placeholder:e(t)("brandPlaceholder"),clearable:""},{default:r(()=>[(n(!0),u(g,null,y(e(l).brandOptions,o=>(n(),v(C,{key:o.brand_id,label:o.brand_name,value:o.brand_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",rl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[8]||(a[8]=o=>e(l).refreshGoodsBrand(!0))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[9]||(a[9]=(...o)=>e(l).toGoodsBrandEvent&&e(l).toGoodsBrandEvent(...o))},i(e(t)("addGoodsBrand")),1)])]),_:1},8,["label"]),d(p,{label:e(t)("poster")},{default:r(()=>[d(P,{modelValue:e(l).formData.poster_id,"onUpdate:modelValue":a[10]||(a[10]=o=>e(l).formData.poster_id=o),placeholder:e(t)("posterPlaceholder"),clearable:""},{default:r(()=>[(n(!0),u(g,null,y(e(l).posterOptions,o=>(n(),v(C,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",il,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[11]||(a[11]=o=>e(l).refreshGoodsPoster(!0))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[12]||(a[12]=(...o)=>e(l).toPosterEvent&&e(l).toPosterEvent(...o))},i(e(t)("addGoodsPoster")),1)])]),_:1},8,["label"]),s("div",nl,i(e(t)("posterTips")),1),d(p,{label:e(t)("label")},{default:r(()=>[d(N,{modelValue:e(l).formData.label_ids,"onUpdate:modelValue":a[13]||(a[13]=o=>e(l).formData.label_ids=o)},{default:r(()=>[(n(!0),u(g,null,y(e(l).labelOptions,(o,f)=>(n(),v(F,{label:o.label_id,key:f},{default:r(()=>[h(i(o.label_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",pl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[14]||(a[14]=(...o)=>e(l).refreshGoodsLabel&&e(l).refreshGoodsLabel(...o))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[15]||(a[15]=(...o)=>e(l).toGoodsLabelEvent&&e(l).toGoodsLabelEvent(...o))},i(e(t)("addGoodsLabel")),1)])]),_:1},8,["label"]),d(p,{label:e(t)("goodsService")},{default:r(()=>[d(N,{modelValue:e(l).formData.service_ids,"onUpdate:modelValue":a[16]||(a[16]=o=>e(l).formData.service_ids=o)},{default:r(()=>[(n(!0),u(g,null,y(e(l).serviceOptions,(o,f)=>(n(),v(F,{label:o.service_id,key:f},{default:r(()=>[h(i(o.service_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",ul,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[17]||(a[17]=(...o)=>e(l).refreshGoodsService&&e(l).refreshGoodsService(...o))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[18]||(a[18]=(...o)=>e(l).toGoodsServiceEvent&&e(l).toGoodsServiceEvent(...o))},i(e(t)("addGoodsService")),1)])]),_:1},8,["label"]),e(l).formData.addon_shop_supplier&&e(l).formData.addon_shop_supplier.status==1?(n(),v(p,{key:2,label:e(t)("supplier")},{default:r(()=>[d(P,{modelValue:e(l).formData.supplier_id,"onUpdate:modelValue":a[19]||(a[19]=o=>e(l).formData.supplier_id=o),placeholder:e(t)("supplierPlaceholder"),clearable:""},{default:r(()=>[(n(!0),u(g,null,y(e(l).supplierOptions,o=>(n(),v(C,{key:o.supplier_id,label:o.supplier_name,value:o.supplier_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",ml,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:a[20]||(a[20]=(...o)=>e(l).refreshSupplier&&e(l).refreshSupplier(...o))},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:a[21]||(a[21]=(...o)=>e(l).toSupplierEvent&&e(l).toSupplierEvent(...o))},i(e(t)("addSupplier")),1)])]),_:1},8,["label"])):V("",!0),d(p,{label:e(t)("status")},{default:r(()=>[d(M,{modelValue:e(l).formData.status,"onUpdate:modelValue":a[22]||(a[22]=o=>e(l).formData.status=o)},{default:r(()=>[d(x,{label:"1"},{default:r(()=>[h(i(e(t)("statusOn")),1)]),_:1}),d(x,{label:"0"},{default:r(()=>[h(i(e(t)("statusOff")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("unit"),prop:"unit"},{default:r(()=>[d(m,{modelValue:e(l).formData.unit,"onUpdate:modelValue":a[23]||(a[23]=o=>e(l).formData.unit=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("unitPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"6"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(p,{label:e(t)("virtualSaleNum"),prop:"virtual_sale_num"},{default:r(()=>[s("div",null,[d(m,{modelValue:e(l).formData.virtual_sale_num,"onUpdate:modelValue":a[24]||(a[24]=o=>e(l).formData.virtual_sale_num=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("virtualSaleNumPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"8",onKeyup:a[25]||(a[25]=o=>e(B)(o)),onBlur:a[26]||(a[26]=o=>e(l).formData.virtual_sale_num=o.target.value)},{append:r(()=>[h(i(e(l).formData.unit?e(l).formData.unit:"件"),1)]),_:1},8,["modelValue","placeholder"]),s("div",cl,i(e(t)("virtualSaleNumDesc")),1)])]),_:1},8,["label"]),d(p,{label:e(t)("sort"),prop:"sort"},{default:r(()=>[d(m,{modelValue:e(l).formData.sort,"onUpdate:modelValue":a[27]||(a[27]=o=>e(l).formData.sort=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("sortPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"8",onKeyup:a[28]||(a[28]=o=>e(B)(o)),onBlur:a[29]||(a[29]=o=>e(l).formData.sort=o.target.value)},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(O,{label:e(t)("priceStockTab"),name:"price_stock"},{default:r(()=>[d(E,{model:e(l).formData,"label-width":"120px",ref_key:"priceStockFormRef",ref:j,rules:e(l).formRules,class:"page-form"},{default:r(()=>[d(p,{label:e(t)("specType"),prop:"spec_type"},{default:r(()=>[s("div",null,[d(M,{modelValue:e(l).formData.spec_type,"onUpdate:modelValue":a[30]||(a[30]=o=>e(l).formData.spec_type=o)},{default:r(()=>[d(x,{label:"single",disabled:e(l).isDisabledPrice()},{default:r(()=>[h(i(e(t)("singleSpec")),1)]),_:1},8,["disabled"]),d(x,{label:"multi",disabled:e(l).isDisabledPrice()},{default:r(()=>[h(i(e(t)("multiSpec")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),e(l).isDisabledPrice()?(n(),u("div",_l,i(e(t)("participateInActiveDisableTips")),1)):V("",!0)])]),_:1},8,["label"]),e(l).formData.spec_type=="single"?(n(),u(g,{key:0},[e(ve)().siteInfo.site_id==100005?(n(),v(p,{key:0,label:"批发售价",prop:"price"},{default:r(()=>[d(m,{modelValue:e(l).formData.price,"onUpdate:modelValue":a[31]||(a[31]=o=>e(l).formData.price=o),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8",disabled:e(l).isDisabledPrice()},{append:r(()=>[h(i(e(t)("yuan")),1)]),_:1},8,["modelValue","disabled"])]),_:1})):(n(),v(p,{key:1,label:e(t)("price"),prop:"price"},{default:r(()=>[d(m,{modelValue:e(l).formData.price,"onUpdate:modelValue":a[32]||(a[32]=o=>e(l).formData.price=o),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8",disabled:e(l).isDisabledPrice()},{append:r(()=>[h(i(e(t)("yuan")),1)]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])),d(p,{label:e(t)("marketPrice"),prop:"market_price"},{default:r(()=>[d(m,{modelValue:e(l).formData.market_price,"onUpdate:modelValue":a[33]||(a[33]=o=>e(l).formData.market_price=o),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:r(()=>[h(i(e(t)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("costPrice"),prop:"cost_price"},{default:r(()=>[d(m,{modelValue:e(l).formData.cost_price,"onUpdate:modelValue":a[34]||(a[34]=o=>e(l).formData.cost_price=o),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:r(()=>[h(i(e(t)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("weight"),prop:"weight"},{default:r(()=>[d(m,{modelValue:e(l).formData.weight,"onUpdate:modelValue":a[35]||(a[35]=o=>e(l).formData.weight=o),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"6"},{append:r(()=>[h("kg")]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("volume"),prop:"volume"},{default:r(()=>[d(m,{modelValue:e(l).formData.volume,"onUpdate:modelValue":a[36]||(a[36]=o=>e(l).formData.volume=o),modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",class:"input-width",maxlength:"6"},{append:r(()=>[h("m³")]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("goodsStock"),prop:"stock"},{default:r(()=>[d(m,{modelValue:e(l).formData.stock,"onUpdate:modelValue":a[37]||(a[37]=o=>e(l).formData.stock=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("goodsStockPlaceholder"),class:"input-width",maxlength:"8",onKeyup:a[38]||(a[38]=o=>e(B)(o)),disabled:e(l).isDisabledPrice()},{append:r(()=>[h(i(e(l).formData.unit?e(l).formData.unit:e(t)("defaultUnit")),1)]),_:1},8,["modelValue","placeholder","disabled"])]),_:1},8,["label"]),d(p,{label:e(t)("skuNo")},{default:r(()=>[d(m,{modelValue:e(l).formData.sku_no,"onUpdate:modelValue":a[39]||(a[39]=o=>e(l).formData.sku_no=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("skuNoPlaceholder"),class:"input-width",maxlength:"50",onKeyup:a[40]||(a[40]=o=>e(l).filterSpecial(o))},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):V("",!0)]),_:1},8,["model","rules"]),d(E,{model:e(l).goodsSkuData,"label-width":"120px",ref_key:"skuFormRef",ref:Z,class:"page-form"},{default:r(()=>[U(s("div",fl,[s("div",bl,i(e(t)("goodsSku")),1),s("div",hl,[s("div",gl,[(n(!0),u(g,null,y(e(l).goodsSpecFormat,(o,f)=>(n(),u("div",{class:"spec-item",key:o.id},[s("div",vl,[d(m,{modelValue:o.spec_name,"onUpdate:modelValue":c=>o.spec_name=c,modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("specNamePlaceholder"),class:"input-width",maxlength:"20"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),s("div",yl,[s("ul",{ref_for:!0,ref_key:"specValueRef",ref:q},[(n(!0),u(g,null,y(o.values,(c,b)=>(n(),u("li",{class:H("draggable-element"+f),key:c.id},[d(m,{modelValue:c.spec_value_name,"onUpdate:modelValue":I=>c.spec_value_name=I,modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("specValueNamePlaceholder"),class:"input-width","suffix-icon":e(ye),maxlength:"20",onInput:e(l).specValueNameInputListener},null,8,["modelValue","onUpdate:modelValue","placeholder","suffix-icon","onInput"]),d(Y,{class:"icon",size:20,color:"#7b7b7b",onClick:I=>e(l).deleteSpecValue(f,b)},{default:r(()=>[d(X)]),_:2},1032,["onClick"])],2))),128))],512),s("span",{class:"text-color text-[14px] add-spec-value",onClick:c=>e(l).addSpecValue(f)},i(e(t)("addSpecValue")),9,Vl),kl]),d(Y,{class:"del-spec",size:20,color:"#7b7b7b",onClick:c=>e(l).deleteSpec(f)},{default:r(()=>[d(X)]),_:2},1032,["onClick"])]))),128))]),s("div",xl,[d(R,{type:"primary",onClick:e(l).addSpec},{default:r(()=>[h(i(e(t)("addSpec")),1)]),_:1},8,["onClick"])]),U(s("div",Dl,[s("label",null,i(e(t)("batchOperationSku")),1),d(P,{modelValue:e(l).batchOperation.spec,"onUpdate:modelValue":a[41]||(a[41]=o=>e(l).batchOperation.spec=o),class:"set-spec-select",placeholder:e(t)("all")},{default:r(()=>[d(C,{label:e(t)("all"),value:""},null,8,["label"]),(n(!0),u(g,null,y(e(l).goodsSkuData,(o,f)=>(n(),u(g,{key:f},[o.spec_name?(n(),v(C,{key:0,label:o.spec_name,value:f},null,8,["label","value"])):V("",!0)],64))),128))]),_:1},8,["modelValue","placeholder"]),e(l).isDisabledPrice()?V("",!0):(n(),v(m,{key:0,modelValue:e(l).batchOperation.price,"onUpdate:modelValue":a[42]||(a[42]=o=>e(l).batchOperation.price=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("price"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"])),d(m,{modelValue:e(l).batchOperation.market_price,"onUpdate:modelValue":a[43]||(a[43]=o=>e(l).batchOperation.market_price=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("marketPrice"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"]),d(m,{modelValue:e(l).batchOperation.cost_price,"onUpdate:modelValue":a[44]||(a[44]=o=>e(l).batchOperation.cost_price=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("costPrice"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"]),e(l).isDisabledPrice()?V("",!0):(n(),v(m,{key:1,modelValue:e(l).batchOperation.stock,"onUpdate:modelValue":a[45]||(a[45]=o=>e(l).batchOperation.stock=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("stock"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"])),d(m,{modelValue:e(l).batchOperation.weight,"onUpdate:modelValue":a[46]||(a[46]=o=>e(l).batchOperation.weight=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("skuWeight"),class:"set-input",maxlength:"6"},null,8,["modelValue","placeholder"]),d(m,{modelValue:e(l).batchOperation.volume,"onUpdate:modelValue":a[47]||(a[47]=o=>e(l).batchOperation.volume=o),modelModifiers:{trim:!0},clearable:"",placeholder:e(t)("skuVolume"),class:"set-input",maxlength:"6"},null,8,["modelValue","placeholder"]),d(m,{modelValue:e(l).batchOperation.sku_no,"onUpdate:modelValue":a[48]||(a[48]=o=>e(l).batchOperation.sku_no=o),modelModifiers:{trim:!0},clearable:"",maxlength:"50",placeholder:e(t)("skuNo"),class:"set-input"},null,8,["modelValue","placeholder"]),d(R,{type:"primary",onClick:e(l).saveBatch},{default:r(()=>[h(i(e(t)("confirm")),1)]),_:1},8,["onClick"])],512),[[S,Object.keys(e(l).goodsSkuData).length]]),U(s("div",wl,[s("div",Cl,[s("div",Ul,[s("div",Sl,[s("table",Tl,[s("thead",null,[s("tr",null,[(n(!0),u(g,null,y(e(l).goodsSpecFormat,(o,f)=>(n(),u(g,{key:f},[o.spec_name?(n(),u("th",Pl,[s("div",El,i(o.spec_name),1)])):V("",!0)],64))),128)),s("th",Rl,[s("div",Ml,i(e(t)("image")),1)]),s("th",Ol,[s("div",Gl,i(e(t)("price")),1)]),s("th",Fl,[s("div",Nl,i(e(t)("marketPrice")),1)]),s("th",Il,[s("div",Bl,i(e(t)("costPrice")),1)]),s("th",Al,[s("div",$l,i(e(t)("stock")),1)]),s("th",Ll,[s("div",Hl,i(e(t)("skuWeight")),1)]),s("th",Kl,[s("div",jl,i(e(t)("skuVolume")),1)]),s("th",zl,[s("div",Wl,i(e(t)("skuNo")),1)]),s("th",Zl,[s("div",ql,i(e(t)("defaultSku")),1)])])])])]),s("div",Ql,[s("div",Jl,[s("div",Xl,[s("div",Yl,[s("table",eo,[s("tbody",lo,[(n(!0),u(g,null,y(e(l).goodsSkuData,(o,f,c)=>(n(),u("tr",{class:"el-table__row",key:f},[(n(!0),u(g,null,y(e(l).specData,(b,I)=>(n(),u(g,{key:I},[b.index==c?(n(),u("td",{key:0,class:"el-table__cell",rowspan:b.rowSpan},[s("div",ao,i(b.spec_value_name),1)],8,oo)):V("",!0)],64))),128)),s("td",to,[s("div",so,[d(J,{modelValue:o.sku_image,"onUpdate:modelValue":b=>o.sku_image=b,limit:1,width:"50px",height:"50px"},null,8,["modelValue","onUpdate:modelValue"])])]),s("td",ro,[s("div",io,[d(p,{prop:f+".price",rules:e(l).skuPriceRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:o.price,"onUpdate:modelValue":b=>o.price=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"8",disabled:e(l).isDisabledPrice()},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["prop","rules"])])]),s("td",no,[s("div",po,[d(p,{prop:f+".market_price",rules:e(l).skuMarketPriceRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:o.market_price,"onUpdate:modelValue":b=>o.market_price=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"8"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",uo,[s("div",mo,[d(p,{prop:f+".cost_price",rules:e(l).skuCostPriceRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:o.cost_price,"onUpdate:modelValue":b=>o.cost_price=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"8"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",co,[s("div",_o,[d(p,{prop:f+".stock",rules:e(l).skuStockRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:o.stock,"onUpdate:modelValue":b=>o.stock=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0",onInput:e(l).specStockSum,maxlength:"8",disabled:e(l).isDisabledPrice()},null,8,["modelValue","onUpdate:modelValue","onInput","disabled"])]),_:2},1032,["prop","rules"])])]),s("td",fo,[s("div",bo,[d(p,{prop:f+".weight",rules:de(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:o.weight,"onUpdate:modelValue":b=>o.weight=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"6"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",ho,[s("div",go,[d(p,{prop:f+".volume",rules:re(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:o.volume,"onUpdate:modelValue":b=>o.volume=b,modelModifiers:{trim:!0},clearable:"",placeholder:"0.00",maxlength:"6"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",vo,[s("div",yo,[d(m,{modelValue:o.sku_no,"onUpdate:modelValue":b=>o.sku_no=b,modelModifiers:{trim:!0},clearable:"",maxlength:"50"},null,8,["modelValue","onUpdate:modelValue"])])]),s("td",Vo,[s("div",ko,[d(ee,{modelValue:o.is_default,"onUpdate:modelValue":b=>o.is_default=b,"active-value":1,"inactive-value":0,onChange:b=>e(l).specValueIsDefaultChangeListener(b,f)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])])])])])])])])],512),[[S,Object.keys(e(l).goodsSkuData).length]])])],512),[[S,e(l).formData.spec_type=="multi"]]),d(p,{label:e(t)("memberDiscount")},{default:r(()=>[s("div",null,[d(M,{modelValue:e(l).formData.member_discount,"onUpdate:modelValue":a[49]||(a[49]=o=>e(l).formData.member_discount=o)},{default:r(()=>[d(x,{label:""},{default:r(()=>[h(i(e(t)("nonparticipation")),1)]),_:1}),d(x,{label:"discount"},{default:r(()=>[h(i(e(t)("discount")),1)]),_:1}),d(x,{label:"fixed_price"},{default:r(()=>[h(i(e(t)("fixedPrice")),1)]),_:1})]),_:1},8,["modelValue"]),e(l).formData.member_discount=="discount"?(n(),u("div",xo,i(e(t)("discountHint")),1)):V("",!0),e(l).formData.member_discount=="fixed_price"?(n(),u("div",Do,i(e(t)("fixedPriceHint")),1)):V("",!0)])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["label"]),d(O,{label:e(t)("deliveryTab"),name:"delivery"},{default:r(()=>[d(E,{model:e(l).formData,"label-width":"120px",ref_key:"deliveryFormRef",ref:A,rules:e(l).formRules,class:"page-form"},{default:r(()=>[d(p,{label:e(t)("deliveryType"),prop:"delivery_type"},{default:r(()=>[s("div",null,[d(N,{modelValue:e(l).formData.delivery_type,"onUpdate:modelValue":a[50]||(a[50]=o=>e(l).formData.delivery_type=o)},{default:r(()=>[(n(!0),u(g,null,y($,(o,f)=>(n(),v(F,{key:f,label:o.key},{default:r(()=>[h(i(o.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),te.value?(n(),u("div",wo," 请先在配置设置中设置配送方式")):V("",!0)])]),_:1},8,["label"]),U(d(p,{label:e(t)("isFreeShipping")},{default:r(()=>[d(ee,{modelValue:e(l).formData.is_free_shipping,"onUpdate:modelValue":a[51]||(a[51]=o=>e(l).formData.is_free_shipping=o),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1},8,["label"]),[[S,e(l).formData.delivery_type.indexOf("express")!=-1]]),U(d(p,{label:e(t)("feeType"),prop:"fee_type"},{default:r(()=>[d(M,{modelValue:e(l).formData.fee_type,"onUpdate:modelValue":a[52]||(a[52]=o=>e(l).formData.fee_type=o)},{default:r(()=>[d(x,{label:"template"},{default:r(()=>[h(i(e(t)("selectTemplate")),1)]),_:1}),d(x,{label:"fixed"},{default:r(()=>[h(i(e(t)("fixedShipping")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),[[S,e(l).formData.delivery_type.indexOf("express")!=-1&&e(l).formData.is_free_shipping==0]]),U(d(p,{label:e(t)("deliveryMoney"),prop:"delivery_money"},{default:r(()=>[d(m,{modelValue:e(l).formData.delivery_money,"onUpdate:modelValue":a[53]||(a[53]=o=>e(l).formData.delivery_money=o),clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:r(()=>[h(i(e(t)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),[[S,e(l).formData.delivery_type.indexOf("express")!=-1&&e(l).formData.is_free_shipping==0&&e(l).formData.fee_type=="fixed"]]),U(d(p,{label:e(t)("deliveryTemplateId"),prop:"delivery_template_id"},{default:r(()=>[d(P,{modelValue:e(l).formData.delivery_template_id,"onUpdate:modelValue":a[54]||(a[54]=o=>e(l).formData.delivery_template_id=o),placeholder:e(t)("deliveryTemplateIdPlaceholder"),filterable:"",autocomplete:"off",clearable:""},{default:r(()=>[(n(!0),u(g,null,y(L,o=>(n(),v(C,{key:o.template_id,label:o.template_name,value:o.template_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",Co,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:Q},i(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:se},i(e(t)("addDeliveryTemplateId")),1)])]),_:1},8,["label"]),[[S,e(l).formData.delivery_type.indexOf("express")!=-1&&e(l).formData.is_free_shipping==0&&e(l).formData.fee_type=="template"]])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(O,{label:e(t)("goodsArguments"),name:"goods_arguments"},{default:r(()=>[d(E,{model:e(l).formData,"label-width":"120px",ref_key:"goodsArgumentsFormRef",ref:z,rules:e(l).formRules,class:"page-form"},{default:r(()=>[d(p,{label:e(t)("goodsArgumentsTemp")},{default:r(()=>[s("div",null,[d(P,{modelValue:e(l).formData.attr_id,"onUpdate:modelValue":a[55]||(a[55]=o=>e(l).formData.attr_id=o),placeholder:e(t)("goodsArgumentsTempPlaceholder"),clearable:"",onChange:e(l).attrChange,onClear:a[56]||(a[56]=o=>e(l).attrChange(-1))},{default:r(()=>[(n(!0),u(g,null,y(e(l).attrOptions,o=>(n(),v(C,{key:o.attr_id,label:o.attr_name,value:o.attr_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","onChange"]),d(R,{class:"ml-2",onClick:ie},{default:r(()=>[h(" 一键全选")]),_:1}),s("div",Uo,i(e(t)("goodsArgumentsTempHint")),1),s("table",So,[To,s("thead",Po,[s("tr",null,[s("th",null,i(e(t)("argumentsName")),1),s("th",null,i(e(t)("argumentsValue")),1),s("th",Eo,[s("div",Ro,[s("span",null,i(e(t)("sort")),1),d(ue,{class:"box-item",effect:"dark",content:e(t)("argumentsSortHint"),placement:"right"},{default:r(()=>[Mo]),_:1},8,["content"])])]),s("th",null,i(e(t)("operation")),1)])]),s("tbody",Oo,[e(l).attrTableData.length?(n(!0),u(g,{key:0},y(e(l).attrTableData,(o,f)=>(n(),u("tr",{class:"goods-attr-tr goods-new-attr-tr",key:f},[o.attr_value_id>0?(n(),u("td",Go,i(o.attr_value_name),1)):(n(),u("td",Fo,[d(m,{modelValue:o.attr_value_name,"onUpdate:modelValue":c=>o.attr_value_name=c,modelModifiers:{trim:!0},maxlength:"20","show-word-limit":"",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),s("td",null,[o.type=="text"?(n(),v(m,{key:0,maxlength:"20","show-word-limit":"",modelValue:o.select_child_val,"onUpdate:modelValue":c=>o.select_child_val=c,modelModifiers:{trim:!0},clearable:""},null,8,["modelValue","onUpdate:modelValue"])):o.type=="radio"?(n(),u("div",No,[d(M,{modelValue:o.select_child_name,"onUpdate:modelValue":c=>o.select_child_name=c,onChange:c=>e(l).attrRadioChange(f,c)},{default:r(()=>[(n(!0),u(g,null,y(o.child,(c,b)=>(n(),v(x,{key:b,label:c.id},{default:r(()=>[h(i(c.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):o.type=="checkbox"?(n(),u("div",Io,[d(N,{modelValue:o.select_child_name,"onUpdate:modelValue":c=>o.select_child_name=c,onChange:c=>e(l).attrCheckboxChange(f,c)},{default:r(()=>[(n(!0),u(g,null,y(o.child,(c,b)=>(n(),v(F,{key:b,label:c.id},{default:r(()=>[h(i(c.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):V("",!0)]),s("td",null,[d(m,{modelValue:o.sort,"onUpdate:modelValue":c=>o.sort=c,modelModifiers:{trim:!0},maxlength:"6","show-word-limit":"",clearable:"",onKeyup:a[57]||(a[57]=c=>e(B)(c))},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("span",{class:"cursor-pointer text-[var(--el-color-primary)]",onClick:c=>e(l).delAttr(f)},i(e(t)("delAttr")),9,Bo)])]))),128)):(n(),u("tr",Ao,[s("td",$o,i(e(t)("noData")),1)]))])]),d(R,{class:"mt-[15px]",onClick:e(l).addAttr},{default:r(()=>[h(i(e(t)("addGoodsArguments")),1)]),_:1},8,["onClick"])])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(O,{label:e(t)("goodsDesc"),name:"detail"},{default:r(()=>[d(E,{model:e(l).formData,"label-width":"120px",ref_key:"detailFormRef",ref:W,rules:e(l).formRules,class:"page-form"},{default:r(()=>[d(p,{label:e(t)("goodsDesc"),prop:"goods_desc"},{default:r(()=>[d(me,{modelValue:e(l).formData.goods_desc,"onUpdate:modelValue":a[58]||(a[58]=o=>e(l).formData.goods_desc=o),height:600,onHandleBlur:e(l).handleBlur,class:"editor-width"},null,8,["modelValue","onHandleBlur"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"])]),_:1},8,["modelValue","onTabClick"])]),_:1}),s("div",Lo,[s("div",Ho,[d(R,{type:"primary",onClick:a[60]||(a[60]=o=>ne())},{default:r(()=>[h(i(e(t)("save")),1)]),_:1}),d(R,{onClick:a[61]||(a[61]=o=>e(l).back())},{default:r(()=>[h(i(e(t)("back")),1)]),_:1})])])])}}});const Ia=qe(Ko,[["__scopeId","data-v-7847a29d"]]);export{Ia as default};
