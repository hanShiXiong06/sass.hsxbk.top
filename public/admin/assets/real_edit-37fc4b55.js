import{d as me,x as ce,f as _e,r as w,q as t,n as ee,a2 as fe,h as i,c as u,a as s,u as e,t as n,e as d,w as r,s as y,F as g,T as v,v as H,B as V,i as h,c1 as B,R as U,cU as be,a0 as S,L as he,K as ge,bN as ve,aa as ye,aB as Ve,au as xe,cb as ke,as as De,at as we,M as Ce,aw as Ue,a1 as Se,E as Te,aS as Ee,aU as Pe,ax as Re,a6 as Oe,p as Ge,g as Fe}from"./index-f7a01263.js";/* empty css                *//* empty css                    */import{_ as Ne}from"./index.vue_vue_type_script_setup_true_lang-6490c353.js";import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                       *//* empty css                 *//* empty css                          *//* empty css                    *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                          */import Ie from"./index-e6c6f5a6.js";import{Z as Be,_ as Ae,$ as $e}from"./goods-d18d2d10.js";import{i as Le,A as He}from"./delivery-3ed9abb1.js";import{u as Ke}from"./useGoodsEdit-d34e0c35.js";import{_ as Me}from"./_plugin-vue_export-helper-c27b6911.js";import"./index.vue_vue_type_style_index_0_lang-0595c85c.js";/* empty css                  *//* empty css                   */import"./attachment-893e498c.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-473c7dda.js";/* empty css                        *//* empty css                      *//* empty css                 *//* empty css               *//* empty css               *//* empty css                    *//* empty css                    */import"./el-dropdown-item-4ed993c7.js";import"./index.vue_vue_type_script_setup_true_lang-a36ce1b6.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-73e73d1c.js";import"./sortable.esm-be94e56d.js";import"./poster-05fdb344.js";import"./range-b6a9fbf2.js";const D=G=>(Ge("data-v-a1936dc2"),G=G(),Fe(),G),ze={class:"main-container"},Ze={class:"detail-head"},je=D(()=>s("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1)),We={class:"ml-[1px]"},qe=D(()=>s("span",{class:"adorn"},"|",-1)),Je={class:"right"},Qe={class:"goods-type-name"},Xe={class:"goods-type-desc"},Ye=D(()=>s("div",{class:"triangle"},null,-1)),el=D(()=>s("div",{class:"selected"},"✓",-1)),ll=["onClick"],al={class:"goods-type-name"},ol={class:"goods-type-desc"},tl=D(()=>s("div",{class:"triangle"},null,-1)),sl=D(()=>s("div",{class:"selected"},"✓",-1)),dl={class:"ml-[10px]"},rl={class:"ml-[10px]"},nl={class:"ml-[10px]"},il={class:"ml-[120px] mb-[10px] text-[12px] text-[#999] leading-[20px]"},pl={class:"ml-[10px]"},ul={class:"ml-[10px]"},ml={class:"ml-[10px]"},cl={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},_l={key:0,class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},fl={class:"el-form-item asterisk-left"},bl={class:"el-form-item__label w-[120px]"},hl={class:"spec-wrap"},gl={class:"spec-edit-list"},vl={class:"spec-name-wrap"},yl={class:"spec-value-wrap"},Vl=["onClick"],xl=D(()=>s("div",{class:"box"},null,-1)),kl={class:"add-spec"},Dl={class:"batch-operation-sku"},wl={class:"sku-table"},Cl={class:"el-table--fit el-table--default el-table",style:{width:"100%"}},Ul={class:"el-table__inner-wrapper"},Sl={class:"el-table__header-wrapper"},Tl={class:"el-table__header",border:"0",cellpadding:"0",cellspacing:"0",style:{width:"100%"}},El={key:0,class:"el-table__cell"},Pl={class:"cell"},Rl={class:"el-table__cell"},Ol={class:"cell"},Gl={class:"el-table__cell"},Fl={class:"cell"},Nl={class:"el-table__cell"},Il={class:"cell"},Bl={class:"el-table__cell"},Al={class:"cell"},$l={class:"el-table__cell"},Ll={class:"cell"},Hl={class:"el-table__cell"},Kl={class:"cell"},Ml={class:"el-table__cell"},zl={class:"cell"},Zl={class:"el-table__cell"},jl={class:"cell"},Wl={class:"el-table__cell"},ql={class:"cell"},Jl={class:"el-table__body-wrapper"},Ql={class:"el-scrollbar"},Xl={class:"el-scrollbar__wrap el-scrollbar__wrap--hidden-default"},Yl={class:"el-scrollbar__view",style:{display:"inline-block","vertical-align":"middle"}},ea={class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0",style:{"table-layout":"fixed",width:"100%"}},la={tabindex:"-1"},aa=["rowspan"],oa={class:"cell"},ta={class:"el-table__cell"},sa={class:"cell"},da={class:"el-table__cell"},ra={class:"cell"},na={class:"el-table__cell"},ia={class:"cell"},pa={class:"el-table__cell"},ua={class:"cell"},ma={class:"el-table__cell"},ca={class:"cell"},_a={class:"el-table__cell"},fa={class:"cell"},ba={class:"el-table__cell"},ha={class:"cell"},ga={class:"el-table__cell"},va={class:"cell"},ya={class:"el-table__cell"},Va={class:"cell"},xa={key:0,class:"text-[12px] text-[#999] leading-[20px]"},ka={key:1,class:"text-[12px] text-[#999] leading-[20px]"},Da={key:0,class:"text-[12px] text-[#999] leading-[20px]"},wa={class:"ml-[10px]"},Ca={class:"mt-[10px] text-[12px] text-[#999] leading-[20px]"},Ua={class:"attr-table mt-[10px]"},Sa=D(()=>s("colgroup",null,[s("col",{width:"30%"}),s("col",{width:"40%"}),s("col",{width:"20%"}),s("col",{width:"10%"})],-1)),Ta={class:"bg-[#f7f7f7]"},Ea={class:"prompt-block"},Pa={class:"flex items-center"},Ra=D(()=>s("span",{class:"iconfont iconwenhao cursor-pointer ml-[3px] mt-[3px] !text-[14px]"},null,-1)),Oa={class:"attr-new"},Ga={key:0},Fa={key:1},Na={key:1},Ia={key:2},Ba=["onClick"],Aa={key:1},$a={colspan:"4",class:"text-center"},La={class:"fixed-footer-wrap"},Ha={class:"fixed-footer"},Ka=me({__name:"real_edit",setup(G){ce();const K=_e(),M=w(),z=w(),A=w(),Z=w(),j=w(),W=w(),q=w(),a=Ke({getFormRef(){return{basicFormRef:M.value,priceStockFormRef:z.value,deliveryFormRef:A.value,goodsArgumentsFormRef:Z.value,detailFormRef:j.value,skuFormRef:W.value,specValueRef:q.value}},addApi:Be,editApi:Ae,formData:{goods_type:"real",stock:1,goods_desc:"-"},appendFormData:{delivery_type:[],is_free_shipping:1,fee_type:"template",delivery_money:"",delivery_template_id:""},appendRefreshGoodsSkuData:{weight:{value:"",regExp:"special",message:t("weightTips")},volume:{value:"",regExp:"special",message:t("volumeTips")}},appendSingleGoodsData(f){return{weight:f.weight,volume:f.volume}},getFormRules(f,o){return{delivery_type:[{required:!0,message:t("deliveryTypePlaceholder"),trigger:"blur"}],delivery_money:[{trigger:"blur",validator:(p,m,x)=>{f.delivery_type.indexOf("express")!=-1&&f.is_free_shipping==0&&f.fee_type=="fixed"?f.delivery_template_id.length==0&&m===""?x(new Error(t("deliveryMoneyPlaceholder"))):isNaN(m)||!o.digit.test(m)?x(new Error(t("deliveryMoneyTips"))):m<0?x(new Error(t("deliveryMoneyNotZeroTips"))):x():x()}}],delivery_template_id:[{trigger:"blur",validator:(p,m,x)=>{f.delivery_type.indexOf("express")!=-1&&f.is_free_shipping==0&&f.fee_type=="template"&&f.delivery_money.length==0&&m===""?x(new Error(t("deliveryTemplateIdPlaceholder"))):x()}}]}},getVerify(){return[{key:"delivery",verify:!1,ref:A.value}]}}),$=ee([]),L=ee([]),le=w(!1);Le().then(f=>{const o=f.data;o&&$.splice(0,$.length,...o)});const ae=()=>{const f=K.resolve({path:"/shop/order/shipping/template"});window.open(f.href)},J=()=>{He({}).then(f=>{const o=f.data;o&&L.splice(0,L.length,...o)})};J(),$e({goods_id:a.formData.goods_id}).then(f=>{const o=f.data;o&&(a.handleGoodsInit(o),a.formData.goods_id&&o.goods_info?(console.log(444),a.formData.delivery_type=o.goods_info.delivery_type,a.formData.is_free_shipping=o.goods_info.is_free_shipping,a.formData.fee_type=o.goods_info.fee_type,a.formData.delivery_money=o.goods_info.delivery_money,a.formData.delivery_template_id=o.goods_info.delivery_template_id):a.formData.delivery_type=["express","store"])});const oe=()=>[{trigger:"blur",validator:(f,o,p)=>{a.formData.spec_type=="multi"?o.length>0&&(isNaN(o)||!a.regExp.special.test(o))?p(t("weightTips")):o<0?p(t("weightNotZeroTips")):p():p()}}],te=()=>[{trigger:"blur",validator:(f,o,p)=>{a.formData.spec_type=="multi"?o.length>0&&(isNaN(o)||!a.regExp.special.test(o))?p(t("volumeTips")):o<0?p(t("volumeNotZeroTips")):p():p()}}],se=()=>{a.attrTableData.forEach(f=>{f.child.length>0&&f.type=="radio"&&(f.select_child_name=f.child[0].id,f.select_child_val=f.child[0].name)}),console.log(a.attrTableData)},de=()=>{a.save()};return(f,o)=>{const p=he,m=ge,x=Ie,re=ve,C=ye,T=Ve,F=xe,N=ke,k=De,R=we,E=Ce,O=Ue,Q=fe("CircleCloseFilled"),X=Se,P=Te,Y=Ee,ne=Pe,ie=Ne,pe=Re,ue=Oe;return i(),u("div",ze,[s("div",Ze,[s("div",{class:"left",onClick:o[0]||(o[0]=l=>e(K).push("/shop/goods/list"))},[je,s("span",We,n(e(t)("returnToPreviousPage")),1)]),qe,s("span",Je,n(e(a).formData.goods_id?e(t)("updateGoods"):e(t)("addGoods")),1)]),d(ue,{class:"box-card !border-none",shadow:"never"},{default:r(()=>[d(pe,{modelValue:e(a).activeName,"onUpdate:modelValue":o[58]||(o[58]=l=>e(a).activeName=l),onTabClick:e(a).tabHandleClick},{default:r(()=>[d(O,{label:e(t)("basicInfoTab"),name:"basic"},{default:r(()=>[d(E,{model:e(a).formData,"label-width":"120px",ref_key:"basicFormRef",ref:M,rules:e(a).formRules,class:"page-form"},{default:r(()=>[e(a).formData.goods_id?(i(),y(p,{key:0,label:e(t)("goodsType")},{default:r(()=>[(i(!0),u(g,null,v(e(a).goodsType,l=>(i(),u("div",{key:l.type,class:H(["goods-type-wrap",[e(a).formData.goods_type==l.type?"selected":"disabled"]])},[s("div",Qe,n(l.name),1),s("div",Xe,"("+n(l.desc)+")",1),e(a).formData.goods_type==l.type?(i(),u(g,{key:0},[Ye,el],64)):V("",!0)],2))),128))]),_:1},8,["label"])):(i(),y(p,{key:1,label:e(t)("goodsType")},{default:r(()=>[(i(!0),u(g,null,v(e(a).goodsType,l=>(i(),u("div",{class:H(["goods-type-wrap",{selected:e(a).formData.goods_type==l.type}]),key:l.type,onClick:_=>e(a).changeGoodsType(l)},[s("div",al,n(l.name),1),s("div",ol,"("+n(l.desc)+")",1),e(a).formData.goods_type==l.type?(i(),u(g,{key:0},[tl,sl],64)):V("",!0)],10,ll))),128))]),_:1},8,["label"])),d(p,{label:e(t)("goodsName"),prop:"goods_name"},{default:r(()=>[d(m,{modelValue:e(a).formData.goods_name,"onUpdate:modelValue":o[1]||(o[1]=l=>e(a).formData.goods_name=l),clearable:"",placeholder:e(t)("goodsNamePlaceholder"),class:"input-width",maxlength:"60","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(p,{label:e(t)("subTitle"),prop:"sub_title"},{default:r(()=>[d(m,{modelValue:e(a).formData.sub_title,"onUpdate:modelValue":o[2]||(o[2]=l=>e(a).formData.sub_title=l),clearable:"",placeholder:e(t)("subTitlePlaceholder"),class:"input-width",maxlength:"80","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(p,{label:e(t)("goodsImage"),prop:"goods_image"},{default:r(()=>[d(x,{modelValue:e(a).formData.goods_image,"onUpdate:modelValue":o[3]||(o[3]=l=>e(a).formData.goods_image=l),limit:10},null,8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("goodsCategory"),prop:"goods_category"},{default:r(()=>[d(re,{modelValue:e(a).formData.goods_category,"onUpdate:modelValue":o[4]||(o[4]=l=>e(a).formData.goods_category=l),options:e(a).goodsCategoryOptions,props:e(a).goodsCategoryProps,clearable:"",filterable:"",onChange:e(a).categoryHandleChange,"popper-class":"choice"},null,8,["modelValue","options","props","onChange"]),s("div",dl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:o[5]||(o[5]=l=>e(a).refreshGoodsCategory(!0))},n(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:o[6]||(o[6]=(...l)=>e(a).toGoodsCategoryEvent&&e(a).toGoodsCategoryEvent(...l))},n(e(t)("addGoodsCategory")),1)])]),_:1},8,["label"]),d(p,{label:e(t)("brand")},{default:r(()=>[d(T,{modelValue:e(a).formData.brand_id,"onUpdate:modelValue":o[7]||(o[7]=l=>e(a).formData.brand_id=l),placeholder:e(t)("brandPlaceholder"),clearable:""},{default:r(()=>[(i(!0),u(g,null,v(e(a).brandOptions,l=>(i(),y(C,{key:l.brand_id,label:l.brand_name,value:l.brand_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",rl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:o[8]||(o[8]=l=>e(a).refreshGoodsBrand(!0))},n(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:o[9]||(o[9]=(...l)=>e(a).toGoodsBrandEvent&&e(a).toGoodsBrandEvent(...l))},n(e(t)("addGoodsBrand")),1)])]),_:1},8,["label"]),d(p,{label:e(t)("poster")},{default:r(()=>[d(T,{modelValue:e(a).formData.poster_id,"onUpdate:modelValue":o[10]||(o[10]=l=>e(a).formData.poster_id=l),placeholder:e(t)("posterPlaceholder"),clearable:""},{default:r(()=>[(i(!0),u(g,null,v(e(a).posterOptions,l=>(i(),y(C,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",nl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:o[11]||(o[11]=l=>e(a).refreshGoodsPoster(!0))},n(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:o[12]||(o[12]=(...l)=>e(a).toPosterEvent&&e(a).toPosterEvent(...l))},n(e(t)("addGoodsPoster")),1)])]),_:1},8,["label"]),s("div",il,n(e(t)("posterTips")),1),d(p,{label:e(t)("label")},{default:r(()=>[d(N,{modelValue:e(a).formData.label_ids,"onUpdate:modelValue":o[13]||(o[13]=l=>e(a).formData.label_ids=l)},{default:r(()=>[(i(!0),u(g,null,v(e(a).labelOptions,(l,_)=>(i(),y(F,{label:l.label_id,key:_},{default:r(()=>[h(n(l.label_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",pl,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:o[14]||(o[14]=(...l)=>e(a).refreshGoodsLabel&&e(a).refreshGoodsLabel(...l))},n(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:o[15]||(o[15]=(...l)=>e(a).toGoodsLabelEvent&&e(a).toGoodsLabelEvent(...l))},n(e(t)("addGoodsLabel")),1)])]),_:1},8,["label"]),d(p,{label:e(t)("goodsService")},{default:r(()=>[d(N,{modelValue:e(a).formData.service_ids,"onUpdate:modelValue":o[16]||(o[16]=l=>e(a).formData.service_ids=l)},{default:r(()=>[(i(!0),u(g,null,v(e(a).serviceOptions,(l,_)=>(i(),y(F,{label:l.service_id,key:_},{default:r(()=>[h(n(l.service_name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),s("div",ul,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:o[17]||(o[17]=(...l)=>e(a).refreshGoodsService&&e(a).refreshGoodsService(...l))},n(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:o[18]||(o[18]=(...l)=>e(a).toGoodsServiceEvent&&e(a).toGoodsServiceEvent(...l))},n(e(t)("addGoodsService")),1)])]),_:1},8,["label"]),e(a).formData.addon_shop_supplier&&e(a).formData.addon_shop_supplier.status==1?(i(),y(p,{key:2,label:e(t)("supplier")},{default:r(()=>[d(T,{modelValue:e(a).formData.supplier_id,"onUpdate:modelValue":o[19]||(o[19]=l=>e(a).formData.supplier_id=l),placeholder:e(t)("supplierPlaceholder"),clearable:""},{default:r(()=>[(i(!0),u(g,null,v(e(a).supplierOptions,l=>(i(),y(C,{key:l.supplier_id,label:l.supplier_name,value:l.supplier_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",ml,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:o[20]||(o[20]=(...l)=>e(a).refreshSupplier&&e(a).refreshSupplier(...l))},n(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:o[21]||(o[21]=(...l)=>e(a).toSupplierEvent&&e(a).toSupplierEvent(...l))},n(e(t)("addSupplier")),1)])]),_:1},8,["label"])):V("",!0),d(p,{label:e(t)("status")},{default:r(()=>[d(R,{modelValue:e(a).formData.status,"onUpdate:modelValue":o[22]||(o[22]=l=>e(a).formData.status=l)},{default:r(()=>[d(k,{label:"1"},{default:r(()=>[h(n(e(t)("statusOn")),1)]),_:1}),d(k,{label:"0"},{default:r(()=>[h(n(e(t)("statusOff")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("unit"),prop:"unit"},{default:r(()=>[d(m,{modelValue:e(a).formData.unit,"onUpdate:modelValue":o[23]||(o[23]=l=>e(a).formData.unit=l),clearable:"",placeholder:e(t)("unitPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"6"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),d(p,{label:e(t)("virtualSaleNum"),prop:"virtual_sale_num"},{default:r(()=>[s("div",null,[d(m,{modelValue:e(a).formData.virtual_sale_num,"onUpdate:modelValue":o[24]||(o[24]=l=>e(a).formData.virtual_sale_num=l),clearable:"",placeholder:e(t)("virtualSaleNumPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"8",onKeyup:o[25]||(o[25]=l=>e(B)(l)),onBlur:o[26]||(o[26]=l=>e(a).formData.virtual_sale_num=l.target.value)},{append:r(()=>[h(n(e(a).formData.unit?e(a).formData.unit:"件"),1)]),_:1},8,["modelValue","placeholder"]),s("div",cl,n(e(t)("virtualSaleNumDesc")),1)])]),_:1},8,["label"]),d(p,{label:e(t)("sort"),prop:"sort"},{default:r(()=>[d(m,{modelValue:e(a).formData.sort,"onUpdate:modelValue":o[27]||(o[27]=l=>e(a).formData.sort=l),clearable:"",placeholder:e(t)("sortPlaceholder"),class:"input-width","show-word-limit":"",maxlength:"8",onKeyup:o[28]||(o[28]=l=>e(B)(l)),onBlur:o[29]||(o[29]=l=>e(a).formData.sort=l.target.value)},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(O,{label:e(t)("priceStockTab"),name:"price_stock"},{default:r(()=>[d(E,{model:e(a).formData,"label-width":"120px",ref_key:"priceStockFormRef",ref:z,rules:e(a).formRules,class:"page-form"},{default:r(()=>[d(p,{label:e(t)("specType"),prop:"spec_type"},{default:r(()=>[s("div",null,[d(R,{modelValue:e(a).formData.spec_type,"onUpdate:modelValue":o[30]||(o[30]=l=>e(a).formData.spec_type=l)},{default:r(()=>[d(k,{label:"single",disabled:e(a).isDisabledPrice()},{default:r(()=>[h(n(e(t)("singleSpec")),1)]),_:1},8,["disabled"]),d(k,{label:"multi",disabled:e(a).isDisabledPrice()},{default:r(()=>[h(n(e(t)("multiSpec")),1)]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),e(a).isDisabledPrice()?(i(),u("div",_l,n(e(t)("participateInActiveDisableTips")),1)):V("",!0)])]),_:1},8,["label"]),e(a).formData.spec_type=="single"?(i(),u(g,{key:0},[d(p,{label:e(t)("price"),prop:"price"},{default:r(()=>[d(m,{modelValue:e(a).formData.price,"onUpdate:modelValue":o[31]||(o[31]=l=>e(a).formData.price=l),clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8",disabled:e(a).isDisabledPrice()},{append:r(()=>[h(n(e(t)("yuan")),1)]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"]),d(p,{label:e(t)("marketPrice"),prop:"market_price"},{default:r(()=>[d(m,{modelValue:e(a).formData.market_price,"onUpdate:modelValue":o[32]||(o[32]=l=>e(a).formData.market_price=l),clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:r(()=>[h(n(e(t)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("costPrice"),prop:"cost_price"},{default:r(()=>[d(m,{modelValue:e(a).formData.cost_price,"onUpdate:modelValue":o[33]||(o[33]=l=>e(a).formData.cost_price=l),clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:r(()=>[h(n(e(t)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("weight"),prop:"weight"},{default:r(()=>[d(m,{modelValue:e(a).formData.weight,"onUpdate:modelValue":o[34]||(o[34]=l=>e(a).formData.weight=l),clearable:"",placeholder:"0.000",class:"input-width",maxlength:"12"},{append:r(()=>[h("kg")]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("volume"),prop:"volume"},{default:r(()=>[d(m,{modelValue:e(a).formData.volume,"onUpdate:modelValue":o[35]||(o[35]=l=>e(a).formData.volume=l),clearable:"",placeholder:"0.000",class:"input-width",maxlength:"12"},{append:r(()=>[h("m³")]),_:1},8,["modelValue"])]),_:1},8,["label"]),d(p,{label:e(t)("goodsStock"),prop:"stock"},{default:r(()=>[d(m,{modelValue:e(a).formData.stock,"onUpdate:modelValue":o[36]||(o[36]=l=>e(a).formData.stock=l),clearable:"",placeholder:e(t)("goodsStockPlaceholder"),class:"input-width",maxlength:"8",onKeyup:o[37]||(o[37]=l=>e(B)(l))},{append:r(()=>[h(n(e(a).formData.unit?e(a).formData.unit:e(t)("defaultUnit")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),d(p,{label:e(t)("skuNo")},{default:r(()=>[d(m,{modelValue:e(a).formData.sku_no,"onUpdate:modelValue":o[38]||(o[38]=l=>e(a).formData.sku_no=l),clearable:"",placeholder:e(t)("skuNoPlaceholder"),class:"input-width",maxlength:"50",onKeyup:o[39]||(o[39]=l=>e(a).filterSpecial(l))},null,8,["modelValue","placeholder"])]),_:1},8,["label"])],64)):V("",!0)]),_:1},8,["model","rules"]),d(E,{model:e(a).goodsSkuData,"label-width":"120px",ref_key:"skuFormRef",ref:W,class:"page-form"},{default:r(()=>[U(s("div",fl,[s("div",bl,n(e(t)("goodsSku")),1),s("div",hl,[s("div",gl,[(i(!0),u(g,null,v(e(a).goodsSpecFormat,(l,_)=>(i(),u("div",{class:"spec-item",key:l.id},[s("div",vl,[d(m,{modelValue:l.spec_name,"onUpdate:modelValue":c=>l.spec_name=c,clearable:"",placeholder:e(t)("specNamePlaceholder"),class:"input-width",maxlength:"20"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),s("div",yl,[s("ul",{ref_for:!0,ref_key:"specValueRef",ref:q},[(i(!0),u(g,null,v(l.values,(c,b)=>(i(),u("li",{class:H("draggable-element"+_),key:c.id},[d(m,{modelValue:c.spec_value_name,"onUpdate:modelValue":I=>c.spec_value_name=I,clearable:"",placeholder:e(t)("specValueNamePlaceholder"),class:"input-width","suffix-icon":e(be),maxlength:"20",onInput:e(a).specValueNameInputListener},null,8,["modelValue","onUpdate:modelValue","placeholder","suffix-icon","onInput"]),d(X,{class:"icon",size:20,color:"#7b7b7b",onClick:I=>e(a).deleteSpecValue(_,b)},{default:r(()=>[d(Q)]),_:2},1032,["onClick"])],2))),128))],512),s("span",{class:"text-color text-[14px] add-spec-value",onClick:c=>e(a).addSpecValue(_)},n(e(t)("addSpecValue")),9,Vl),xl]),d(X,{class:"del-spec",size:20,color:"#7b7b7b",onClick:c=>e(a).deleteSpec(_)},{default:r(()=>[d(Q)]),_:2},1032,["onClick"])]))),128))]),s("div",kl,[d(P,{type:"primary",onClick:e(a).addSpec},{default:r(()=>[h(n(e(t)("addSpec")),1)]),_:1},8,["onClick"])]),U(s("div",Dl,[s("label",null,n(e(t)("batchOperationSku")),1),d(T,{modelValue:e(a).batchOperation.spec,"onUpdate:modelValue":o[40]||(o[40]=l=>e(a).batchOperation.spec=l),class:"set-spec-select"},{default:r(()=>[d(C,{label:e(t)("all"),value:""},null,8,["label"]),(i(!0),u(g,null,v(e(a).goodsSkuData,(l,_)=>(i(),u(g,{key:_},[l.spec_name?(i(),y(C,{key:0,label:l.spec_name,value:_},null,8,["label","value"])):V("",!0)],64))),128))]),_:1},8,["modelValue"]),e(a).isDisabledPrice()?(i(),y(m,{key:0,modelValue:e(a).batchOperation.price,"onUpdate:modelValue":o[41]||(o[41]=l=>e(a).batchOperation.price=l),clearable:"",placeholder:e(t)("price"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"])):V("",!0),d(m,{modelValue:e(a).batchOperation.market_price,"onUpdate:modelValue":o[42]||(o[42]=l=>e(a).batchOperation.market_price=l),clearable:"",placeholder:e(t)("marketPrice"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"]),d(m,{modelValue:e(a).batchOperation.cost_price,"onUpdate:modelValue":o[43]||(o[43]=l=>e(a).batchOperation.cost_price=l),clearable:"",placeholder:e(t)("costPrice"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"]),d(m,{modelValue:e(a).batchOperation.stock,"onUpdate:modelValue":o[44]||(o[44]=l=>e(a).batchOperation.stock=l),clearable:"",placeholder:e(t)("stock"),class:"set-input",maxlength:"8"},null,8,["modelValue","placeholder"]),d(m,{modelValue:e(a).batchOperation.weight,"onUpdate:modelValue":o[45]||(o[45]=l=>e(a).batchOperation.weight=l),clearable:"",placeholder:e(t)("skuWeight"),class:"set-input",maxlength:"12"},null,8,["modelValue","placeholder"]),d(m,{modelValue:e(a).batchOperation.volume,"onUpdate:modelValue":o[46]||(o[46]=l=>e(a).batchOperation.volume=l),clearable:"",placeholder:e(t)("skuVolume"),class:"set-input",maxlength:"12"},null,8,["modelValue","placeholder"]),d(m,{modelValue:e(a).batchOperation.sku_no,"onUpdate:modelValue":o[47]||(o[47]=l=>e(a).batchOperation.sku_no=l),clearable:"",maxlength:"50",placeholder:e(t)("skuNo"),class:"set-input"},null,8,["modelValue","placeholder"]),d(P,{type:"primary",onClick:e(a).saveBatch},{default:r(()=>[h(n(e(t)("confirm")),1)]),_:1},8,["onClick"])],512),[[S,Object.keys(e(a).goodsSkuData).length]]),U(s("div",wl,[s("div",Cl,[s("div",Ul,[s("div",Sl,[s("table",Tl,[s("thead",null,[s("tr",null,[(i(!0),u(g,null,v(e(a).goodsSpecFormat,(l,_)=>(i(),u(g,{key:_},[l.spec_name?(i(),u("th",El,[s("div",Pl,n(l.spec_name),1)])):V("",!0)],64))),128)),s("th",Rl,[s("div",Ol,n(e(t)("image")),1)]),s("th",Gl,[s("div",Fl,n(e(t)("price")),1)]),s("th",Nl,[s("div",Il,n(e(t)("marketPrice")),1)]),s("th",Bl,[s("div",Al,n(e(t)("costPrice")),1)]),s("th",$l,[s("div",Ll,n(e(t)("stock")),1)]),s("th",Hl,[s("div",Kl,n(e(t)("skuWeight")),1)]),s("th",Ml,[s("div",zl,n(e(t)("skuVolume")),1)]),s("th",Zl,[s("div",jl,n(e(t)("skuNo")),1)]),s("th",Wl,[s("div",ql,n(e(t)("defaultSku")),1)])])])])]),s("div",Jl,[s("div",Ql,[s("div",Xl,[s("div",Yl,[s("table",ea,[s("tbody",la,[(i(!0),u(g,null,v(e(a).goodsSkuData,(l,_,c)=>(i(),u("tr",{class:"el-table__row",key:_},[(i(!0),u(g,null,v(e(a).specData,(b,I)=>(i(),u(g,{key:I},[b.index==c?(i(),u("td",{key:0,class:"el-table__cell",rowspan:b.rowSpan},[s("div",oa,n(b.spec_value_name),1)],8,aa)):V("",!0)],64))),128)),s("td",ta,[s("div",sa,[d(x,{modelValue:l.sku_image,"onUpdate:modelValue":b=>l.sku_image=b,limit:1,width:"50px",height:"50px"},null,8,["modelValue","onUpdate:modelValue"])])]),s("td",da,[s("div",ra,[d(p,{prop:_+".price",rules:e(a).skuPriceRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:l.price,"onUpdate:modelValue":b=>l.price=b,clearable:"",placeholder:"0.00",maxlength:"8",disabled:e(a).isDisabledPrice()},null,8,["modelValue","onUpdate:modelValue","disabled"])]),_:2},1032,["prop","rules"])])]),s("td",na,[s("div",ia,[d(p,{prop:_+".market_price",rules:e(a).skuMarketPriceRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:l.market_price,"onUpdate:modelValue":b=>l.market_price=b,clearable:"",placeholder:"0.00",maxlength:"8"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",pa,[s("div",ua,[d(p,{prop:_+".cost_price",rules:e(a).skuCostPriceRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:l.cost_price,"onUpdate:modelValue":b=>l.cost_price=b,clearable:"",placeholder:"0.00",maxlength:"8"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",ma,[s("div",ca,[d(p,{prop:_+".stock",rules:e(a).skuStockRules(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:l.stock,"onUpdate:modelValue":b=>l.stock=b,clearable:"",placeholder:"0",onInput:e(a).specStockSum,maxlength:"8"},null,8,["modelValue","onUpdate:modelValue","onInput"])]),_:2},1032,["prop","rules"])])]),s("td",_a,[s("div",fa,[d(p,{prop:_+".weight",rules:oe(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:l.weight,"onUpdate:modelValue":b=>l.weight=b,clearable:"",placeholder:"0.000",maxlength:"12"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",ba,[s("div",ha,[d(p,{prop:_+".volume",rules:te(),class:"sku-form-item-wrap"},{default:r(()=>[d(m,{modelValue:l.volume,"onUpdate:modelValue":b=>l.volume=b,clearable:"",placeholder:"0.000",maxlength:"12"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"])])]),s("td",ga,[s("div",va,[d(m,{modelValue:l.sku_no,"onUpdate:modelValue":b=>l.sku_no=b,clearable:"",maxlength:"50"},null,8,["modelValue","onUpdate:modelValue"])])]),s("td",ya,[s("div",Va,[d(Y,{modelValue:l.is_default,"onUpdate:modelValue":b=>l.is_default=b,"active-value":1,"inactive-value":0,onChange:b=>e(a).specValueIsDefaultChangeListener(b,_)},null,8,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])])])])])])])])],512),[[S,Object.keys(e(a).goodsSkuData).length]])])],512),[[S,e(a).formData.spec_type=="multi"]]),d(p,{label:e(t)("memberDiscount")},{default:r(()=>[s("div",null,[d(R,{modelValue:e(a).formData.member_discount,"onUpdate:modelValue":o[48]||(o[48]=l=>e(a).formData.member_discount=l)},{default:r(()=>[d(k,{label:""},{default:r(()=>[h(n(e(t)("nonparticipation")),1)]),_:1}),d(k,{label:"discount"},{default:r(()=>[h(n(e(t)("discount")),1)]),_:1}),d(k,{label:"fixed_price"},{default:r(()=>[h(n(e(t)("fixedPrice")),1)]),_:1})]),_:1},8,["modelValue"]),e(a).formData.member_discount=="discount"?(i(),u("div",xa,n(e(t)("discountHint")),1)):V("",!0),e(a).formData.member_discount=="fixed_price"?(i(),u("div",ka,n(e(t)("fixedPriceHint")),1)):V("",!0)])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["label"]),d(O,{label:e(t)("deliveryTab"),name:"delivery"},{default:r(()=>[d(E,{model:e(a).formData,"label-width":"120px",ref_key:"deliveryFormRef",ref:A,rules:e(a).formRules,class:"page-form"},{default:r(()=>[d(p,{label:e(t)("deliveryType"),prop:"delivery_type"},{default:r(()=>[s("div",null,[d(N,{modelValue:e(a).formData.delivery_type,"onUpdate:modelValue":o[49]||(o[49]=l=>e(a).formData.delivery_type=l)},{default:r(()=>[(i(!0),u(g,null,v($,(l,_)=>(i(),y(F,{key:_,label:l.key},{default:r(()=>[h(n(l.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"]),le.value?(i(),u("div",Da,"请先在配置设置中设置配送方式")):V("",!0)])]),_:1},8,["label"]),U(d(p,{label:e(t)("isFreeShipping")},{default:r(()=>[d(Y,{modelValue:e(a).formData.is_free_shipping,"onUpdate:modelValue":o[50]||(o[50]=l=>e(a).formData.is_free_shipping=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1},8,["label"]),[[S,e(a).formData.delivery_type.indexOf("express")!=-1]]),U(d(p,{label:e(t)("feeType"),prop:"fee_type"},{default:r(()=>[d(R,{modelValue:e(a).formData.fee_type,"onUpdate:modelValue":o[51]||(o[51]=l=>e(a).formData.fee_type=l)},{default:r(()=>[d(k,{label:"template"},{default:r(()=>[h(n(e(t)("selectTemplate")),1)]),_:1}),d(k,{label:"fixed"},{default:r(()=>[h(n(e(t)("fixedShipping")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),[[S,e(a).formData.delivery_type.indexOf("express")!=-1&&e(a).formData.is_free_shipping==0]]),U(d(p,{label:e(t)("deliveryMoney"),prop:"delivery_money"},{default:r(()=>[d(m,{modelValue:e(a).formData.delivery_money,"onUpdate:modelValue":o[52]||(o[52]=l=>e(a).formData.delivery_money=l),clearable:"",placeholder:"0.00",class:"input-width",maxlength:"8"},{append:r(()=>[h(n(e(t)("yuan")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),[[S,e(a).formData.delivery_type.indexOf("express")!=-1&&e(a).formData.is_free_shipping==0&&e(a).formData.fee_type=="fixed"]]),U(d(p,{label:e(t)("deliveryTemplateId"),prop:"delivery_template_id"},{default:r(()=>[d(T,{modelValue:e(a).formData.delivery_template_id,"onUpdate:modelValue":o[53]||(o[53]=l=>e(a).formData.delivery_template_id=l),placeholder:e(t)("deliveryTemplateIdPlaceholder"),filterable:"",autocomplete:"off",clearable:""},{default:r(()=>[(i(!0),u(g,null,v(L,l=>(i(),y(C,{key:l.template_id,label:l.template_name,value:l.template_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),s("div",wa,[s("span",{class:"cursor-pointer text-primary mr-[10px]",onClick:J},n(e(t)("refresh")),1),s("span",{class:"cursor-pointer text-primary",onClick:ae},n(e(t)("addDeliveryTemplateId")),1)])]),_:1},8,["label"]),[[S,e(a).formData.delivery_type.indexOf("express")!=-1&&e(a).formData.is_free_shipping==0&&e(a).formData.fee_type=="template"]])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(O,{label:e(t)("goodsArguments"),name:"goods_arguments"},{default:r(()=>[d(E,{model:e(a).formData,"label-width":"120px",ref_key:"goodsArgumentsFormRef",ref:Z,rules:e(a).formRules,class:"page-form"},{default:r(()=>[d(p,{label:e(t)("goodsArgumentsTemp")},{default:r(()=>[s("div",null,[d(T,{modelValue:e(a).formData.attr_id,"onUpdate:modelValue":o[54]||(o[54]=l=>e(a).formData.attr_id=l),placeholder:e(t)("goodsArgumentsTempPlaceholder"),clearable:"",onChange:e(a).attrChange,onClear:o[55]||(o[55]=l=>e(a).attrChange(-1))},{default:r(()=>[(i(!0),u(g,null,v(e(a).attrOptions,l=>(i(),y(C,{key:l.attr_id,label:l.attr_name,value:l.attr_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","onChange"]),d(P,{onClick:se},{default:r(()=>[h(" 一键全选")]),_:1}),s("div",Ca,n(e(t)("goodsArgumentsTempHint")),1),s("table",Ua,[Sa,s("thead",Ta,[s("tr",null,[s("th",null,n(e(t)("argumentsName")),1),s("th",null,n(e(t)("argumentsValue")),1),s("th",Ea,[s("div",Pa,[s("span",null,n(e(t)("sort")),1),d(ne,{class:"box-item",effect:"dark",content:e(t)("argumentsSortHint"),placement:"right"},{default:r(()=>[Ra]),_:1},8,["content"])])]),s("th",null,n(e(t)("operation")),1)])]),s("tbody",Oa,[e(a).attrTableData.length?(i(!0),u(g,{key:0},v(e(a).attrTableData,(l,_)=>(i(),u("tr",{class:"goods-attr-tr goods-new-attr-tr",key:_},[l.attr_value_id>0?(i(),u("td",Ga,n(l.attr_value_name),1)):(i(),u("td",Fa,[d(m,{modelValue:l.attr_value_name,"onUpdate:modelValue":c=>l.attr_value_name=c,maxlength:"20","show-word-limit":"",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),s("td",null,[l.type=="text"?(i(),y(m,{key:0,maxlength:"20","show-word-limit":"",modelValue:l.select_child_val,"onUpdate:modelValue":c=>l.select_child_val=c,clearable:""},null,8,["modelValue","onUpdate:modelValue"])):l.type=="radio"?(i(),u("div",Na,[d(R,{modelValue:l.select_child_name,"onUpdate:modelValue":c=>l.select_child_name=c,onChange:c=>e(a).attrRadioChange(_,c)},{default:r(()=>[(i(!0),u(g,null,v(l.child,(c,b)=>(i(),y(k,{key:b,label:c.id},{default:r(()=>[h(n(c.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):l.type=="checkbox"?(i(),u("div",Ia,[d(N,{modelValue:l.select_child_name,"onUpdate:modelValue":c=>l.select_child_name=c,onChange:c=>e(a).attrCheckboxChange(_,c)},{default:r(()=>[(i(!0),u(g,null,v(l.child,(c,b)=>(i(),y(F,{key:b,label:c.id},{default:r(()=>[h(n(c.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):V("",!0)]),s("td",null,[d(m,{modelValue:l.sort,"onUpdate:modelValue":c=>l.sort=c,maxlength:"6","show-word-limit":"",clearable:"",onKeyup:o[56]||(o[56]=c=>e(B)(c))},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("span",{class:"cursor-pointer text-[var(--el-color-primary)]",onClick:c=>e(a).delAttr(_)},n(e(t)("delAttr")),9,Ba)])]))),128)):(i(),u("tr",Aa,[s("td",$a,n(e(t)("noData")),1)]))])]),d(P,{class:"mt-[15px]",onClick:e(a).addAttr},{default:r(()=>[h(n(e(t)("addGoodsArguments")),1)]),_:1},8,["onClick"])])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"]),d(O,{label:e(t)("goodsDesc"),name:"detail"},{default:r(()=>[d(E,{model:e(a).formData,"label-width":"120px",ref_key:"detailFormRef",ref:j,rules:e(a).formRules,class:"page-form"},{default:r(()=>[d(p,{label:e(t)("goodsDesc"),prop:"goods_desc"},{default:r(()=>[d(ie,{modelValue:e(a).formData.goods_desc,"onUpdate:modelValue":o[57]||(o[57]=l=>e(a).formData.goods_desc=l),height:600,onHandleBlur:e(a).handleBlur,class:"editor-width"},null,8,["modelValue","onHandleBlur"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["label"])]),_:1},8,["modelValue","onTabClick"])]),_:1}),s("div",La,[s("div",Ha,[d(P,{type:"primary",onClick:o[59]||(o[59]=l=>de())},{default:r(()=>[h(n(e(t)("save")),1)]),_:1}),d(P,{onClick:o[60]||(o[60]=l=>e(a).back())},{default:r(()=>[h(n(e(t)("back")),1)]),_:1})])])])}}});const Fo=Me(Ka,[["__scopeId","data-v-a1936dc2"]]);export{Fo as default};
