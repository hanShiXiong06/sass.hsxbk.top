import{d as z,x as Y,r as E,n as L,a2 as T,h as i,c as f,e as t,w as l,u as U,q as N,F as P,T as S,s as y,i as x,a as n,R as O,t as m,B as R,bO as j,L as q,K as H,aa as K,aB as W,E as A,M as G,a6 as J,ab as Q,ac as X,W as Z,Y as ee,p as te,g as oe}from"./index-f7a01263.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                     *//* empty css                  *//* empty css                       */import{b as ae,c as le}from"./myxq-7624d734.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";const se=u=>(te("data-v-0ddcd3e6"),u=u(),oe(),u),ne={class:"main-container"},ie=se(()=>n("div",{class:"flex justify-between items-center"},[n("span",{class:"text-lg"},"电影票订单")],-1)),de={class:"mt-[10px]"},pe={key:0},me={class:"mt-[16px] flex justify-end"},ue=z({__name:"movie_order",setup(u){Y();const k=E(),o=L({page:1,limit:30,total:0,loading:!0,data:[],searchParam:{time:[],orderid:"",status:""}}),D=r=>{const e=new Date(r*1e3),v=e.getFullYear(),d=e.getMonth()+1,g=e.getDate(),c=e.getHours(),_=e.getMinutes(),w=e.getSeconds();return`${v}-${d}-${g} ${c}:${_}:${w}`},h=E();(async()=>{const r=await ae();h.value=r.data})();const p=(r=1)=>{o.loading=!0,o.page=r,le({page:o.page,limit:o.limit,...o.searchParam}).then(e=>{o.loading=!1,o.data=e.data.list,o.total=e.data.total}).catch(()=>{o.loading=!1})};p();const F=r=>{r&&(r.resetFields(),p())};return(r,e)=>{const v=j,d=q,g=H,c=K,_=T("block"),w=W,V=A,I=G,C=J,s=Q,$=X,B=Z,M=ee;return i(),f("div",ne,[t(C,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[ie,t(C,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:l(()=>[t(I,{inline:!0,model:o.searchParam,ref_key:"searchFormRef",ref:k},{default:l(()=>[t(d,{label:"开始时间",prop:"time"},{default:l(()=>[t(v,{modelValue:o.searchParam.time,"onUpdate:modelValue":e[0]||(e[0]=a=>o.searchParam.time=a),type:"datetimerange",format:"YYYY-MM-DD hh:mm:ss","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),t(d,{label:"订单ID",prop:"orderid"},{default:l(()=>[t(g,{modelValue:o.searchParam.orderid,"onUpdate:modelValue":e[1]||(e[1]=a=>o.searchParam.orderid=a),placeholder:"请输入订单ID"},null,8,["modelValue"])]),_:1}),t(d,{label:"订单状态",prop:"status"},{default:l(()=>[t(w,{class:"w-[280px]",modelValue:o.searchParam.status,"onUpdate:modelValue":e[2]||(e[2]=a=>o.searchParam.status=a),clearable:"",placeholder:U(N)("isSendPlaceholder")},{default:l(()=>[t(c,{label:"全部",value:""}),(i(!0),f(P,null,S(h.value,(a,b)=>(i(),y(_,{key:"index"},{default:l(()=>[t(c,{label:a,value:b},null,8,["label","value"])]),_:2},1024))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),t(d,null,{default:l(()=>[t(V,{type:"primary",onClick:e[3]||(e[3]=a=>p())},{default:l(()=>[x("搜索")]),_:1}),t(V,{onClick:e[4]||(e[4]=a=>F(k.value))},{default:l(()=>[x("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),n("div",de,[O((i(),y($,{data:o.data,size:"large"},{empty:l(()=>[n("span",null,m(o.loading?"":"还没有订单哟~~~"),1)]),default:l(()=>[t(s,{prop:"orderid",label:"订单ID","min-width":"80","show-overflow-tooltip":!0}),t(s,{prop:"showid",label:"场次","min-width":"120","show-overflow-tooltip":!0}),t(s,{prop:"ordernum",label:"数量","min-width":"60","show-overflow-tooltip":!0}),t(s,{prop:"realseat",label:"出票座位","min-width":"80","show-overflow-tooltip":!0}),t(s,{prop:"seatno",label:"预约座位","min-width":"60","show-overflow-tooltip":!0}),t(s,{prop:"payprice",label:"支付金额","min-width":"80","show-overflow-tooltip":!0},{default:l(({row:a})=>[n("div",null,m(a.payprice/100),1)]),_:1}),t(s,{prop:"commission",label:"佣金","min-width":"80","show-overflow-tooltip":!0},{default:l(({row:a})=>[n("div",null,m(a.commission/100),1)]),_:1}),t(s,{prop:"status",label:"状态","min-width":"120","show-overflow-tooltip":!0},{default:l(()=>[(i(!0),f(P,null,S(h.value,(a,b)=>(i(),y(_,{key:"index"},{default:l(()=>[b==r.row.status?(i(),f("div",pe,m(a),1)):R("",!0)]),_:2},1024))),128))]),_:1}),t(s,{prop:"closetxt",label:"关闭原因","min-width":"120","show-overflow-tooltip":!0}),t(s,{prop:"createdtime",label:"创建时间","min-width":"120","show-overflow-tooltip":!0},{default:l(({row:a})=>[n("div",null,m(D(a.createdtime)),1)]),_:1}),x("/> ")]),_:1},8,["data"])),[[M,o.loading]]),n("div",me,[t(B,{"current-page":o.page,"onUpdate:current-page":e[5]||(e[5]=a=>o.page=a),"page-size":o.limit,"onUpdate:page-size":e[6]||(e[6]=a=>o.limit=a),layout:"total, sizes, prev, pager, next, jumper",total:o.total,onSizeChange:e[7]||(e[7]=a=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])])]),_:1})])}}});const Be=re(ue,[["__scopeId","data-v-0ddcd3e6"]]);export{Be as default};
