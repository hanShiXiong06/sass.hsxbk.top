import{d as T,x as z,n as V,r as _,h as C,c as $,e as o,w as l,a as c,t as m,u as e,i as u,q as n,R as L,s as N,a5 as R,E as j,K as I,L as M,M as S,a7 as q,ad as K,ae as W,W as Y,Y as A}from"./index-99f00cf3.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{_ as G,g as H,d as J}from"./usercat-edit.vue_vue_type_style_index_0_lang-47a1d197.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   */const Q={class:"main-container"},X={class:"flex justify-between items-center"},Z={class:"text-lg"},ee={class:"mt-[10px]"},te={class:"mt-[16px] flex justify-end"},ae=T({__name:"usercat",setup(oe){const x=z().meta.title;let t=V({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{name:""}});const f=_();_([]);const i=(s=1)=>{t.loading=!0,t.page=s,H({page:t.page,limit:t.limit,...t.searchParam}).then(a=>{t.loading=!1,t.data=a.data.data,t.total=a.data.total}).catch(()=>{t.loading=!1})};i();const d=_(null),y=()=>{d.value.setFormData(),d.value.showDialog=!0},b=s=>{d.value.setFormData(s),d.value.showDialog=!0},k=s=>{R.confirm(n("userCatDeleteTips"),n("warning"),{confirmButtonText:n("confirm"),cancelButtonText:n("cancel"),type:"warning"}).then(()=>{J(s).then(()=>{i()}).catch(()=>{})})},w=s=>{s&&(s.resetFields(),i())};return(s,a)=>{const p=j,E=I,g=M,D=S,v=q,h=K,U=W,B=Y,F=A;return C(),$("div",Q,[o(v,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[c("div",X,[c("span",Z,m(e(x)),1),o(p,{type:"primary",onClick:y},{default:l(()=>[u(m(e(n)("addUserCat")),1)]),_:1})]),o(v,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:l(()=>[o(D,{inline:!0,model:e(t).searchParam,ref_key:"searchFormRef",ref:f},{default:l(()=>[o(g,{label:e(n)("name"),prop:"name"},{default:l(()=>[o(E,{modelValue:e(t).searchParam.name,"onUpdate:modelValue":a[0]||(a[0]=r=>e(t).searchParam.name=r),placeholder:e(n)("namePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(g,null,{default:l(()=>[o(p,{type:"primary",onClick:a[1]||(a[1]=r=>i())},{default:l(()=>[u(m(e(n)("search")),1)]),_:1}),o(p,{onClick:a[2]||(a[2]=r=>w(f.value))},{default:l(()=>[u(m(e(n)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),c("div",ee,[L((C(),N(U,{data:e(t).data,size:"large"},{empty:l(()=>[c("span",null,m(e(t).loading?"":e(n)("emptyData")),1)]),default:l(()=>[o(h,{prop:"name",label:e(n)("name"),"min-width":"120","show-overflow-tooltip":!0},null,8,["label"]),o(h,{label:e(n)("operation"),fixed:"right","min-width":"120"},{default:l(({row:r})=>[o(p,{type:"primary",link:"",onClick:P=>b(r)},{default:l(()=>[u(m(e(n)("edit")),1)]),_:2},1032,["onClick"]),o(p,{type:"primary",link:"",onClick:P=>k(r.id)},{default:l(()=>[u(m(e(n)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[F,e(t).loading]]),c("div",te,[o(B,{"current-page":e(t).page,"onUpdate:current-page":a[3]||(a[3]=r=>e(t).page=r),"page-size":e(t).limit,"onUpdate:page-size":a[4]||(a[4]=r=>e(t).limit=r),layout:"total, sizes, prev, pager, next, jumper",total:e(t).total,onSizeChange:a[5]||(a[5]=r=>i()),onCurrentChange:i},null,8,["current-page","page-size","total"])])]),o(G,{ref_key:"editUserCatDialog",ref:d,onComplete:i},null,512)]),_:1})])}}});const De=O(ae,[["__scopeId","data-v-cd084dc0"]]);export{De as default};
