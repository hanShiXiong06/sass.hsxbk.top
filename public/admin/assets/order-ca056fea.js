import{O as w,d as Y,x as R,r as g,n as M,a2 as N,h as s,c as b,e as t,w as l,u as _,q as h,F as B,T as F,s as u,i as j,a as d,R as $,t as v,A as q,bO as A,L as K,K as W,aa as G,aB as H,E as J,M as Q,a6 as X,ab as Z,aI as ee,ac as te,W as ae,Y as oe,p as le,g as re}from"./index-6ea097a6.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                        *//* empty css                *//* empty css                     *//* empty css                  *//* empty css                       */import{_ as se}from"./_plugin-vue_export-helper-c27b6911.js";function ne(i){return w.get("tk_cps/getjtkorderlist",{params:i})}function de(){return w.get("tk_cps/getjtkorderbrand")}function ie(){return w.get("tk_cps/getjtkorderstatus")}const pe=i=>(le("data-v-da382ffa"),i=i(),re(),i),ce={class:"main-container"},ue=pe(()=>d("div",{class:"flex justify-between items-center"},[d("span",{class:"text-lg"},"聚推客联盟统一订单")],-1)),me={class:"mt-[10px]"},_e={class:"text-xs"},fe={class:"font-bold"},ge={class:"mt-[16px] flex justify-end"},be=Y({__name:"order",setup(i){R();const x=g(),e=M({page:1,limit:30,total:0,loading:!0,data:[],searchParam:{time:[],order_sn:"",status:"",brand_id:""}}),k=g();(async()=>{const r=await de();k.value=r.data})();const y=g();(async()=>{const r=await ie();y.value=r.data})();const p=(r=1)=>{e.loading=!0,e.page=r,ne({page:e.page,limit:e.limit,...e.searchParam}).then(o=>{console.log(o),e.loading=!1,e.data=o.data.data,e.total=o.data.total}).catch(()=>{e.loading=!1})};p();const I=r=>{r&&(r.resetFields(),p())};return(r,o)=>{const U=A,c=K,z=W,m=G,P=N("block"),V=H,E=J,O=Q,S=X,n=Z,C=ee,D=te,L=ae,T=oe;return s(),b("div",ce,[t(S,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[ue,t(S,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:l(()=>[t(O,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:x},{default:l(()=>[t(c,{label:"开始时间",prop:"time"},{default:l(()=>[t(U,{modelValue:e.searchParam.time,"onUpdate:modelValue":o[0]||(o[0]=a=>e.searchParam.time=a),type:"datetimerange",format:"YYYY-MM-DD hh:mm:ss","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue"])]),_:1}),t(c,{label:"订单号",prop:"order_sn"},{default:l(()=>[t(z,{modelValue:e.searchParam.order_sn,"onUpdate:modelValue":o[1]||(o[1]=a=>e.searchParam.order_sn=a),placeholder:"请输入订单sn"},null,8,["modelValue"])]),_:1}),t(c,{label:"渠道",prop:"brand_id"},{default:l(()=>[t(V,{class:"w-[280px]",modelValue:e.searchParam.brand_id,"onUpdate:modelValue":o[2]||(o[2]=a=>e.searchParam.brand_id=a),clearable:"",placeholder:_(h)("isSendPlaceholder")},{default:l(()=>[t(m,{label:"全部",value:""}),(s(!0),b(B,null,F(k.value,(a,f)=>(s(),u(P,{key:"index"},{default:l(()=>[t(m,{label:a,value:f},null,8,["label","value"])]),_:2},1024))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),t(c,{label:"订单状态",prop:"status"},{default:l(()=>[t(V,{class:"w-[280px]",modelValue:e.searchParam.status,"onUpdate:modelValue":o[3]||(o[3]=a=>e.searchParam.status=a),clearable:"",placeholder:_(h)("isSendPlaceholder")},{default:l(()=>[t(m,{label:"全部",value:""}),(s(!0),b(B,null,F(y.value,(a,f)=>(s(),u(P,{key:"index"},{default:l(()=>[t(m,{label:a,value:f},null,8,["label","value"])]),_:2},1024))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),t(c,null,{default:l(()=>[t(E,{type:"primary",onClick:o[4]||(o[4]=a=>p())},{default:l(()=>[j("搜索")]),_:1}),t(E,{onClick:o[5]||(o[5]=a=>I(x.value))},{default:l(()=>[j("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),d("div",me,[$((s(),u(D,{data:e.data,size:"large"},{empty:l(()=>[d("span",null,v(e.loading?"":"还没有订单哟~~~"),1)]),default:l(()=>[t(n,{prop:"order_sn",label:"订单号","min-width":"80","show-overflow-tooltip":!0}),t(n,{label:_(h)("icon"),width:"100",align:"left"},{default:l(({row:a})=>[a.icon?(s(),u(C,{key:0,src:_(q)(a.icon)},null,8,["src"])):(s(),u(C,{key:1,icon:"UserFilled"}))]),_:1},8,["label"]),t(n,{prop:"act_name",label:"渠道","min-width":"60","show-overflow-tooltip":!0}),t(n,{prop:"order_title",label:"名称","min-width":"80","show-overflow-tooltip":!0}),t(n,{label:"金额/分佣","min-width":"80","show-overflow-tooltip":!0},{default:l(({row:a})=>[d("text",_e,v(a.order_price)+"/",1),d("text",fe,v(a.jtk_share_fee),1)]),_:1}),t(n,{prop:"status_desc",label:"状态","min-width":"80","show-overflow-tooltip":!0}),t(n,{prop:"create_time",label:"创建时间","min-width":"80","show-overflow-tooltip":!0})]),_:1},8,["data"])),[[T,e.loading]]),d("div",ge,[t(L,{"current-page":e.page,"onUpdate:current-page":o[6]||(o[6]=a=>e.page=a),"page-size":e.limit,"onUpdate:page-size":o[7]||(o[7]=a=>e.limit=a),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:o[8]||(o[8]=a=>p()),onCurrentChange:p},null,8,["current-page","page-size","total"])])])]),_:1})])}}});const Ye=se(be,[["__scopeId","data-v-da382ffa"]]);export{Ye as default};
