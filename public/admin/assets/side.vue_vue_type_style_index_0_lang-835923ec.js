import{d as A,D as q,j as z,r as g,l as H,bU as C,Q as J,h as s,s as x,w as o,e as r,a as c,u as d,c as i,A as L,T as S,F as k,t as j,B as w,x as Q,f as T,J as G,bE as K,d8 as O,d6 as P,V as W,N as X,z as Y}from"./index-6f32d09b.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./el-sub-menu-4ed993c7.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang-0724e2f9.js";/* empty css                 *//* empty css                        */import{_ as I}from"./icon-addon-339e16d0.js";import{_ as ee}from"./menu-item.vue_vue_type_style_index_0_lang-ae6266a8.js";const ae={class:"w-[64px] bg-[#282c34] h-screen one-menu"},te={key:0,class:"logo flex items-center m-auto h-[64px]"},ne=c("div",{class:"flex justify-center items-center w-full h-[40px]"},[c("img",{class:"max-w-[40px]",src:I,alt:"","object-fit":"contain"})],-1),se={key:1,class:"logo flex items-center justify-center h-[64px]"},oe=c("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),le=[oe],ce={key:0,class:"w-[16px] h-[16px] relative flex justify-center"},re={class:"relative"},de={class:"ml-[10px] text-[15px]"},ue=c("div",{class:"h-[48px]"},null,-1),ie={class:"w-[190px] h-[64px] flex items-center justify-center text-[16px] border-0 border-b-[1px] border-solid border-[#eee]"},_e=c("div",{class:"h-[48px]"},null,-1),Se=A({__name:"side",setup(pe){const v=q(),_=z(),n=Q(),M=T(),a=_.siteInfo,R=_.routers,B=_.addonIndexRoute,p=g([]),u=g([]),m={},V=H(()=>_.siteInfo.icon?_.siteInfo.icon:v.website.icon);if(R.forEach(e=>{e.original_name=e.name,e.meta.addon==""?(e.children&&e.children.length&&(e.name=C(e.children)),p.value.push(e)):e.meta.addon!=""&&(a==null?void 0:a.apps.length)<=1&&(a==null?void 0:a.apps[0].key)==e.meta.addon?e.children?(e.children.forEach(t=>{t.original_name=t.name,t.children&&t.children.length&&(t.name=C(t.children))}),p.value.unshift(...e.children)):p.value.unshift(e):m[e.meta.addon]=e}),(a==null?void 0:a.apps.length)>1){const e=[];a==null||a.apps.forEach(t=>{var f;e.push({path:m[t.key]?m[t.key].path:"",meta:{icon:((f=m[t.key])==null?void 0:f.meta.icon)||"element Setting",addon:t.key,title:t.title,app:t.app,show:!0},original_name:t.key,name:B[t.key]})}),p.value.unshift(...e)}const h=g(n.matched[1].name);return J(n,()=>{(a==null?void 0:a.apps.length)>1?(u.value=n.matched[1].children,h.value=n.matched[1].name):n.meta.addon==""?(h.value=n.matched[1].name,u.value=n.matched[1].children??[]):n.meta.addon&&n.meta.addon!=(a==null?void 0:a.apps[0].key)?(h.value="/site/app",u.value=n.matched[1].children??[]):(h.value=n.matched[2].name,u.value=n.matched[2].children??[])},{immediate:!0}),(e,t)=>{const f=G,D=K,N=Z,F=O,b=P,E=W,U=X,$=Y;return s(),x($,{class:"w-100 h-screen"},{default:o(()=>[r(U,{class:"p-0 flex"},{default:o(()=>[c("div",ae,[r(D,{class:"logo-wrap"},{default:o(()=>[d(v).menuIsCollapse?(s(),i("div",se,le)):(s(),i("div",te,[r(f,{style:{width:"40px",height:"40px"},src:d(L)(d(V)),fit:"contain"},{error:o(()=>[ne]),_:1},8,["src"])]))]),_:1}),r(E,{class:"h-[calc( 100vh - 64px )]"},{default:o(()=>[r(b,{"default-active":h.value,router:!0,class:"aside-menu","unique-opened":!0},{default:o(()=>[(s(!0),i(k,null,S(p.value,(l,y)=>(s(),i(k,{key:y},[l.meta.show?(s(),x(F,{key:0,index:l.original_name,onClick:he=>d(M).push({name:l.name})},{title:o(()=>[c("div",re,[c("span",de,j(l.meta.short_title||l.meta.title),1)])]),default:o(()=>[l.meta.icon?(s(),i("div",ce,[r(N,{name:l.meta.icon,class:"absolute top-[50%] -translate-y-[50%]"},null,8,["name"])])):w("",!0)]),_:2},1032,["index","onClick"])):w("",!0)],64))),128))]),_:1},8,["default-active"]),ue]),_:1})]),u.value.length?(s(),x(E,{key:0,class:"two-menu w-[190px]"},{default:o(()=>[c("div",ie,j(d(n).matched[1].meta.title),1),r(b,{"default-active":d(n).name,router:!0,class:"aside-menu",collapse:d(v).menuIsCollapse},{default:o(()=>[(s(!0),i(k,null,S(u.value,(l,y)=>(s(),x(ee,{routes:l,key:y},null,8,["routes"]))),128))]),_:1},8,["default-active","collapse"]),_e]),_:1})):w("",!0)]),_:1})]),_:1})}}});export{Se as _};
