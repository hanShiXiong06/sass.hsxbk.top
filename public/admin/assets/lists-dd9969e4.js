import{d as F,x as R,f as D,n as V,r as $,h as c,c as f,e as o,w as l,a as s,t as i,u as n,i as v,q as a,R as j,s as b,F as S,T as U,B as W,a5 as q,E as M,ac as P,ad as Y,W as A,a7 as G,Y as H}from"./index-37fee5a0.js";/* empty css                   *//* empty css                *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                  */import{g as I,f as J}from"./level-68fbee86.js";const K={class:"main-container"},O={class:"flex justify-between items-center"},Q={class:"text-page-title"},X={class:"mt-[20px]"},Z={class:"flex flex-col"},ee={class:"mt-[16px] flex justify-end"},he=F({__name:"lists",setup(te){const y=R(),h=D(),C=y.meta.title,t=V({page:1,limit:10,total:0,loading:!1,data:[]}),k=["默认等级","一级","二级","三级","四级","五级","六级","七级","八级","九级","十级"],m=()=>{t.loading=!0,I({page:t.page,limit:t.limit}).then(r=>{t.data=r.data.data,t.total=r.data.total,t.loading=!1}).catch(()=>{t.loading=!1})};m();const w=()=>{h.push("/shop_fenxiao/management/level_edit")},E=r=>{h.push(`/shop_fenxiao/management/level_edit?id=${r}`)},u=$(!1),B=r=>{q.confirm(a("levelDeleteTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{u.value||(u.value=!0,J(r).then(()=>{m(),u.value=!1}).catch(()=>{u.value=!1}))})};return(r,d)=>{const _=M,p=P,L=Y,T=A,N=G,z=H;return c(),f("div",K,[o(N,{class:"card !border-none",shadow:"never"},{default:l(()=>[s("div",O,[s("span",Q,i(n(C)),1),o(_,{type:"primary",onClick:w},{default:l(()=>[v(i(n(a)("addLevel")),1)]),_:1})]),s("div",X,[j((c(),b(L,{data:t.data,size:"large"},{empty:l(()=>[s("span",null,i(t.loading?"":n(a)("emptyData")),1)]),default:l(()=>[o(p,{label:n(a)("levelNum"),"min-width":"120"},{default:l(({row:e})=>[s("span",null,i(k[e.level_num]),1)]),_:1},8,["label"]),o(p,{prop:"level_name",label:n(a)("levelName"),"min-width":"120"},null,8,["label"]),o(p,{label:n(a)("oneRate"),"min-width":"200"},{default:l(({row:e})=>[s("span",null,i(e.one_rate)+"%",1)]),_:1},8,["label"]),o(p,{prop:"two_rate",label:n(a)("twoRate"),"min-width":"120"},{default:l(({row:e})=>[s("span",null,i(e.two_rate)+"%",1)]),_:1},8,["label"]),o(p,{prop:"level_text",label:n(a)("upgradeConditions"),"min-width":"150"},{default:l(({row:e})=>[s("div",Z,[(c(!0),f(S,null,U(e.level_text.list,(g,x)=>(c(),f("span",{key:x},i(g)+i(e.level_text.list.length!=x+1?e.level_text.text:""),1))),128))])]),_:1},8,["label"]),o(p,{label:n(a)("operation"),fixed:"right",align:"right","min-width":"120"},{default:l(({row:e})=>[o(_,{type:"primary",link:"",onClick:g=>E(e.level_id)},{default:l(()=>[v(i(n(a)("edit")),1)]),_:2},1032,["onClick"]),e.is_default?W("",!0):(c(),b(_,{key:0,type:"primary",link:"",onClick:g=>B(e.level_id)},{default:l(()=>[v(i(n(a)("delete")),1)]),_:2},1032,["onClick"]))]),_:1},8,["label"])]),_:1},8,["data"])),[[z,t.loading]]),s("div",ee,[o(T,{"current-page":t.page,"onUpdate:current-page":d[0]||(d[0]=e=>t.page=e),"page-size":t.limit,"onUpdate:page-size":d[1]||(d[1]=e=>t.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:d[2]||(d[2]=e=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{he as default};
