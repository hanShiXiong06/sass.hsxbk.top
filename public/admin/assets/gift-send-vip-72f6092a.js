import{d as B,r as u,n as F,l as N,Q as c,h as i,c as v,e as o,w as m,F as f,T as O,s as j,a as r,aw as C,ac as M,aD as R,K as U,L as $,M as D}from"./index-99f00cf3.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                    */import{g as S}from"./vip-83a8ed5c.js";const q=r("span",{class:"ml-[10px] el-form-item__label"},"送会员等级",-1),z={class:"w-[70px] ml-8"},K=r("span",{class:"ml-[15px] el-form-item__label"},"天",-1),Q=r("div",{class:"text-sm text-gray-400 mb-[5px]"}," 用户可以通过完成任务升级到当前等级，天数0为永久会员 ",-1),ae=B({__name:"gift-send-vip",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(b,{expose:y,emit:V}){const g=b,d=u([]);(async()=>{d.value=await(await S({})).data})();const l=u({is_use:0,day:"",level_id:""}),p=u(null),x={required:/[\S]+/,number:/^\d{0,10}$/,digit:/^\d{0,10}(.?\d{0,2})$/,special:/^\d{0,10}(.?\d{0,3})$/},h=F({num:[{validator:(a,e,t)=>{l.value.is_use?e.length==0?t("请输入天数数量"):isNaN(e)||!x.number.test(e)?t("天数数量格式错误"):e<0?t("天数数量不能小于0"):t():t()},trigger:"blur"}]}),n=N({get(){return g.modelValue},set(a){V("update:modelValue",a)}});return c(()=>n.value,(a,e)=>{(!e||!Object.keys(e).length)&&Object.keys(a).length&&(l.value=n.value)},{immediate:!0}),c(()=>l.value,()=>{n.value=l.value},{deep:!0}),y({verify:async()=>{var e;let a=!0;return await((e=p.value)==null?void 0:e.validate(t=>{a=t})),a}}),(a,e)=>{const t=C,_=M,w=R,L=U,E=$,k=D;return i(),v(f,null,[o(k,{ref_key:"formRef",ref:p,model:l.value,rules:h},{default:m(()=>[o(E,{label:"",prop:"day"},{default:m(()=>[o(t,{modelValue:l.value.is_use,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.is_use=s),"true-label":1,"false-label":0,label:"",size:"large"},null,8,["modelValue"]),q,o(w,{class:"input-width",modelValue:l.value.level_id,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.level_id=s),clearable:"",placeholder:"请选择"},{default:m(()=>[o(_,{label:"请选择",value:""}),(i(!0),v(f,null,O(d.value,(s,I)=>(i(),j(_,{key:I,label:s.level_name,value:s.level_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),r("div",z,[o(L,{modelValue:l.value.day,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.day=s),modelModifiers:{trim:!0},clearable:""},null,8,["modelValue"])]),K]),_:1})]),_:1},8,["model","rules"]),Q],64)}}});export{ae as default};
