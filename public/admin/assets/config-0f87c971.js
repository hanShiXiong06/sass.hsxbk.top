import{d as P,r as v,n as q,h as i,c as I,R as N,s as _,w as t,e,i as n,a as s,t as c,B as f,u,q as p,U as K,ae as M,af as S,aW as J,a7 as L,L as z,at as G,au as O,E as T,K as Y,a6 as $,ab as j,aC as H,M as Q,Y as X}from"./index-37fee5a0.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                       *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                *//* empty css                 *//* empty css                             */import{g as Z,a as ee,s as le}from"./tkjhkd-dbc81071.js";const te={class:"main-container"},oe={class:"text-sm text-bold capitalize"},ae=s("a",{href:"https://market.cloud.tencent.com/products/37790?keyword=%E5%BF%AB%E9%80%92%E5%9C%B0%E5%9D%80#spec=0.00%E5%85%83%2F10%E6%AC%A1",target:"_blank"},"购买地址",-1),se={class:"ml-4"},de=s("span",{class:"mr-2"},"腾讯云市场secretId",-1),ne={class:"ml-4"},re=s("span",{class:"mr-2"},"腾讯云市场secretKey",-1),ue=s("span",{class:"ml-[4px]"},"元",-1),pe=s("span",{class:"ml-[4px]"},"%",-1),ie=s("span",{class:"ml-[4px] mr-2"},"首重降价",-1),me=s("span",{class:"ml-[4px] mr-2 ml-6"},"续重降价",-1),_e=s("span",{class:"ml-2"},"单位:分",-1),ce={class:"ml-[4px]"},fe=s("div",{style:{width:"640px"}},null,-1),be={class:"ml-[4px]"},ye=s("div",{style:{width:"640px"}},null,-1),he={class:"ml-[4px]"},we=s("div",{style:{width:"640px"}},null,-1),xe=s("span",{class:"ml-4"},"是否开启群webhook通知",-1),Ve=s("span",{class:"ml-4"}," 单位:分钟，默认30分内只通知一次,0不限制",-1),ke={class:"fixed-footer-wrap"},ve={class:"fixed-footer"},ze=P({__name:"config",setup(ge){const g=v(!0),A=v(),y=v(),l=q({username:"",privateKey:"",floatWay:"floatWayFixed",floatAmount:"2",firstAmount:"2",secondAmount:"2",floatRate:"10",noticeurl:"",noticeurlyy:"",noticeurlxd:"",bindMobile:"",autosend:"1",cancelmin:"120",address_use:"0",tx_id:"",tx_secret:"",is_webhook:"0",webhook_type:"0",qwurl:"",fsurl:"",ddurl:"",min:"30"}),E=async()=>{const w=await Z({});g.value=!1;for(const b in l)l[b]=w.data.value[b];const o=await ee();y.value=o.msg,y.value<=100&&K("可用余额不大于100，为保证正常下单请前往充值")};E();const R=async()=>{await le(l),E()};return(w,o)=>{const b=M,B=S,W=J,x=L,d=z,m=G,h=O,U=T,r=Y,V=$,k=j,C=H,F=Q,D=X;return i(),I("div",te,[N((i(),_(F,{model:l,"label-width":"150px",ref_key:"ruleFormRef",ref:A,rules:w.rules,class:"page-form"},{default:t(()=>[e(x,{class:"box-card !border-none",shadow:"never"},{default:t(()=>[e(B,{title:"配置说明",column:"1"},{default:t(()=>[e(b,{label:"价格说明"},{default:t(()=>[n("为保证订单利润，订单优惠低于成本价会自动在成本价上加3元")]),_:1}),e(b,{label:"充值说明"},{default:t(()=>[n("对接后台账户余额大于100元才能下单")]),_:1}),e(b,{label:"回调地址"},{default:t(()=>[n("必须在对应平台后台配置正确回调地址才能下单")]),_:1}),e(b,{label:"取消订单"},{default:t(()=>[n("配置为0,客户揽收推送前可以取消，如30,不管是否揽收，客户30分钟后就不能自主取消订单")]),_:1})]),_:1}),e(x,{class:"!border-none",shadow:"never",style:{width:"640px"}},{default:t(()=>[e(W,{type:"warning",title:"使用前请先完成基本设置",closable:!1,"show-icon":""})]),_:1}),y.value?(i(),_(d,{key:0,label:"平台余额"},{default:t(()=>[s("span",oe,c(y.value),1)]),_:1})):f("",!0),e(d,{label:"地址解析",prop:"autosend"},{default:t(()=>[e(h,{modelValue:l.address_use,"onUpdate:modelValue":o[0]||(o[0]=a=>l.address_use=a)},{default:t(()=>[e(m,{label:"0"},{default:t(()=>[n("关闭")]),_:1}),e(m,{label:"1"},{default:t(()=>[n("开启")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l.address_use==1?(i(),_(d,{key:1},{default:t(()=>[e(U,null,{default:t(()=>[ae]),_:1}),s("div",se,[de,e(r,{clearable:"",modelValue:l.tx_id,"onUpdate:modelValue":o[1]||(o[1]=a=>l.tx_id=a),style:{width:"200px"},placeholder:"腾讯云市场购买后分配"},null,8,["modelValue"])]),s("div",ne,[re,e(r,{clearable:"",modelValue:l.tx_secret,"onUpdate:modelValue":o[2]||(o[2]=a=>l.tx_secret=a),style:{width:"200px"},placeholder:"腾讯云市场购买后分配"},null,8,["modelValue"])])]),_:1})):f("",!0),e(d,{label:"发单方式",prop:"autosend"},{default:t(()=>[e(h,{modelValue:l.autosend,"onUpdate:modelValue":o[3]||(o[3]=a=>l.autosend=a)},{default:t(()=>[e(m,{label:"0"},{default:t(()=>[n("手动")]),_:1}),e(m,{label:"1"},{default:t(()=>[n("自动")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:u(p)("floatWay"),prop:"floatWay"},{default:t(()=>[e(h,{modelValue:l.floatWay,"onUpdate:modelValue":o[4]||(o[4]=a=>l.floatWay=a)},{default:t(()=>[e(m,{label:"floatWayFixed"},{default:t(()=>[n(c(u(p)("floatWayFixed")),1)]),_:1}),e(m,{label:"floatWayRate"},{default:t(()=>[n(c(u(p)("floatWayRate")),1)]),_:1}),e(m,{label:"floatWayBetwn"},{default:t(()=>[n(c(u(p)("floatWayBetwn")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),l.floatWay=="floatWayFixed"?(i(),_(d,{key:2,label:u(p)("floatAmount"),prop:"floatAmount"},{default:t(()=>[e(r,{modelValue:l.floatAmount,"onUpdate:modelValue":o[5]||(o[5]=a=>l.floatAmount=a),style:{width:"200px"},placeholder:u(p)("floatAmountPlaceholder")},null,8,["modelValue","placeholder"]),ue]),_:1},8,["label"])):f("",!0),l.floatWay=="floatWayRate"?(i(),_(d,{key:3,label:u(p)("floatRate"),prop:"floatRate"},{default:t(()=>[e(r,{modelValue:l.floatRate,"onUpdate:modelValue":o[6]||(o[6]=a=>l.floatRate=a),style:{width:"200px"},placeholder:u(p)("floatRatePlaceholder")},null,8,["modelValue","placeholder"]),pe]),_:1},8,["label"])):f("",!0),l.floatWay=="floatWayBetwn"?(i(),_(d,{key:4},{default:t(()=>[ie,e(r,{modelValue:l.firstAmount,"onUpdate:modelValue":o[7]||(o[7]=a=>l.firstAmount=a),style:{width:"80px"},placeholder:u(p)("floatRatePlaceholder")},null,8,["modelValue","placeholder"]),me,e(r,{modelValue:l.secondAmount,"onUpdate:modelValue":o[8]||(o[8]=a=>l.secondAmount=a),style:{width:"80px"},placeholder:u(p)("floatRatePlaceholder")},null,8,["modelValue","placeholder"])]),_:1})):f("",!0),e(d,{label:"取消订单"},{default:t(()=>[e(r,{modelValue:l.cancelmin,"onUpdate:modelValue":o[9]||(o[9]=a=>l.cancelmin=a),style:{width:"80px"},placeholder:"单位分"},null,8,["modelValue"]),_e]),_:1}),e(V,{placement:"top-start",title:"",width:200,trigger:"hover",content:"请在易达后台配置回调地址"},{reference:t(()=>[e(d,{label:"易达回调地址"},{default:t(()=>[s("span",ce,c(l.noticeurl),1),fe]),_:1})]),_:1}),e(V,{placement:"top-start",title:"",width:200,trigger:"hover",content:"请在云洋后台配置回调地址"},{reference:t(()=>[e(d,{label:"云洋回调地址"},{default:t(()=>[s("span",be,c(l.noticeurlyy),1),ye]),_:1})]),_:1}),e(V,{placement:"top-start",title:"",width:200,trigger:"hover",content:"请在辛达后台配置回调地址"},{reference:t(()=>[e(d,{label:"辛达回调地址"},{default:t(()=>[s("span",he,c(l.noticeurlxd),1),we]),_:1})]),_:1}),e(x,{class:"!border-none",shadow:"never",style:{width:"640px"}},{default:t(()=>[e(W,{type:"warning",title:"开启配置通知，订单新增，催收等会同步到webhook群",closable:!1,"show-icon":""})]),_:1}),e(d,{label:""},{default:t(()=>[e(h,{modelValue:l.is_webhook,"onUpdate:modelValue":o[10]||(o[10]=a=>l.is_webhook=a)},{default:t(()=>[e(m,{label:"0"},{default:t(()=>[n("否")]),_:1}),e(m,{label:"1"},{default:t(()=>[n("是")]),_:1})]),_:1},8,["modelValue"]),xe]),_:1}),e(d,{class:"font-bold text-xs",label:"通知类型",prop:"checktype"},{default:t(()=>[e(C,{modelValue:l.webhook_type,"onUpdate:modelValue":o[11]||(o[11]=a=>l.webhook_type=a),clearable:"",placeholder:"请选择"},{default:t(()=>[e(k,{key:"0",label:"企业微信",value:"0"}),e(k,{key:"1",label:"飞书",value:"1"}),e(k,{key:"2",label:"钉钉",value:"2"})]),_:1},8,["modelValue"])]),_:1}),l.webhook_type==0?(i(),_(d,{key:5,class:"font-bold text-xs",label:"Webhook 地址",prop:"action"},{default:t(()=>[e(r,{clearable:"",modelValue:l.qwurl,"onUpdate:modelValue":o[12]||(o[12]=a=>l.qwurl=a),class:"w-60",placeholder:"请输入webhook地址"},null,8,["modelValue"])]),_:1})):f("",!0),l.webhook_type==1?(i(),_(d,{key:6,class:"font-bold text-xs",label:"Webhook 地址",prop:"msg"},{default:t(()=>[e(r,{type:"textarea",clearable:"",modelValue:l.fsurl,"onUpdate:modelValue":o[13]||(o[13]=a=>l.fsurl=a),style:{width:"300px"},placeholder:"请输入webhook地址"},null,8,["modelValue"])]),_:1})):f("",!0),l.webhook_type==2?(i(),_(d,{key:7,class:"font-bold text-xs",label:"Webhook 地址",prop:"msg"},{default:t(()=>[e(r,{clearable:"",modelValue:l.ddurl,"onUpdate:modelValue":o[14]||(o[14]=a=>l.ddurl=a),class:"w-60",placeholder:"请输入webhook地址"},null,8,["modelValue"])]),_:1})):f("",!0),e(d,{class:"font-bold text-xs",label:"通知频率",prop:"msg"},{default:t(()=>[e(r,{clearable:"",modelValue:l.min,"onUpdate:modelValue":o[15]||(o[15]=a=>l.min=a),style:{width:"200px"},placeholder:"以分钟计算，默认30分钟"},null,8,["modelValue"]),Ve]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[D,g.value]]),s("div",ke,[s("div",ve,[e(U,{type:"primary",onClick:o[16]||(o[16]=a=>R())},{default:t(()=>[n(c(u(p)("save")),1)]),_:1})])])])}}});export{ze as default};
