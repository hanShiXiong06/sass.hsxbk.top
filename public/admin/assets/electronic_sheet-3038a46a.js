import{d as K,x as W,f as Y,n as A,r as w,h as p,c as y,e as o,w as n,a as m,t as r,u as l,i as d,q as e,F as G,T as H,s as f,R as J,B as h,a5 as T,E as Q,ax as X,ay as Z,K as ee,L as te,ab as ae,aC as le,M as oe,a7 as ne,ak as se,ac as ie,ad as re,W as pe,Y as ce}from"./index-5a756a51.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                    *//* empty css                  */import{g as me,d as de,s as _e}from"./electronic_sheet-cb2ca4d2.js";import{j as ue}from"./delivery-250bcac6.js";const fe={class:"main-container"},he={class:"flex justify-between items-center mb-[5px]"},ye={class:"text-lg"},ge={class:"mt-[10px]"},be={class:"ml-[8px]"},ve={key:0},xe={key:1},Ce={class:"mt-[16px] flex justify-end"},Ke=K({__name:"electronic_sheet",setup(Ee){const P=W(),g=Y(),S=P.meta.title,a=A({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{template_name:"",express_company_id:""}}),v=w(),B=i=>{g.push({path:i})},c=(i=1)=>{a.loading=!0,a.page=i,me({page:a.page,limit:a.limit,...a.searchParam}).then(s=>{a.loading=!1,a.data=s.data.data,a.total=s.data.total}).catch(()=>{a.loading=!1})};c();const x=w([]);ue({electronic_sheet_switch:1}).then(i=>{x.value=i.data});const D=()=>{g.push("/shop/delivery/electronic_sheet_add")},V=i=>{g.push("/shop/delivery/electronic_sheet_edit?id="+i.id)},F=i=>{T.confirm(e("electronicSheetDeleteTips"),e("warning"),{confirmButtonText:e("confirm"),cancelButtonText:e("cancel"),type:"warning"}).then(()=>{de(i).then(()=>{c()})})},N=i=>{T.confirm(e("electronicSheetSetDefaultTips"),e("warning"),{confirmButtonText:e("confirm"),cancelButtonText:e("cancel"),type:"warning"}).then(()=>{_e({id:i}).then(()=>{c()})})},z=i=>{i&&(i.resetFields(),c())};return(i,s)=>{const _=Q,C=X,L=Z,$=ee,b=te,R=ae,j=le,U=oe,E=ne,M=se,u=ie,O=re,I=pe,q=ce;return p(),y("div",fe,[o(E,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[m("div",he,[m("span",ye,r(l(S)),1),o(_,{type:"primary",onClick:D},{default:n(()=>[d(r(l(e)("addElectronicSheet")),1)]),_:1})]),o(L,{"model-value":"/shop/delivery/electronic_sheet",onTabChange:B},{default:n(()=>[o(C,{label:l(e)("tabESTemplate"),name:"/shop/delivery/electronic_sheet"},null,8,["label"]),o(C,{label:l(e)("tabESConfig"),name:"/shop/delivery/electronic_sheet/config"},null,8,["label"])]),_:1}),o(E,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:n(()=>[o(U,{inline:!0,model:a.searchParam,ref_key:"searchFormRef",ref:v},{default:n(()=>[o(b,{label:l(e)("templateName"),prop:"template_name"},{default:n(()=>[o($,{modelValue:a.searchParam.template_name,"onUpdate:modelValue":s[0]||(s[0]=t=>a.searchParam.template_name=t),modelModifiers:{trim:!0},placeholder:l(e)("templateNamePlaceholder"),maxlength:"30"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(b,{label:l(e)("expressCompany"),prop:"express_company_id"},{default:n(()=>[o(j,{modelValue:a.searchParam.express_company_id,"onUpdate:modelValue":s[1]||(s[1]=t=>a.searchParam.express_company_id=t),placeholder:l(e)("expressCompanyPlaceholder"),clearable:""},{default:n(()=>[(p(!0),y(G,null,H(x.value,t=>(p(),f(R,{key:t.company_id,label:t.company_name,value:t.company_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),o(b,null,{default:n(()=>[o(_,{type:"primary",onClick:s[2]||(s[2]=t=>c())},{default:n(()=>[d(r(l(e)("search")),1)]),_:1}),o(_,{onClick:s[3]||(s[3]=t=>z(v.value))},{default:n(()=>[d(r(l(e)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),m("div",ge,[J((p(),f(O,{data:a.data,size:"large"},{empty:n(()=>[m("span",null,r(a.loading?"":l(e)("emptyData")),1)]),default:n(()=>[o(u,{label:l(e)("templateName"),"min-width":"200","show-overflow-tooltip":!0},{default:n(({row:t})=>[t.is_default?(p(),f(M,{key:0,size:"small"},{default:n(()=>[d(r(l(e)("isDefault")),1)]),_:1})):h("",!0),m("span",be,r(t.template_name),1)]),_:1},8,["label"]),o(u,{prop:"express_company_id",label:l(e)("expressCompany"),"min-width":"120","show-overflow-tooltip":!0},{default:n(({row:t})=>[m("div",null,r(t.company.company_name),1)]),_:1},8,["label"]),o(u,{prop:"pay_type_name",label:l(e)("payType"),"min-width":"80","show-overflow-tooltip":!0},null,8,["label"]),o(u,{prop:"status",label:l(e)("status"),"min-width":"80","show-overflow-tooltip":!0},{default:n(({row:t})=>[t.status==1?(p(),y("div",ve,r(l(e)("statusOn")),1)):h("",!0),t.status==0?(p(),y("div",xe,r(l(e)("statusOff")),1)):h("",!0)]),_:1},8,["label"]),o(u,{label:l(e)("operation"),fixed:"right","min-width":"80",align:"right"},{default:n(({row:t})=>[t.is_default?h("",!0):(p(),f(_,{key:0,type:"primary",link:"",onClick:k=>N(t.id)},{default:n(()=>[d(r(l(e)("setDefault")),1)]),_:2},1032,["onClick"])),o(_,{type:"primary",link:"",onClick:k=>V(t)},{default:n(()=>[d(r(l(e)("edit")),1)]),_:2},1032,["onClick"]),t.is_default?h("",!0):(p(),f(_,{key:1,type:"primary",link:"",onClick:k=>F(t.id)},{default:n(()=>[d(r(l(e)("delete")),1)]),_:2},1032,["onClick"]))]),_:1},8,["label"])]),_:1},8,["data"])),[[q,a.loading]]),m("div",Ce,[o(I,{"current-page":a.page,"onUpdate:current-page":s[4]||(s[4]=t=>a.page=t),"page-size":a.limit,"onUpdate:page-size":s[5]||(s[5]=t=>a.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:s[6]||(s[6]=t=>c()),onCurrentChange:c},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{Ke as default};
