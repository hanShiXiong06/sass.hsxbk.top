import{d as e,r as a,j as s,aD as t,t as l,o as r,c as o,w as u,b as i,E as d,F as n,G as p,f as c,u as m,n as f,a as _,i as x,g as v,h as b,a4 as y,x as h,y as k,aE as g,aF as j,C}from"./index-e6ce9fbf.js";import{_ as w}from"./u-swipe-action-item.d61225bf.js";import{_ as A}from"./u-swipe-action.e6056ca3.js";import{_ as E}from"./u-button.7a41d301.js";import{_ as F}from"./u-tabbar.2615c204.js";import{M as I}from"./mescroll-empty.b423055b.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.c5d9cd81.js";import"./u-loading-icon.39fd4711.js";import"./u-safe-bottom.1ba5bfba.js";import"./mescroll-uni-option.2f7b06f4.js";import"./mescroll-i18n.6025c811.js";/* empty css                                                                       */const z=S(e({__name:"address",setup(e){const S=a(!0),z=a(0),B=a([]),D=a([]),G=a(""),H=a("");s((e=>{G.value=e.type||"",H.value=e.source||"",e.type&&(z.value="address"==e.type?0:1)})),t({}).then((({data:e})=>{const a=[],s=[];e.forEach((e=>{"address"==e.type?a.push(e):s.push(e)})),H.value?B.value=0==z.value?a:s:B.value=e,S.value=!1})).catch((()=>{S.value=!1}));const M=()=>{_({url:"/app/pages/member/address_edit",param:{source:H.value}})},T=a([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]);return(e,a)=>{const s=x,t=C,G=v(b("u-swipe-action-item"),w),V=v(b("u-swipe-action"),A),$=v(b("u-button"),E),q=v(b("u-tabbar"),F),J=y;return S.value?c("v-if",!0):(r(),o(s,{key:0,style:f(e.themeColor())},{default:u((()=>[i(J,{"scroll-y":"true"},{default:u((()=>[i(V,null,{default:u((()=>[i(s,{class:"p-[30rpx]"},{default:u((()=>[(r(!0),d(p,null,n(B.value,((e,a)=>(r(),o(G,{options:T.value,onClick:e=>(e=>{const a=z.value?D:B,s=a.value[e];j(s.id).then((()=>{a.value.splice(e,1)})).catch()})(a)},{default:u((()=>[i(s,{class:"border-0 !border-b !border-[#f5f5f5] border-solid pb-[30rpx] flex items-center"},{default:u((()=>[i(s,{class:"flex-1 line-feed",onClick:a=>(e=>{const a=uni.getStorageSync("selectAddressCallback");a&&(a.address_id=e.id,uni.setStorage({key:"selectAddressCallback",data:a,success(){_({url:a.back,mode:"redirectTo"})}}))})(e)},{default:u((()=>[i(s,{class:"font-bold my-[10rpx] text-sm line-feed"},{default:u((()=>[h(k(e.full_address),1)])),_:2},1024),i(s,{class:"text-sm flex items-center"},{default:u((()=>[i(s,null,{default:u((()=>[h(k(e.name),1)])),_:2},1024),i(t,{class:"text-[26rpx] text-gray-subtitle"},{default:u((()=>[h(k(m(g)(e.mobile)),1)])),_:2},1024),1==e.is_default?(r(),o(s,{key:0,class:"bg-primary text-white text-xs px-[10rpx] leading-none flex items-center h-[32rpx] ml-[10rpx] rounded min-w-[50rpx]"},{default:u((()=>[h(k(m(l)("default")),1)])),_:1})):c("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"]),i(t,{class:"nc-iconfont nc-icon-xiugaiV6xx shrink-0 text-[32rpx] p-[20rpx] pr-0",onClick:a=>{return s=e.id,void _({url:"/app/pages/member/address_edit",param:{id:s,source:H.value}});var s}},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])))),256)),B.value.length?c("v-if",!0):(r(),o(s,{key:0,class:"pt-[20vh]"},{default:u((()=>[i(I,{option:{tip:"暂无收货地址"}})])),_:1}))])),_:1})])),_:1}),i(q,{fixed:!0,safeAreaInsetBottom:!0,border:!1,zIndex:"99"},{default:u((()=>[i(s,{class:"p-[24rpx] pt-0 w-full"},{default:u((()=>[i($,{type:"primary",shape:"circle",text:m(l)("createAddress"),onClick:M},null,8,["text"])])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))}}}),[["__scopeId","data-v-6e778e36"]]);export{z as default};
