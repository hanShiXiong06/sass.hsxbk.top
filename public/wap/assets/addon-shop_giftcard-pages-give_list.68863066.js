import{d as e,r as a,x as r,o as t,c as o,w as s,b as l,P as d,a7 as i,Q as n,f as c,u as p,n as f,a8 as u,a9 as _,i as m,g as x,h as g,E as v,R as b,y as h,z as y,F as j,a as w,B as k,D as F,C as E}from"./index-7bf68536.js";import{_ as C}from"./u-avatar.0bc202a4.js";import{_ as M}from"./loading-page.vue_vue_type_script_setup_true_lang.124ad65f.js";import{a as z}from"./records.18e3c8c4.js";import{M as I}from"./mescroll-body.b6d57b41.js";import{M as D}from"./mescroll-empty.fcefb74e.js";import{u as R}from"./useMescroll.26ccf5de.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.0c1c54c7.js";import"./u-text.df478cbc.js";import"./u-loading-page.566c330a.js";import"./u-loading-icon.b37701e7.js";import"./u-transition.cdf87992.js";import"./mescroll-i18n.14e7fe02.js";/* empty css                                                                       */const U=S(e({__name:"give_list",setup(e){const{mescrollInit:S,downCallback:U,getMescroll:V}=R(_,u),B=a([]),P=a(!0);r((()=>{V()&&V().resetUpScroll()}));const Q=e=>{let a="";return a="balance"==e.card_info.giftcard.card_right_type?"addon/shop_giftcard/diy/index/value_card.jpg":"addon/shop_giftcard/diy/index/redemption_card.jpg",a},q=e=>{P.value=!0;let a={page:e.num,limit:e.size};z(a).then((a=>{let r=a.data.data;1==e.num&&(B.value=[]),B.value=B.value.concat(r),e.endSuccess(r.length),P.value=!1})).catch((()=>{P.value=!1,e.endErr()}))};return(e,a)=>{const r=k,u=F,_=m,z=x(g("u-avatar"),C),R=E,U=x(g("loading-page"),M);return t(),o(_,{class:"bg-[#f8f8f8] min-h-[100vh]",style:f(e.themeColor())},{default:s((()=>[l(I,{ref:"mescrollRef",onInit:p(S),down:{use:!1},onUp:q},{default:s((()=>[B.value.length?(t(),o(_,{key:0,class:"sidebar-margin pt-[var(--top-m)]"},{default:s((()=>[(t(!0),d(n,null,i(B.value,((e,a)=>(t(),o(_,{onClick:a=>{return r=e.member_card_id,void w({url:"/addon/shop_giftcard/pages/give_detail",param:{member_card_id:r}});var r},class:"h-[430rpx] mb-[var(--top-m)] rounded-[var(--rounded-big)] overflow-hidden box-border relative"},{default:s((()=>[e.card_info.card_cover?(t(),o(r,{key:0,class:"w-[100%] h-[100%] rounded-[var(--goods-rounded-big)] overflow-hidden",src:p(v)(e.card_info.card_cover||""),onError:a=>e.card_info.card_cover=Q(e),mode:"aspectFill"},null,8,["src","onError"])):(t(),o(r,{key:1,class:"w-[100%] h-[100%] rounded-[var(--goods-rounded-big)] overflow-hidden",src:p(v)(Q(e)),mode:"aspectFill"},null,8,["src"])),l(_,{class:"flex flex-col justify-between w-full h-[430rpx] mb-[var(--top-m)] rounded-[var(--rounded-big)] overflow-hidden box-border absolute left-0 top-0 z-5"},{default:s((()=>[l(_,{class:"flex py-[var(--pad-top-m)] px-[var(--pad-sidebar-m)]"},{default:s((()=>[l(_,{class:"flex h-[38rpx] px-[10rpx] bg-[rgba(255,255,255,0.9)] rounded-[19rpx]"},{default:s((()=>[l(u,{class:b(["mr-[8rpx] iconfont !text-[24rpx] !leading-[38rpx]",{"iconchuzhikaV6mm !text-[#EF000C]":"balance"==e.card_info.giftcard.card_right_type,"iconduihuankaV6mm-1 !text-[#FF7700]":"goods"==e.card_info.giftcard.card_right_type}])},null,8,["class"]),"balance"==e.card_info.giftcard.card_right_type?(t(),o(u,{key:0,class:"!text-[26rpx] font-500 !leading-[38rpx]"},{default:s((()=>[h(y(e.card_info.balance),1)])),_:2},1024)):c("v-if",!0),l(u,{class:"!text-[22rpx] font-400 !leading-[38rpx]"},{default:s((()=>["balance"==e.card_info.giftcard.card_right_type?(t(),o(u,{key:0},{default:s((()=>[h(y(p(j)("yuan")),1)])),_:1})):c("v-if",!0),h(y(e.card_info.giftcard.card_right_type_name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),l(_,{class:"flex justify-between px-[var(--pad-sidebar-m)] mt-auto mb-[var(--pad-top-m)]"},{default:s((()=>[l(_,{class:"h-[36rpx] leading-[36rpx] text-[26rpx] font-800 text-stroke"},{default:s((()=>[h(y(e.card_info.card_no),1)])),_:2},1024)])),_:2},1024),l(_,{class:"flex items-center justify-between bg-[rgba(255,255,255,0.9)] h-[80rpx] px-[var(--pad-sidebar-m)] box-border"},{default:s((()=>[l(_,{class:"flex items-center"},{default:s((()=>[l(z,{src:p(v)(e.giveMember.headimg),size:"54rpx",leftIcon:"none","default-url":p(v)("static/resource/images/default_headimg.png")},null,8,["src","default-url"]),l(_,{class:"w-[250rpx] text-[28rpx] font-400 leading-[38rpx] ml-[8rpx] truncate"},{default:s((()=>[h(y(e.giveMember.nickname),1)])),_:2},1024)])),_:2},1024),l(_,{class:"flex items-center"},{default:s((()=>[l(R,{class:"h-[50rpx] font-500 text-[22rpx] leading-[46rpx] !text-[#333] !bg-transparent m-0 rounded-[25rpx] px-[22rpx] border-[2rpx] border-solid border-[var(--text-color-light9)] box-border ml-[20rpx]"},{default:s((()=>[h(y(p(j)("viewDetails")),1)])),_:1})])),_:1}),c(' <view class="price-font flex items-baseline" v-if="item.card_info.giftcard.card_right_type==\'balance\'">\r\n\t\t\t\t\t\t\t\t<text class="text-[28rpx] font-400 mr-[4rpx]">ï¿¥</text>\r\n\t\t\t\t\t\t\t\t<text class="text-[48rpx] font-500">{{ parseFloat(item.card_info.balance)}}</text>\r\n\t\t\t\t\t\t\t</view> ')])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})):c("v-if",!0),B.value.length||P.value?c("v-if",!0):(t(),o(D,{key:1,option:{tip:p(j)("cardEmpty"),icon:p(v)("addon/shop_giftcard/empty.png")}},null,8,["option"]))])),_:1},8,["onInit"]),l(U,{loading:P.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-1e614f4e"]]);export{U as default};
