import{d as e,r as t,j as a,o as r,c as s,w as l,u as o,b as d,y as p,z as x,I as c,J as n,K as i,f as u,L as f,n as m,aR as _,g,h as b,i as h,D as v,l as y,x as w,a as j,G as k,Q as I}from"./index-d8a8f699.js";import{_ as C}from"./u-avatar.f700209e.js";import{_ as F,a as z}from"./u-row.97c8f6cf.js";import{_ as S}from"./u-icon.5ba98c98.js";import{_ as N}from"./u--image.2df700b8.js";import{_ as V}from"./u-loading-page.c740ef13.js";import{a as A}from"./technician.3ab2ae57.js";import{_ as D}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-text.b9c32215.js";import"./u-image.e646392b.js";import"./u-transition.db07fff7.js";import"./u-loading-icon.6808ae8c.js";const G=D(e({__name:"detail",setup(e){let D=t(!0),G=t({}),J=0;a((e=>{J=e.id||0,K()}));const K=()=>{D.value=!0,A(J).then((e=>{G.value=e.data,D.value=!1})).catch((()=>{D.value=!1}))};let L=e=>{let t="";return t=e.member_discount&&k()?"member_price":"",t},O=e=>{let t="0.00";return t=e.member_discount&&k()?e.goodsSku.member_price:e.goodsSku.price,parseFloat(t).toFixed(2)};return(e,t)=>{const a=g(b("u-avatar"),C),k=h,A=v,J=g(b("u-col"),F),K=g(b("u-row"),z),P=g(b("u-icon"),S),Q=g(b("u--image"),N),R=I,U=g(b("u-loading-page"),V);return r(),s(k,{style:m(e.themeColor())},{default:l((()=>[Object.keys(o(G)).length?(r(),s(k,{key:0,class:"bg-[#f8f8f8] min-h-screen overflow-hidden pb-3 box-border"},{default:l((()=>[d(k,{class:"bg-linear h-[480rpx] pt-3"},{default:l((()=>[d(k,{class:"bg-[#fff] rounded-lg mx-3 p-3 flex items-center"},{default:l((()=>[d(k,{class:"w-[80rpx] h-[80rpx]"},{default:l((()=>[o(G).headimg?(r(),s(a,{key:0,src:o(y)(o(G).headimg),shape:"circle",class:"w-[80rpx] h-[80rpx]"},null,8,["src"])):(r(),s(a,{key:1,src:"",shape:"circle",class:"w-[80rpx] h-[80rpx]"}))])),_:1}),d(k,{class:"flex-1 ml-2"},{default:l((()=>[d(k,null,{default:l((()=>[d(A,null,{default:l((()=>[p(x(o(G).name),1)])),_:1})])),_:1}),""!=o(G).label?(r(),s(k,{key:0,class:"mt-[2rpx] flex flex-wrap items-center"},{default:l((()=>[(r(!0),c(i,null,n(o(G).label.split(","),((e,t)=>(r(),s(A,{class:"text-[22rpx] px-[10rpx] py-[6rpx] border-solid border-[2rpx] border-[var(--primary-color)] text-[var(--primary-color)] rounded-full mb-[4rpx] mr-[10rpx]",key:t},{default:l((()=>[p(x(e),1)])),_:2},1024)))),128))])),_:1})):u("v-if",!0)])),_:1}),d(k,{class:"nc-iconfont nc-icon-dianhuaV6xx text-[36rpx]",onClick:t[0]||(t[0]=e=>{return t=o(G).mobile,void _({phoneNumber:t});var t})})])),_:1}),d(k,{class:"mt-[30rpx] bg-[#fff] mx-3 p-3 rounded-lg"},{default:l((()=>[d(K,{justify:"space-between"},{default:l((()=>[d(J,{span:"3"},{default:l((()=>[d(k,{class:"text-[28rpx] text-center"},{default:l((()=>[p(x(o(G).order_num),1)])),_:1}),d(k,{class:"text-[24rpx] text-center text-[#999] mt-[10rpx]"},{default:l((()=>[p(x(o(w)("orderNum")),1)])),_:1})])),_:1}),d(J,{span:"3"},{default:l((()=>[d(k,{class:"text-[28rpx] text-center"},{default:l((()=>[p(x(o(G).working_age)+x(o(w)("year")),1)])),_:1}),d(k,{class:"text-[24rpx] text-center text-[#999] mt-[10rpx]"},{default:l((()=>[p(x(o(w)("workingAge")),1)])),_:1})])),_:1}),d(J,{span:"3"},{default:l((()=>[d(k,{class:"text-[28rpx] text-center"},{default:l((()=>[p(x(o(G).age)+x(o(w)("annum")),1)])),_:1}),d(k,{class:"text-[24rpx] text-center text-[#999] mt-[10rpx]"},{default:l((()=>[p(x(o(w)("age")),1)])),_:1})])),_:1}),d(J,{span:"3"},{default:l((()=>[d(k,{class:"text-[28rpx] text-center"},{default:l((()=>[p(x(o(G).position_name?o(G).position_name:"无"),1)])),_:1}),d(k,{class:"text-[24rpx] text-center text-[#999] mt-[10rpx]"},{default:l((()=>[p(x(o(w)("position")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),d(k,{class:"-mt-[185rpx]"},{default:l((()=>[o(G).desc?(r(),s(k,{key:0,class:"mx-3 py-4 px-3 bg-[#fff] rounded-md box-border"},{default:l((()=>[d(k,{class:"text-[28rpx]"},{default:l((()=>[p(x(o(w)("basicInfo")),1)])),_:1}),d(k,{class:"text-[24rpx] mt-[20rpx] leading-[32rpx]"},{default:l((()=>[p(x(o(G).desc),1)])),_:1})])),_:1})):u("v-if",!0)])),_:1}),d(k,{class:f(["mx-3 py-4 px-3 bg-[#fff] rounded-md box-border",{"mt-[30rpx]":""!=o(G).desc}])},{default:l((()=>[d(k,{class:"text-[28rpx] mb-[20rpx]"},{default:l((()=>[p(x(o(w)("serviceItem")),1)])),_:1}),(r(!0),c(i,null,n(o(G).goods,((e,t)=>(r(),s(k,{key:t,class:f(["flex",{"mt-[20rpx]":t}])},{default:l((()=>[d(k,{class:"w-[160rpx] h-[160rpx]",onClick:t=>{return a=e.goods_info.goods_id,void j({url:"/addon/o2o/pages/goods/detail",param:{goods_id:a}});var a}},{default:l((()=>[d(Q,{class:"rounded-[10rpx] overflow-hidden",width:"160rpx",height:"160rpx",src:o(y)(e.goods_info.cover_thumb_small?e.goods_info.cover_thumb_small:""),model:"aspectFill"},{error:l((()=>[d(P,{name:"photo",color:"#999",size:"50"})])),_:2},1032,["src"])])),_:2},1032,["onClick"]),d(k,{class:"flex-1 ml-[20rpx] flex flex-col justify-between"},{default:l((()=>[d(k,null,{default:l((()=>[p(x(e.goods_info.goods_name),1)])),_:2},1024),d(A,{class:"text-[var(--primary-color)] text-[28rpx] price-font"},{default:l((()=>[p(" ￥"+x(o(O)(e.goods_info))+" ",1),"member_price"==o(L)(e.goods_info)?(r(),s(R,{key:0,class:"h-[24rpx] ml-[4rpx] w-[60rpx]",src:o(y)("addon/o2o/VIP.png"),mode:"heightFix"},null,8,["src"])):u("v-if",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1},8,["class"])])),_:1})):u("v-if",!0),d(U,{"bg-color":"rgb(248,248,248)",loading:o(D),fontSize:"16",color:"#333"},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-4993cfdd"]]);export{G as default};
