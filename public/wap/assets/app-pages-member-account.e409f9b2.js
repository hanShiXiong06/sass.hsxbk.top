import{d as e,r as a,p as t,F as l,o as c,c as s,w as n,b as o,f as r,U as u,ad as i,V as p,u as d,y as m,z as x,n as _,ae as f,af as y,aH as v,i as g,D as b,g as k,h,E as w,a as C,aI as j,B as I,aJ as F,_ as V}from"./index-71c7df08.js";import{M as A}from"./mescroll-body.49de0f6f.js";import{u as M}from"./useMescroll.26ccf5de.js";import"./mescroll-i18n.00218d15.js";const N=V(e({__name:"account",setup(e){const{mescrollInit:V,downCallback:N,getMescroll:z}=M(y,f),B=a([]),E=a(!1),T=a("bank"),U=a(null),D=a("get");t((e=>{e.type&&(T.value=e.type),e.mode&&(D.value=e.mode)}));const H=e=>{E.value=!1;let a={page:e.num,limit:e.size,account_type:T.value};v(a).then((a=>{const t=a.data.data;1==e.num&&(B.value=[]),B.value=B.value.concat(t),e.endSuccess(t.length),E.value=!0})).catch((()=>{E.value=!0,e.endErr()}))},J=a([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]),O=e=>{"get"==D.value?C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:T.value,mode:D.value},mode:"redirectTo"}):C({url:"/app/pages/member/apply_cash_out",param:{account_id:e.account_id,type:T.value},mode:"redirectTo"})};return(e,a)=>{const t=I,f=g,y=b,v=k(h("u-swipe-action-item"),F);return c(),s(f,{class:"w-screen h-screen bg-[var(--page-bg-color)]",style:_(e.themeColor())},{default:n((()=>[o(A,{ref_key:"mescrollRef",ref:U,onInit:d(V),down:{use:!1},onUp:H},{default:n((()=>[r(" 多嵌套一层是为了微信小程序兼容 "),(c(!0),u(p,null,i(B.value,((e,a)=>(c(),s(f,{class:"sidebar-margin my-[var(--top-m)] rounded-[var(--rounded-big)] overflow-hidden",key:a},{default:n((()=>[o(v,{options:J.value,onClick:e=>(e=>{const a=B.value[e];j(a.account_id).then((()=>{B.value.splice(e,1)})).catch()})(a)},{default:n((()=>[o(f,{class:"card-template flex justify-between"},{default:n((()=>[o(f,{class:"flex items-center"},{default:n((()=>[o(f,{class:"w-[80rpx] h-[80rpx] flex items-center justify-center",onClick:a=>O(e)},{default:n((()=>["bank"==e.account_type?(c(),s(t,{key:0,class:"w-[80rpx] h-[52rpx] align-middle",src:d(w)("static/resource/images/member/apply_withdrawal/bank-icon.png"),mode:"widthFix"},null,8,["src"])):(c(),s(t,{key:1,class:"h-[78rpx] w-[78rpx] align-middle",src:d(w)("static/resource/images/member/apply_withdrawal/alipay-icon.png"),mode:"widthFix"},null,8,["src"]))])),_:2},1032,["onClick"]),o(f,{class:"flex flex-col ml-[20rpx]",onClick:a=>O(e)},{default:n((()=>[o(f,{class:"text-[#333] text-[28rpx]"},{default:n((()=>[m(x("bank"==e.account_type?e.bank_name:d(l)("alipayAccountNo")),1)])),_:2},1024),"bank"==e.account_type?(c(),s(f,{key:0,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:n((()=>[m(x(d(l)("endNumber"))+" "+x(e.account_no.substring(e.account_no.length-4))+x(d(l)("bankCard")),1)])),_:2},1024)):(c(),s(f,{key:1,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:n((()=>[m(x(e.account_no),1)])),_:2},1024))])),_:2},1032,["onClick"])])),_:2},1024),o(y,{class:"flex items-center nc-iconfont nc-icon-xiugaiV6xx flex-shrink-0 text-[28rpx] p-[20rpx] pr-0",onClick:a=>(e=>{C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:e.account_type,mode:D.value}})})(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])])),_:2},1024)))),128)),o(f,{class:"card-template sidebar-margin my-[var(--top-m)] flex items-center",onClick:a[0]||(a[0]=e=>d(C)({url:"/app/pages/member/account_edit",param:{type:T.value,mode:D.value}}))},{default:n((()=>[o(y,{class:"nc-iconfont nc-icon-jiahaoV6xx text-[30rpx]"}),o(y,{class:"text-[28rpx] ml-[10rpx] flex-1"},{default:n((()=>[m(x("bank"==T.value?d(l)("addBankCard"):d(l)("addAlipayAccount")),1)])),_:1}),o(y,{class:"nc-iconfont nc-icon-youV6xx text-[24rpx] text-[var(--text-color-light6)]"})])),_:1})])),_:1},8,["onInit"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-0542b785"]]);export{N as default};
