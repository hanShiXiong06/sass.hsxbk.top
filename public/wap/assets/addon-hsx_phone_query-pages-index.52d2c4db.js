import{d as e,r as l,l as a,j as t,p as s,o as u,c,w as o,u as r,b as i,f as n,U as d,ad as p,V as f,W as v,y as x,t as y,a as m,g as _,h as b,i as g,ac as h,C as k,z as j,co as C,cr as F,cs as z,bX as w,ct as V,ay as I,az as L,b3 as N,a$ as S,_ as T}from"./index-71c7df08.js";import"./mescroll-i18n.00218d15.js";/* empty css                                                                       */import{g as O,a as U,b as q}from"./index.438f1445.js";import"./mescroll-body.49de0f6f.js";import"./cart.1ee162b9.js";const R=T(e({__name:"index",props:{config:{type:Object,default:()=>({})},categoryId:{type:[String,Number],default:0}},setup(e){let T={level:1,template:"style-1",page_title:"商品分类",search:{control:1,title:"请输入搜索型号"},goods:{style:"single-cols"},sort:"default",cart:{control:0,event:"detail",style:"style-1",text:"购买"}};e.categoryId,l("");const R=l(!0),W=l(""),X=l([]),$=l(0),A=a();t((()=>A.info)),l("");const B=l([]),D=l(0);s((async()=>{await O().then((e=>{B.value=e.data,R.value=!1,J()}))}));const E=(e,l)=>{D.value=e.index,$.value=0,X.value=[],W.value=""};l(null);const G=async(e,l)=>{R.value=!0,W.value?(await q({imeis:W.value,id:e,payType:l}).then((e=>{1==e.code&&J()})).catch((e=>{y({title:e.msg,icon:"none",duration:2e3})})),W.value="",R.value=!1):y({title:"请输入手机SN",icon:"error",duration:2e3})},H=l([]),J=e=>{U().then((e=>{H.value=e.data.data,R.value=!1}))},K=()=>{m({url:"/addon/recharge/pages/recharge",mode:"navigateTo"})};return(e,l)=>{const a=_(b("up-tabs"),C),t=g,s=h,y=_(b("up-text"),F),m=k,O=_(b("up-textarea"),z),U=_(b("up-button"),w),q=_(b("up-sticky"),V),X=_(b("up-cell"),I),A=_(b("up-cell-group"),L),J=_(b("u-loading-icon"),N),M=_(b("u-empty"),S);return u(),c(t,{class:"bg-[#F4F6F8] min-h-screen"},{default:o((()=>[B.value.length?(u(),c(t,{key:0,class:"mescroll-box"},{default:o((()=>[r(T).search.control?(u(),c(t,{key:0,class:"search-box z-10 bg-[#fff] fixed top-0 left-0 right-0 h-[106rpx] box-border"},{default:o((()=>[i(a,{list:B.value,onClick:E},null,8,["list"])])),_:1})):n("v-if",!0),i(t,{class:v(["tabs-box z-2 fixed left-0 bg-[#fff] bottom-[50px] top-0",{"!top-[106rpx]":r(T).search.control}])},{default:o((()=>[i(s,{"scroll-y":!0,class:"scroll-height"},{default:o((()=>[i(t,{class:"bg-[#F4F6F8]"},{default:o((()=>[(u(!0),d(f,null,p(B.value[D.value].child,((e,l)=>(u(),c(t,{class:v(["tab-item flex",{"tab-item-active":l==$.value,"rounded-br-[12rpx]":$.value-1===l,"rounded-tr-[12rpx]":$.value+1===l}]),key:l,onClick:e=>(e=>{$.value=e})(l)},{default:o((()=>[i(t,{class:"text-box px-[10rpx] text-[24rpx]"},{default:o((()=>[x(j(e.name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["class"]),i(s,{class:"h-[100vh]","scroll-y":!0},{default:o((()=>[i(t,{class:v(["pl-[212rpx] scroll-ios pt-[20rpx] pr-[20rpx]",{"!pt-[126rpx]":r(T).search.control}])},{default:o((()=>[i(q,null,{default:o((()=>[i(t,{class:"bg-[#fff] rounded p-2"},{default:o((()=>[i(t,{class:"flex justify-between items-center"},{default:o((()=>[i(y,{type:"primary",text:B.value[D.value].child[$.value].name},null,8,["text"]),i(m,{size:"mini",type:"link",onClick:K},{default:o((()=>[x(" 立即充值")])),_:1})])),_:1}),i(t,{class:"flex justify-between items-center"},{default:o((()=>[x(" 价格: "),i(y,{type:"error",text:B.value[D.value].child[$.value].price},null,8,["text"]),x(" 积分: "),i(y,{type:"error",text:(100*B.value[D.value].child[$.value].price).toFixed(0)},null,8,["text"])])),_:1}),i(O,{class:"m-2",modelValue:W.value,"onUpdate:modelValue":l[0]||(l[0]=e=>W.value=e),placeholder:"请输入手机串号查询"},null,8,["modelValue"]),i(t,{class:"flex m-2"},{default:o((()=>[i(U,{class:"m-2",type:"primary",onClick:l[1]||(l[1]=e=>G(B.value[D.value].child[$.value].id,"point")),text:"积分查询"}),i(U,{class:"m-2",type:"primary",onClick:l[2]||(l[2]=e=>G(B.value[D.value].child[$.value].id,"balance")),text:"余额查询"})])),_:1})])),_:1})])),_:1}),i(t,{class:"mt-2"},{default:o((()=>[x(" 查询历史 ")])),_:1}),0!==H.value.length?(u(),c(t,{key:0,class:"bg-[#fff] rounded p-2"},{default:o((()=>[i(A,null,{default:o((()=>[n(' <up-cell v-for="(value, key) in modelList" :key="key" :title="key" isLink\n                                @click=\'tolink(value.id)\'> '),(u(!0),d(f,null,p(H.value,((e,l)=>(u(),c(X,{key:l,title:l,isLink:"",url:"/addon/hsx_phone_query/pages/detail?id="+e.id},{title:o((()=>[i(t,{class:"u-slot-title"},{default:o((()=>[i(t,{class:"u-cell-text text-sm"},{default:o((()=>[x(j(e.type_name),1)])),_:2},1024),i(t,{class:"u-cell-text text-sm"},{default:o((()=>[x(j(e.sn),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["title","url"])))),128))])),_:1}),R.value?(u(),c(J,{key:0,"bg-color":"rgb(248,248,248)",loadingText:"",fontSize:"16",color:"#303133"})):n("v-if",!0)])),_:1})):(u(),c(t,{key:1},{default:o((()=>[i(M,{text:"暂无查询记录",mode:"list"})])),_:1}))])),_:1},8,["class"])])),_:1})])),_:1})):n("v-if",!0),n(" <tabbar /> ")])),_:1})}}}),[["__scopeId","data-v-cec499bf"]]);export{R as default};
