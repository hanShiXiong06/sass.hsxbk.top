import{bu as e,d as a,p as t,r as l,a7 as o,o as s,c as r,w as n,u as d,b as i,y as p,z as x,f as u,I as _,J as c,K as m,n as f,Q as v,D as g,i as h,a2 as F,g as b,h as y,l as k,x as C,L as j,Z as w,ad as A}from"./index-d8a8f699.js";import{_ as D}from"./u-loading-page.c740ef13.js";import{b as S,a as z}from"./fenxiao.966b2ea4.js";import{t as T}from"./topTabbar.a37f79d9.js";import{a as E}from"./index.vue_vue_type_script_setup_true_lang.1218c93f.js";import{_ as I}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-icon.6808ae8c.js";import"./u-transition.db07fff7.js";import"./u--image.2df700b8.js";import"./u-image.e646392b.js";import"./u-icon.5ba98c98.js";import"./share-poster.b1e17ebe.js";import"./u-popup.0d48946e.js";import"./u-safe-bottom.a4431b09.js";const L=I(a({__name:"level",setup(a){T().setTopTabbarParam({title:"分销商等级",topStatusBar:{textColor:"#333"}});const I=t((()=>({backgroundImage:"url("+k("addon/shop_fenxiao/level/level_top_bg.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"})));let L=l({style:"style-2",num:4,source:"all",is_become_fenxiao:0,margin:{both:15,bottom:0,top:0},priceStyle:{lineColor:"#999CA7",lineControl:!0,mainColor:"#333",mainControl:!0},goodsNameStyle:{color:"#303133",control:!0,fontWeight:"normal"},commissionStyle:{color:"#FF4142",control:!0}});o((()=>{R(),N()}));let W=l(!0),Z=l([]),B=l({});const J=()=>{e.get("shop_fenxiao/level").then((e=>{Z.value=e.data,Z.value.forEach(((e,a)=>{e.level_id==P.value.level_id&&(Q.value=a,B.value=e)})),W.value=!1}))};let K=l({});const N=()=>{S().then((e=>{K.value=e.data}))};let P=l({}),Q=l(0);const R=()=>{z().then((e=>{P.value=e.data,J()}))},U=t((()=>{if(Z.value.length&&Z.value[Q.value+1]){let e=Z.value[Q.value+1];if(e.task=[],e.complete=0,e.fenxiao_order_num>0){let a={title:"订单总数",desc:"一级分销订单总数满"+e.fenxiao_order_num+"个",condition:e.fenxiao_order_num,value:P.value.fenxiao_order_num,progress:parseFloat(P.value.fenxiao_order_num)>parseFloat(e.fenxiao_order_num)?100:(parseFloat(P.value.fenxiao_order_num)/parseFloat(e.fenxiao_order_num)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.fenxiao_commission>0){let a={title:"佣金总额",desc:"一级分销订单佣金总额满"+w(e.fenxiao_commission)+"元",condition:w(e.fenxiao_commission),value:w(P.value.fenxiao_commission),progress:parseFloat(P.value.fenxiao_commission)>parseFloat(e.fenxiao_commission)?100:(parseFloat(P.value.fenxiao_commission)/parseFloat(e.fenxiao_commission)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.fenxiao_order_money>0){let a={title:"订单总额",desc:"一级分销订单总额满"+w(e.fenxiao_order_money)+"元",condition:w(e.fenxiao_order_money),value:w(P.value.fenxiao_total_order),progress:parseFloat(P.value.fenxiao_total_order)>parseFloat(e.fenxiao_order_money)?100:(parseFloat(P.value.fenxiao_total_order)/parseFloat(e.fenxiao_order_money)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.order_num>0){let a={title:"自购订单总数",desc:"自购订单总数满"+e.order_num+"个",condition:e.order_num,value:P.value.add_up_data.order_num,progress:parseFloat(P.value.add_up_data.order_num)>parseFloat(e.order_num)?100:(parseFloat(P.value.add_up_data.order_num)/parseFloat(e.order_num)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.order_money>0){let a={title:"自购订单总额",desc:"自购订单总额满"+w(e.order_money)+"元",condition:w(e.order_money),value:w(P.value.add_up_data.order_sum),progress:parseFloat(P.value.add_up_data.order_sum)>parseFloat(e.order_money)?100:(parseFloat(P.value.add_up_data.order_sum)/parseFloat(e.order_money)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.child_num>0){let a={title:"下线人数",desc:"一级下线人数达到"+e.child_num+"人",condition:e.child_num,value:P.value.add_up_data.child_count,progress:parseFloat(P.value.add_up_data.child_count)>parseFloat(e.child_num)?100:(parseFloat(P.value.add_up_data.child_count)/parseFloat(e.child_num)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.child_fenxiao_num>0){let a={title:"下线分销商",desc:"一级下线分销商人数达到"+e.child_fenxiao_num+"人",condition:e.child_fenxiao_num,value:P.value.add_up_data.child_fenxiao_count,progress:parseFloat(P.value.add_up_data.child_fenxiao_count)>parseFloat(e.child_fenxiao_num)?100:(parseFloat(P.value.add_up_data.child_fenxiao_count)/parseFloat(e.child_fenxiao_num)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}return e.task_num=1==e.upgrade_type?1:e.task.length,e}}));return(e,a)=>{const t=v,l=g,o=h,w=A,S=F,z=b(y("u-loading-page"),D);return s(),r(o,{style:f(e.themeColor())},{default:n((()=>[d(W)?u("v-if",!0):(s(),r(o,{key:0,class:"bg-[#fff] min-h-[100vh]"},{default:n((()=>[i(o,{class:"pt-[30rpx] text-[#fff] w-full",style:f(d(I))},{default:n((()=>[i(o,{class:"flex items-center relative z-[20] sidebar-marign mb-[30rpx]"},{default:n((()=>[d(P).member.headimg?(s(),r(t,{key:0,class:"w-[100rpx] h-[100rpx] rounded-[50%]",src:d(k)(d(P).member.headimg),mode:"aspectFill"},null,8,["src"])):(s(),r(t,{key:1,class:"w-[100rpx] h-[100rpx] rounded-[50%]",src:d(k)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])),i(o,{class:"ml-[20rpx] flex items-center"},{default:n((()=>[i(l,{class:"text-[30rpx] truncate w-[300rpx] text-[#333] font-bold"},{default:n((()=>[p(x(d(P).member.nickname),1)])),_:1})])),_:1})])),_:1}),i(o,{class:"relative level-content sidebar-marign"},{default:n((()=>[i(o,{class:"flex items-center ml-[10rpx]"},{default:n((()=>[i(o,{class:"flex items-baseline mr-[10rpx]"},{default:n((()=>[i(t,{class:"w-[34rpx] h-[30rpx]",src:d(k)("addon/shop_fenxiao/level/level_key.png"),mode:"aspectFill"},null,8,["src"]),i(l,{class:"text-[#333] text-[24rpx] -ml-[6rpx]"},{default:n((()=>[p(x(d(Q)+1),1)])),_:1})])),_:1}),i(l,{class:"ml-[6rpx] mr-[10rpx] text-[#333] font-bold text-[32rpx] truncate max-w-[200rpx]"},{default:n((()=>[p(x(d(B).level_name),1)])),_:1}),i(l,{class:"rounded-[50rpx] pt-[8rpx] pb-[6rpx] px-[10rpx] text-[20rpx] text-[#F7D6A7] bg-[#38311F]"},{default:n((()=>[p("已解锁")])),_:1}),i(t,{class:"w-[230rpx] h-[200rpx] right-[40rpx] -top-[100rpx] absolute",src:d(k)("addon/shop_fenxiao/level/level_icon.png"),mode:"aspectFill"},null,8,["src"])])),_:1}),d(Z)[d(Q)+1]?(s(),r(o,{key:0,class:"text-[#8288A2] mt-[18rpx] flex items-center ml-[10rpx]"},{default:n((()=>[i(l,{class:"text-[#8288A2] text-[24rpx]"},{default:n((()=>[p(x(1==d(Z)[d(Q)+1].upgrade_type?d(C)("arbitraryCondition"):d(C)("allConditions"))+x(d(C)("upgradable")),1)])),_:1}),i(l,{class:"text-[#8288A2] text-[24rpx]"},{default:n((()=>[p("为"+x(d(Z)[d(Q)+1].level_name),1)])),_:1}),i(o,{class:"flex items-center text-[24rpx] ml-[16rpx] price-font"},{default:n((()=>[i(l,{class:"text-[#CD6C00]"},{default:n((()=>[p(x(d(U).complete>d(U).task_num?d(U).task_num:d(U).complete),1)])),_:1}),i(l,{class:"text-[#8288A2]"},{default:n((()=>[p("/"+x(d(U).task_num),1)])),_:1})])),_:1})])),_:1})):u("v-if",!0),i(o,{class:"flex my-[30rpx] ml-[10rpx]"},{default:n((()=>[d(K).fenxiao_config&&d(K).fenxiao_config.level>=1?(s(),r(o,{key:0,class:"flex-1 text-left"},{default:n((()=>[i(o,{class:"text-[#333] text-[24rpx]"},{default:n((()=>[p("一级分佣比率")])),_:1}),i(o,{class:"mt-[16rpx] text-[#CD6C00] text-[36rpx]"},{default:n((()=>[p(x(d(B).one_rate),1),i(l,{class:"text-[24rpx] ml-[4rpx]"},{default:n((()=>[p("%")])),_:1})])),_:1})])),_:1})):u("v-if",!0),d(K).fenxiao_config&&d(K).fenxiao_config.level>=2?(s(),r(o,{key:1,class:"flex-1 text-left"},{default:n((()=>[i(o,{class:"text-[#333] text-[24rpx]"},{default:n((()=>[p("二级分佣比率")])),_:1}),i(o,{class:"mt-[16rpx] text-[#CD6C00] text-[36rpx]"},{default:n((()=>[p(x(d(B).two_rate),1),i(l,{class:"text-[24rpx] ml-[4rpx]"},{default:n((()=>[p("%")])),_:1})])),_:1})])),_:1})):u("v-if",!0),d(K).team_config&&1==d(K).team_config.is_open?(s(),r(o,{key:2,class:"flex-1 text-left"},{default:n((()=>[i(o,{class:"text-[#333] text-[24rpx]"},{default:n((()=>[p("团队分佣比率")])),_:1}),i(o,{class:"mt-[16rpx] text-[#CD6C00] text-[36rpx]"},{default:n((()=>[p(x(d(B).team_rate),1),i(l,{class:"text-[24rpx] ml-[4rpx]"},{default:n((()=>[p("%")])),_:1})])),_:1})])),_:1})):u("v-if",!0)])),_:1}),d(U)&&d(U).task?(s(),r(S,{key:1,"scroll-y":"true",class:"flex flex-col upgrade-content bg-[#fff] rounded-[12rpx] p-[20rpx] box-border"},{default:n((()=>[(s(!0),_(m,null,c(d(U).task,((e,a)=>(s(),r(o,{class:j(["flex items-center justify-between",{"pb-[20rpx]":a!=d(U).task.length-1}]),key:a},{default:n((()=>[i(o,{class:"flex flex-col flex-1"},{default:n((()=>[i(l,{class:"text-[28rpx] h-[40rpx] leading-[40rpx] text-[#333]"},{default:n((()=>[p(x(e.title),1)])),_:2},1024),i(o,{class:"my-[10rpx] rounded-[12rpx] overflow-hidden"},{default:n((()=>[i(w,{percent:e.progress,activeColor:"#CD6C00",backgroundColor:"#FAF0E5","stroke-width":"4"},null,8,["percent"])])),_:2},1024),i(o,{class:"flex items-center justify-between min-h-[34rpx]"},{default:n((()=>[i(l,{class:"text-[24rpx] text-[#8288A2] price-font"},{default:n((()=>[p(x(e.desc),1)])),_:2},1024),i(o,{class:"flex items-center text-[26rpx] price-font"},{default:n((()=>[i(l,{class:"text-[#e7b667]"},{default:n((()=>[p(x(e.value),1)])),_:2},1024),i(l,{class:"text-[#bbb]"},{default:n((()=>[p("/"+x(e.condition),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(l,{class:"rounded-[50rpx] text-center ml-[30rpx] w-[120rpx] h-[54rpx] leading-[54rpx] text-[24rpx] text-[#F7D6A7] bg-[#38311F]"},{default:n((()=>[p("去邀请")])),_:1})])),_:2},1032,["class"])))),128))])),_:1})):u("v-if",!0)])),_:1})])),_:1},8,["style"]),i(o,{class:"mt-[80rpx] flex flex-col items-center sidebar-marign"},{default:n((()=>[i(o,{class:"flex mb-[40rpx]"},{default:n((()=>[i(t,{class:"w-[38rpx] h-[22rpx]",src:d(k)("addon/shop_fenxiao/level/title_left.png"),mode:"aspectFill"},null,8,["src"]),i(l,{class:"text-[32rpx] mx-[18rpx] font-bold text-[#EF000C]"},{default:n((()=>[p("猜你喜欢")])),_:1}),i(t,{class:"w-[38rpx] h-[22rpx]",src:d(k)("addon/shop_fenxiao/level/title_right.png"),mode:"aspectFill"},null,8,["src"])])),_:1}),i(E,{component:d(L)},null,8,["component"])])),_:1})])),_:1})),i(z,{"bg-color":"rgb(248,248,248)",loading:d(W),loadingText:"",fontSize:"16",color:"#333"},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-03b53933"]]);export{L as default};
