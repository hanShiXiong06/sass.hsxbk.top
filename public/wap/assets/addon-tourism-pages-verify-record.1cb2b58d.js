import{d as e,r as a,o as s,c as l,w as t,b as o,I as n,J as d,u as r,K as c,f as u,n as i,a3 as m,a4 as _,i as f,y as p,z as y,l as g,a as h,D as v,Q as w}from"./index-d8a8f699.js";import{M as k}from"./mescroll-body.f9302aea.js";import{M as D}from"./mescroll-empty.2fe85dec.js";import{u as x}from"./useMescroll.26ccf5de.js";import{J as C}from"./tourism.93d35d7c.js";import{_ as M}from"./_plugin-vue_export-helper.1b428a4d.js";import"./mescroll-i18n.49872024.js";const b=M(e({__name:"record",setup(e){let M=a([]),b=a(!1);const{mescrollInit:j,downCallback:I,getMescroll:W}=x(_,m),z=e=>{b.value=!1;let a={page:e.num,limit:e.size};C(a).then((a=>{let s=a.data.data;1==e.num&&(M.value=[]),M.value=M.value.concat(s),e.endSuccess(s.length),b.value=!0})).catch((()=>{b.value=!0,e.endErr()}))},E=(e,a)=>{let s,l;-1!=e.indexOf("/")?s=e.split("/"):-1!=e.indexOf("-")&&(s=e.split("-"));const t=new Date(e).getDay();return l="yearMonthDay"==a?s[0]+"年"+s[1]+"月"+s[2]+"日":"yearMonthDayWeek"==a?s[0]+"年"+s[1]+"月"+s[2]+"日 "+["周日","周一","周二","周三","周四","周五","周六"][t]:s[1]+"月"+s[2]+"日",l},J=e=>{h({url:"/addon/tourism/pages/verify/detail",param:{code:e.verify_code}})};return(e,a)=>{const m=v,_=f,h=w;return s(),l(_,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden",style:i(e.themeColor())},{default:t((()=>[o(k,{ref:"mescrollRef",top:"20rpx",onInit:r(j),onDown:r(I),onUp:z},{default:t((()=>[o(_,{class:"goods-wrap"},{default:t((()=>[(s(!0),n(c,null,d(r(M),((e,a)=>(s(),n(c,{key:e.order_id},["hotel"==e.order_type?(s(),l(_,{key:0,class:"goods-item",onClick:a=>J(e)},{default:t((()=>[o(_,{class:"goods-head"},{default:t((()=>[o(m,null,{default:t((()=>[p("核销时间："+y(e.verify_time),1)])),_:2},1024)])),_:2},1024),o(_,{class:"goods-content"},{default:t((()=>[o(h,{class:"w-[40rpx]",src:r(g)("addon/tourism/tourism/member/hotel.png")},null,8,["src"]),o(_,null,{default:t((()=>[o(_,{class:"name-wrap"},{default:t((()=>[o(_,{class:"multi-hidden"},{default:t((()=>[p(y(e.hotel.hotel_name),1)])),_:2},1024)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(e.goods_name),1)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(E(e.start_time,"monthDay"))+"(入住)-"+y(E(e.end_time,"monthDay"))+"(离店)"+y(e.days)+"晚上/"+y(e.num)+"间",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])):u("v-if",!0),"way"==e.order_type?(s(),l(_,{key:1,class:"goods-item",onClick:a=>J(e)},{default:t((()=>[o(_,{class:"goods-head"},{default:t((()=>[o(m,null,{default:t((()=>[p("核销时间："+y(e.verify_time),1)])),_:2},1024)])),_:2},1024),o(_,{class:"goods-content"},{default:t((()=>[o(h,{class:"w-[40rpx]",src:r(g)("addon/tourism/tourism/member/way.png")},null,8,["src"]),o(_,null,{default:t((()=>[o(_,{class:"name-wrap"},{default:t((()=>[o(_,{class:"multi-hidden"},{default:t((()=>[p(y(e.way.way_name),1)])),_:2},1024)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(e.goods_name),1)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(e.num)+"张 "+y(E(e.start_time,"monthDay"))+"（出游）",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])):u("v-if",!0),"scenic"==e.order_type?(s(),l(_,{key:2,class:"goods-item",onClick:a=>J(e)},{default:t((()=>[o(_,{class:"goods-head"},{default:t((()=>[o(m,null,{default:t((()=>[p("核销时间："+y(E(e.start_time,"yearMonthDayWeek")),1)])),_:2},1024)])),_:2},1024),o(_,{class:"goods-content"},{default:t((()=>[o(h,{class:"w-[40rpx]",src:r(g)("addon/tourism/tourism/member/scenic.png")},null,8,["src"]),o(_,null,{default:t((()=>[o(_,{class:"name-wrap"},{default:t((()=>[o(_,{class:"multi-hidden"},{default:t((()=>[p(y(e.scenic.scenic_name),1)])),_:2},1024)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(e.num)+"人 "+y(E(e.start_time,"yearMonthDay"))+"出发（"+y(e.goods_name)+"）",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])):u("v-if",!0)],64)))),128))])),_:1}),!r(M).length&&r(b)?(s(),l(D,{key:0,option:{icon:r(g)("static/resource/images/empty.png")}},null,8,["option"])):u("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-3371e1e0"]]);export{b as default};
