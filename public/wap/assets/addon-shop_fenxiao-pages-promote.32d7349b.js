import{d as e,r as a,o as t,c as l,w as s,n as r,u as o,b as n,y as d,z as p,f as x,I as i,a as c,B as u,D as f,i as _,g as m,h as v,C as g,E as h,a0 as b}from"./index-9317da28.js";import{_ as y}from"./u-parse.49c1d8b5.js";import{_ as j}from"./loading-page.vue_vue_type_script_setup_true_lang.c92b07c2.js";import{c as k,d as w,f as C}from"./fenxiao.4ded0069.js";import{_ as z}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-page.de89bca9.js";import"./u-loading-icon.aabe3d05.js";/* empty css                                                                       */import"./u-transition.65be38eb.js";const D=z(e({__name:"promote",setup(e){const z=a(!0),D=a({}),I=a(0);k().then((e=>{I.value=e.data.length||0})).catch((()=>{I.value=0}));const B=a(0);w().then((e=>{B.value=e.data.direct.length+e.data.indirect.length||0})).catch((()=>{B.value=0}));const E=a({});z.value=!0,C().then((e=>{E.value=e.data,z.value=!1}));i("fenxiao_poster").then((e=>{D.value=e.data.content}));const S=()=>{c({url:"/addon/shop_fenxiao/pages/promote_code",param:{id:E.value.member_id}})};return(e,a)=>{const i=u,k=f,w=_,C=m(v("u-parse"),y),q=g,A=m(v("loading-page"),j);return t(),l(w,{class:"min-h-[100vh]",style:r(e.themeColor())},{default:s((()=>[z.value?x("v-if",!0):(t(),l(w,{key:0,class:"min-h-[100vh] px-[var(--sidebar-m)] pt-[30rpx] pb-[160rpx] box-border",style:r({background:"url("+o(h)("addon/shop_fenxiao/index/promote_bg.png")+") #ff2d46 left top /100% no-repeat"})},{default:s((()=>[n(w,{class:"mt-[230rpx] bg-[#fff] rounded-[var(--rounded-big)]"},{default:s((()=>[n(w,{class:"flex flex-col justify-center rounded-[var(--rounded-big)]"},{default:s((()=>[n(i,{class:"w-[384rpx] h-[74rpx] m-auto -mt-[20rpx]",src:o(h)("addon/shop_fenxiao/index/my_earnings.png"),mode:""},null,8,["src"]),n(w,{class:"flex flex-col items-center justify-center text-[24rpx] pt-[50rpx] pb-[20rpx]"},{default:s((()=>[n(w,{class:"inline-block mb-[14rpx]"},{default:s((()=>[n(k,{class:"font-500 text-[26rpx]"},{default:s((()=>[d("￥")])),_:1}),E.value.member?(t(),l(k,{key:0,class:"text-[40rpx] ml-[4rpx] price-font"},{default:s((()=>[d(p(o(b)(E.value.member.commission_get||0)),1)])),_:1})):x("v-if",!0)])),_:1}),n(w,{class:"flex items-center"},{default:s((()=>[n(i,{class:"w-[40rpx] h-[40rpx]",src:o(h)("addon/shop_fenxiao/index/money.png"),mode:""},null,8,["src"]),n(w,{class:"text-[var(--text-color-light6)]"},{default:s((()=>[d("累计收益")])),_:1})])),_:1})])),_:1})])),_:1}),n(w,{class:"flex justify-around pt-[30rpx] pb-[60rpx]"},{default:s((()=>[n(w,{class:"flex items-center flex-col",onClick:a[0]||(a[0]=e=>o(c)({url:"/addon/shop_fenxiao/pages/team"}))},{default:s((()=>[n(k,{class:"text-[#303133] text-[36rpx] font-500"},{default:s((()=>[d(p(B.value),1)])),_:1}),n(k,{class:"text-[26rpx] text-[var(--text-color-light6)] mt-[20rpx]"},{default:s((()=>[d("我的团队人数")])),_:1})])),_:1}),n(w,{class:"flex items-center flex-col",onClick:a[1]||(a[1]=e=>o(c)({url:"/addon/shop_fenxiao/pages/child_fenxiao"}))},{default:s((()=>[n(k,{class:"text-[#303133] text-[36rpx] font-500"},{default:s((()=>[d(p(I.value),1)])),_:1}),n(k,{class:"text-[26rpx] text-[var(--text-color-light6)] mt-[20rpx]"},{default:s((()=>[d("分销商人数")])),_:1})])),_:1})])),_:1})])),_:1}),n(w,{class:"mt-[100rpx] bg-[#fff] rounded-[var(--rounded-big)] flex flex-col px-[var(--pad-sidebar-m)] pb-[50rpx]"},{default:s((()=>[n(i,{class:"w-[384rpx] h-[74rpx] m-auto -mt-[20rpx] mb-[30rpx]",src:o(h)("addon/shop_fenxiao/index/activity_rules.png"),mode:""},null,8,["src"]),D.value?(t(),l(w,{key:0,class:"content"},{default:s((()=>[n(C,{content:D.value,tagStyle:{img:"vertical-align: top;",p:"overflow: hidden;word-break:break-word;"}},null,8,["content"]),x(' <rich-text :nodes="promoteContent"></rich-text> ')])),_:1})):(t(),l(w,{key:1,class:"rules-empty"},{default:s((()=>[d("暂无活动规则")])),_:1}))])),_:1}),n(w,{class:"fixed left-[var(--sidebar-m)] bottom-[30rpx] right-[var(--sidebar-m)] flex items-center z-10"},{default:s((()=>[n(q,{class:"w-[100%] h-[80rpx] flex-center level-wrap font-500 text-[#985400] rounded-[90rpx] text-[26rpx]",onClick:S},{default:s((()=>[d("邀请好友")])),_:1})])),_:1})])),_:1},8,["style"])),n(A,{loading:z.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-10589e2d"]]);export{D as default};
