import{bt as e,d as a,r as t,p as s,o,O as l,b as r,w as d,u as n,c as i,P as u,a6 as c,f as p,a7 as f,a8 as m,i as _,a5 as v,g,h as k,Q as j,y as h,z as y,E as b}from"./index-2882a2d8.js";import{_ as x}from"./tabbar.f422f3d5.js";import{_ as w}from"./pay.d604a92e.js";import{M as C}from"./mescroll-body.e69cb222.js";import{M}from"./mescroll-empty.7f392528.js";import{u as S}from"./useMescroll.26ccf5de.js";import{g as I}from"./goto.c6391162.js";import{_ as E}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.1104ad2f.js";import"./u-badge.e8ba7dff.js";import"./u-tabbar.b113c065.js";import"./u-safe-bottom.f13b01b8.js";import"./u-image.46ebbbc1.js";import"./u-transition.4448d2e5.js";import"./u-popup.2abbe959.js";import"./u-overlay.1a317a4e.js";import"./pay.a752545f.js";import"./mescroll-i18n.c2747603.js";/* empty css                                                                       */const U=E(a({__name:"orderaddlist",setup(a){const E=t(null),U=t(!1),{mescrollInit:z,downCallback:O,getMescroll:R}=S(m,f);let D=t([]),P=t(!1),Q=t(!1),$=t(""),A=t([]);t([]),s((e=>{$.value=e.status||"0",q()}));const T=async a=>{await function(a){return e.delete(`tk_jhkd/deleteorderadd/${a}`,{showSuccessMessage:!0,showErrorMessage:!0})}(a),R().resetUpScroll()},Y=a=>{P.value=!1;let t={page:a.num,limit:a.size,order_status:$.value};console.log($.value),function(a){return e.get("tk_jhkd/getorderaddlist",a)}(t).then((e=>{let t=e.data.data;1==a.num&&(D.value=[]),D.value=D.value.concat(t),a.endSuccess(t.length),P.value=!0})).catch((()=>{P.value=!0,a.endErr()}))},q=()=>{Q.value=!1,A.value=[],e.get("tk_jhkd/getorderaddstatus").then((e=>{Object.values(e.data).forEach(((e,a)=>{A.value.push(e)})),Q.value=!0})).catch((()=>{Q.value=!0}))};return(e,a)=>{const t=_,s=v,f=g(k("tabbar"),x),m=g(k("pay"),w);return o(),l(u,null,[r(t,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden"},{default:d((()=>[n(Q)?(o(),i(t,{key:0,class:"fixed left-0 top-0 right-0 z-10"},{default:d((()=>[r(s,{"scroll-x":"true",class:"scroll-Y box-border px-[24rpx] bg-white"},{default:d((()=>[r(t,{class:"flex whitespace-nowrap justify-around"},{default:d((()=>[(o(!0),l(u,null,c(n(A),((e,a)=>(o(),i(t,{class:j(["text-sm leading-[90rpx]",{"class-select":n($)===e.status.toString()}]),onClick:a=>{return t=e.status,$.value=t.toString(),D.value=[],void R().resetUpScroll();var t}},{default:d((()=>[h(y(e.name),1)])),_:2},1032,["class","onClick"])))),256))])),_:1})])),_:1})])),_:1})):p("v-if",!0),r(C,{ref:"mescrollRef",top:"44rpx",onInit:n(z),onDown:n(O),onUp:Y},{default:d((()=>[n(D).length>0?(o(!0),l(u,{key:0},c(n(D),((e,a)=>(o(),i(t,{class:"tk-card",key:"index"},{default:d((()=>[r(t,{class:"text-xs font-weight",onClick:a=>n(I)("/addon/tk_jhkd/pages/orderdetail?id="+e.orderInfo.id)},{default:d((()=>[h("订单号:"+y(e.order_id),1)])),_:2},1032,["onClick"]),r(t,{class:"fb items-center"},{default:d((()=>[r(t,{class:"text-xs"},{default:d((()=>[h(y(e.create_time),1)])),_:2},1024),0==e.order_status?(o(),i(t,{key:0,class:"tk-tag",onClick:a=>(e=>{var a;U.value=!0,null==(a=E.value)||a.open("jhkdOrderAddPay",e.id,"/addon/tk_jhkd/pages/orderaddlist")})(e)},{default:d((()=>[h("立即支付")])),_:2},1032,["onClick"])):p("v-if",!0),1==e.order_status?(o(),i(t,{key:1,class:"tk-tag",onClick:a=>T(e.id)},{default:d((()=>[h("删除订单")])),_:2},1032,["onClick"])):p("v-if",!0)])),_:2},1024)])),_:2},1024)))),128)):p("v-if",!0),!n(D).length&&n(P)?(o(),i(M,{key:1,option:{icon:n(b)("static/resource/images/empty.png")}},null,8,["option"])):p("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1}),r(f,{addon:"tk_jhkd"}),r(m,{ref_key:"payRef",ref:E,onClose:a[0]||(a[0]=e=>U.value=!1)},null,512)],64)}}}),[["__scopeId","data-v-cbf82d75"]]);export{U as default};
