import{d as e,r as a,p as t,F as l,o as c,c as s,w as o,b as n,f as r,O as i,a6 as u,P as p,u as d,y as m,z as x,n as _,a7 as f,a8 as y,aA as v,i as g,D as b,g as k,h,E as w,a as C,aB as j,B as A}from"./index-2882a2d8.js";import{_ as F}from"./u-swipe-action-item.0ac4441e.js";import{M as I}from"./mescroll-body.e69cb222.js";import{u as B}from"./useMescroll.26ccf5de.js";import{_ as M}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.1104ad2f.js";import"./mescroll-i18n.c2747603.js";const V=M(e({__name:"account",setup(e){const{mescrollInit:M,downCallback:V,getMescroll:z}=B(y,f),E=a([]),N=a(!1),R=a("bank"),S=a(null),T=a("get");t((e=>{e.type&&(R.value=e.type),e.mode&&(T.value=e.mode)}));const D=e=>{N.value=!1;let a={page:e.num,limit:e.size,account_type:R.value};v(a).then((a=>{const t=a.data.data;1==e.num&&(E.value=[]),E.value=E.value.concat(t),e.endSuccess(t.length),N.value=!0})).catch((()=>{N.value=!0,e.endErr()}))},O=a([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]),P=e=>{"get"==T.value?C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:R.value,mode:T.value},mode:"redirectTo"}):C({url:"/app/pages/member/apply_cash_out",param:{account_id:e.account_id,type:R.value},mode:"redirectTo"})};return(e,a)=>{const t=A,f=g,y=b,v=k(h("u-swipe-action-item"),F);return c(),s(f,{class:"w-screen h-screen bg-[var(--page-bg-color)]",style:_(e.themeColor())},{default:o((()=>[n(I,{ref_key:"mescrollRef",ref:S,onInit:d(M),down:{use:!1},onUp:D},{default:o((()=>[r(" 多嵌套一层是为了微信小程序兼容 "),(c(!0),i(p,null,u(E.value,((e,a)=>(c(),s(f,{class:"sidebar-marign my-[var(--top-m)] rounded-[var(--rounded-big)] overflow-hidden",key:a},{default:o((()=>[n(v,{options:O.value,onClick:e=>(e=>{const a=E.value[e];j(a.account_id).then((()=>{E.value.splice(e,1)})).catch()})(a)},{default:o((()=>[n(f,{class:"card-template flex justify-between"},{default:o((()=>[n(f,{class:"flex items-center"},{default:o((()=>[n(f,{class:"w-[80rpx] h-[80rpx] flex items-center justify-center",onClick:a=>P(e)},{default:o((()=>["bank"==e.account_type?(c(),s(t,{key:0,class:"w-[80rpx] h-[52rpx] align-middle",src:d(w)("static/resource/images/member/apply_withdrawal/bank-icon.png"),mode:"widthFix"},null,8,["src"])):(c(),s(t,{key:1,class:"h-[78rpx] w-[78rpx] align-middle",src:d(w)("static/resource/images/member/apply_withdrawal/alipay-icon.png"),mode:"widthFix"},null,8,["src"]))])),_:2},1032,["onClick"]),n(f,{class:"flex flex-col ml-[20rpx]",onClick:a=>P(e)},{default:o((()=>[n(f,{class:"text-[#333] text-[28rpx]"},{default:o((()=>[m(x("bank"==e.account_type?e.bank_name:d(l)("alipayAccountNo")),1)])),_:2},1024),"bank"==e.account_type?(c(),s(f,{key:0,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:o((()=>[m(x(d(l)("endNumber"))+" "+x(e.account_no.substring(e.account_no.length-4))+x(d(l)("bankCard")),1)])),_:2},1024)):(c(),s(f,{key:1,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:o((()=>[m(x(e.account_no),1)])),_:2},1024))])),_:2},1032,["onClick"])])),_:2},1024),n(y,{class:"flex items-center nc-iconfont nc-icon-xiugaiV6xx flex-shrink-0 text-[28rpx] p-[20rpx] pr-0",onClick:a=>(e=>{C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:e.account_type,mode:T.value}})})(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])])),_:2},1024)))),128)),n(f,{class:"card-template sidebar-marign my-[var(--top-m)] flex items-center",onClick:a[0]||(a[0]=e=>d(C)({url:"/app/pages/member/account_edit",param:{type:R.value,mode:T.value}}))},{default:o((()=>[n(y,{class:"nc-iconfont nc-icon-jiahaoV6xx text-[30rpx]"}),n(y,{class:"text-[28rpx] ml-[10rpx] flex-1"},{default:o((()=>[m(x("bank"==R.value?d(l)("addBankCard"):d(l)("addAlipayAccount")),1)])),_:1}),n(y,{class:"nc-iconfont nc-icon-youV6xx text-[24rpx] text-[var(--text-color-light6)]"})])),_:1})])),_:1},8,["onInit"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-73b46391"]]);export{V as default};
