import{d as e,r as t,o as l,c as a,w as s,U as r,b as u,y as x,z as d,u as f,f as c,W as n,V as p,n as i,t as o,F as _,i as m,C as v,g as y,h as g,D as h,a as w,E as b,bX as k,Q as T,a$ as C}from"./index-71c7df08.js";import{_ as I}from"./loading-page.vue_vue_type_script_setup_true_lang.c7dc2256.js";import{G as V,H as j,I as N}from"./tourism.86990a9a.js";const E=e({__name:"index",setup(e){const E=t(!0),R=t(!1),S=t(""),U=t(!1),O=t(null);V().then((()=>{R.value=!0,E.value=!1})).catch((()=>{E.value=!1}));const P=()=>{uni.$u.test.isEmpty(S.value)?o({title:_("inputPlaceholder"),icon:"none"}):j(S.value).then((e=>{Object.values(e.data).length?(O.value=e.data,S.value=""):o({title:_("notSearchResult"),icon:"none"})})).catch((()=>{o({title:_("notSearchResult"),icon:"none"})}))},$=()=>{U.value||(U.value=!0,N(O.value.verify_code).then((()=>{O.value=null,U.value=!1})).catch((()=>{U.value=!1})))};return(e,t)=>{const o=m,V=v,j=y(g("u-button"),k),N=y(g("u-input"),T),U=h,z=y(g("u-empty"),C),A=y(g("loading-page"),I);return l(),a(o,{style:i(e.themeColor())},{default:s((()=>[E.value?c("v-if",!0):(l(),r(p,{key:0},[R.value?(l(),a(o,{key:0,class:"bg-[#f7f7f7] min-h-screen overflow-hidden"},{default:s((()=>[u(o,{class:"h-[30rpx]"}),O.value?(l(),a(o,{key:0,class:"mx-[30rpx]"},{default:s((()=>[u(o,{class:"bg-white px-[30rpx] py-[40rpx] rounded"},{default:s((()=>[u(o,{class:"text-center font-bold"},{default:s((()=>[x(d(O.value.verify_code),1)])),_:1}),u(o,{class:"text-center font-bold text-[#f00] mt-[10rpx] text-sm"},{default:s((()=>[x(d(O.value.verify_time?f(_)("used"):f(_)("waitUse")),1)])),_:1})])),_:1}),"way"==O.value.order_type?(l(),a(o,{key:0,class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[u(o,{class:"flex text-sm"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("wayInfo"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.way.way_name),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("reserveTime"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.start_time),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("touristNum"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.num),1)])),_:1})])),_:1})])),_:1})):c("v-if",!0),"scenic"==O.value.order_type?(l(),a(o,{key:1,class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[u(o,{class:"flex text-sm"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("scenicInfo"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.scenic.scenic_name),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("ticketInfo"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.goods_name),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("reserveTime"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.start_time),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("touristNum"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.num),1)])),_:1})])),_:1})])),_:1})):c("v-if",!0),"hotel"==O.value.order_type?(l(),a(o,{key:2,class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[u(o,{class:"flex text-sm"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("orderNo"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.hotel.hotel_name),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("roomInfo"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.goods_name),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("hotelStartTime"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.start_time),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("hotelEndTime"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.end_time),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("hoteltNum"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.num),1)])),_:1})])),_:1})])),_:1})):c("v-if",!0),u(o,{class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[u(o,{class:"flex text-sm"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("orderNo"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.order_no),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("createTime"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.create_time),1)])),_:1})])),_:1}),u(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("payTime"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.pay_time),1)])),_:1})])),_:1}),0!=O.value.verify_time?(l(),a(o,{key:0,class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(_)("verifyTime"))+"：",1)])),_:1}),u(o,null,{default:s((()=>[x(d(O.value.verify_time),1)])),_:1})])),_:1})):c("v-if",!0)])),_:1}),0==O.value.verify_time?(l(),a(o,{key:3,class:"mt-[30rpx]"},{default:s((()=>[u(V,{class:"bg-[var(--primary-color)] text-[#fff] h-[80rpx] leading-[80rpx] rounded-[100rpx] text-[28rpx]",onClick:$},{default:s((()=>[x(d(f(_)("confirmVerify")),1)])),_:1})])),_:1})):c("v-if",!0),u(o,{class:"mt-[30rpx]"},{default:s((()=>[u(j,{text:f(_)("verifyOther"),type:"primary",shape:"circle",onClick:t[0]||(t[0]=e=>O.value=null),plain:!0},null,8,["text"])])),_:1})])),_:1})):(l(),a(o,{key:1,class:"bg-white px-[30rpx] py-[50rpx] mx-[30rpx] rounded"},{default:s((()=>[u(o,{class:"text-center mt-[30rpx]"},{default:s((()=>[x(d(f(_)("verifyTitle")),1)])),_:1}),u(o,{class:"my-[60rpx]"},{default:s((()=>[u(N,{placeholder:f(_)("inputPlaceholder"),border:"surround",inputAlign:"center",modelValue:S.value,"onUpdate:modelValue":t[1]||(t[1]=e=>S.value=e)},null,8,["placeholder","modelValue"])])),_:1}),u(V,{class:n(["!bg-[var(--primary-color)] !text-[#fff] h-[80rpx] leading-[80rpx] rounded-[100rpx] text-[28rpx]",{"opacity-50":!S.value}]),onClick:P,disabled:!S.value},{default:s((()=>[x(d(f(_)("search")),1)])),_:1},8,["class","disabled"])])),_:1})),u(o,{class:"text-center mt-[20rpx]"},{default:s((()=>[u(o,{onClick:t[2]||(t[2]=e=>f(w)({url:"/addon/tourism/pages/verify/record"}))},{default:s((()=>[u(U,{class:"text-primary text-sm"},{default:s((()=>[x(d(f(_)("verifyRecord")),1)])),_:1})])),_:1})])),_:1})])),_:1})):(l(),a(o,{key:1,class:"w-screen h-screen flex flex-col justify-center items-center"},{default:s((()=>[u(z,{icon:f(b)("static/resource/images/order_empty.png"),text:f(_)("notIsVerifier")},null,8,["icon","text"])])),_:1}))],64)),u(A,{loading:E.value},null,8,["loading"])])),_:1},8,["style"])}}});export{E as default};
