import{_ as e}from"./u-cell.1557b609.js";import{an as t,ao as o,ap as a,aX as l,aZ as r,g as s,h as n,o as d,c as i,w as u,f as m,b as c,R as p,n as f,y as g,z as x,i as h,D as _,d as y,r as v,p as S,a8 as b,P as T,a7 as C,Q as z,u as k,E as j}from"./index-7bf68536.js";import{_ as w}from"./u-avatar.0bc202a4.js";import{_ as B}from"./u-line.463a2a45.js";import{_ as D}from"./u-loading-icon.b37701e7.js";import{_ as I}from"./_plugin-vue_export-helper.1b428a4d.js";import{b as N}from"./member.4788035b.js";import"./u-icon.0c1c54c7.js";import"./u-text.df478cbc.js";const F=I({name:"u-loadmore",mixins:[o,a,{props:{status:{type:String,default:()=>t.loadmore.status},bgColor:{type:String,default:()=>t.loadmore.bgColor},icon:{type:Boolean,default:()=>t.loadmore.icon},fontSize:{type:[String,Number],default:()=>t.loadmore.fontSize},iconSize:{type:[String,Number],default:()=>t.loadmore.iconSize},color:{type:String,default:()=>t.loadmore.color},loadingIcon:{type:String,default:()=>t.loadmore.loadingIcon},loadmoreText:{type:String,default:()=>t.loadmore.loadmoreText},loadingText:{type:String,default:()=>t.loadmore.loadingText},nomoreText:{type:String,default:()=>t.loadmore.nomoreText},isDot:{type:Boolean,default:()=>t.loadmore.isDot},iconColor:{type:String,default:()=>t.loadmore.iconColor},marginTop:{type:[String,Number],default:()=>t.loadmore.marginTop},marginBottom:{type:[String,Number],default:()=>t.loadmore.marginBottom},height:{type:[String,Number],default:()=>t.loadmore.height},line:{type:Boolean,default:()=>t.loadmore.line},lineColor:{type:String,default:()=>t.loadmore.lineColor},dashed:{type:Boolean,default:()=>t.loadmore.dashed}}}],data:()=>({dotText:"●"}),computed:{loadTextStyle(){return{color:this.color,fontSize:l(this.fontSize),lineHeight:l(this.fontSize),backgroundColor:this.bgColor}},showText(){let e="";return e="loadmore"==this.status?this.loadmoreText:"loading"==this.status?this.loadingText:"nomore"==this.status&&this.isDot?this.dotText:this.nomoreText,e}},emits:["loadmore"],methods:{addStyle:r,addUnit:l,loadMore(){"loadmore"==this.status&&this.$emit("loadmore")}}},[["render",function(e,t,o,a,l,r){const y=s(n("u-line"),B),v=s(n("u-loading-icon"),D),S=h,b=_;return d(),i(S,{class:"u-loadmore",style:f([r.addStyle(e.customStyle),{backgroundColor:e.bgColor,marginBottom:r.addUnit(e.marginBottom),marginTop:r.addUnit(e.marginTop),height:r.addUnit(e.height)}])},{default:u((()=>[e.line?(d(),i(y,{key:0,length:"140rpx",color:e.lineColor,hairline:!1,dashed:e.dashed},null,8,["color","dashed"])):m("v-if",!0),m(" 加载中和没有更多的状态才显示两边的横线 "),c(S,{class:p(["loadmore"==e.status||"nomore"==e.status?"u-more":"","u-loadmore__content"])},{default:u((()=>["loading"===e.status&&e.icon?(d(),i(S,{key:0,class:"u-loadmore__content__icon-wrap"},{default:u((()=>[c(v,{color:e.iconColor,size:e.iconSize,mode:e.loadingIcon},null,8,["color","size","mode"])])),_:1})):m("v-if",!0),m(" 如果没有更多的状态下，显示内容为dot（粗点），加载特定样式 "),c(b,{class:p(["u-line-1",["nomore"==e.status&&1==e.isDot?"u-loadmore__content__dot-text":"u-loadmore__content__text"]]),style:f([r.loadTextStyle]),onClick:r.loadMore},{default:u((()=>[g(x(r.showText),1)])),_:1},8,["style","class","onClick"])])),_:1},8,["class"]),e.line?(d(),i(y,{key:1,length:"140rpx",color:e.lineColor,hairline:!1,dashed:e.dashed},null,8,["color","dashed"])):m("v-if",!0)])),_:1},8,["style"])}],["__scopeId","data-v-1b766534"]]),U=y({__name:"index",setup(t){const o=v(!0),a=v([]),l=v("nomore");return S((()=>{N().then((e=>{o.value=!1,a.value=e.data}))})),b((()=>{if(l.value="loading",a.value.current_page==a.value.last_page)return l.value="nomore",!1;a.value.current_page,N().then((e=>{const t=e.data.data;a.value.current_page=e.data.current_page,a.value.data=a.value.data.concat(t),e.data.current_page==e.data.last_page&&(l.value="nomore")})).catch((()=>{}))})),(t,r)=>{const f=s(n("up-cell"),e),y=s(n("u-avatar"),w),v=h,S=_,b=s(n("u-loadmore"),F);return o.value?m("v-if",!0):(d(),i(v,{key:0,class:"min-h-[100vh] w-full !bg-[#F6F6F6]"},{default:u((()=>[c(f,{title:"我的团队("+a.value.total+")"},null,8,["title"]),a.value.total?(d(),i(v,{key:0,class:"px-[30rpx] pt-[20rpx] body-bottom"},{default:u((()=>[(d(!0),T(z,null,C(a.value.data,((e,t)=>(d(),i(v,{key:t,class:p(["w-full h-[120rpx] flex justify-between items-center bg-[#fff] box-border p-[20rpx] rounded-[16rpx]",{"mt-[20rpx]":t}])},{default:u((()=>[c(v,{class:"flex items-center"},{default:u((()=>[c(y,{src:k(j)(e.headimg),size:"55",leftIcon:"none"},null,8,["src"]),c(v,{class:"flex flex-col ml-[20rpx]"},{default:u((()=>[c(v,{class:"text-[#000] text-[26rpx] leading-[36rpx]"},{default:u((()=>[g(x(e.nickname),1)])),_:2},1024),c(v,{class:"text-[#999] text-[24rpx] leading-[34rpx] mt-[4rpx] font-400"},{default:u((()=>[g(x(e.create_time),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),c(v,{class:"text-right"},{default:u((()=>[c(v,{class:"text-[36rpx] leading-[50rpx]"}),c(v,{class:"text-[#999] text-[24rpx] leading-[34rpx] mt-[4rpx] font-400"},{default:u((()=>[c(S,{class:"mr-[15rpx]"}),c(S)])),_:1})])),_:1})])),_:2},1032,["class"])))),128))])),_:1})):m("v-if",!0),c(b,{status:l.value},null,8,["status"])])),_:1}))}}});export{U as default};
