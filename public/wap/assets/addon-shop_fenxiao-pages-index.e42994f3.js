import{d as e,m as t,r as a,x as l,_ as s,a as r,o as x,c as o,w as n,P as c,b as i,u as d,y as p,z as f,f as u,n as m,A as _,Q as g,g as h,h as v,i as b,B as w,D as y,E as k,F as j,a1 as C,t as F,U as D,V as O}from"./index-7bf68536.js";import{_ as z}from"./u-avatar.0bc202a4.js";import{_ as A}from"./loading-page.vue_vue_type_script_setup_true_lang.124ad65f.js";import{_ as I}from"./tabbar.e049672c.js";import{a as E,b as S,c as T,d as V}from"./fenxiao.745a840a.js";import{_ as B}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.0c1c54c7.js";import"./u-text.df478cbc.js";import"./u-loading-page.566c330a.js";import"./u-loading-icon.b37701e7.js";import"./u-transition.cdf87992.js";import"./u-badge.d8d91719.js";import"./u-tabbar.d98653fa.js";import"./u-safe-bottom.908eeae4.js";import"./cloneDeep.77735539.js";const P=B(e({__name:"index",setup(e){const B=t(),P=a({member:{},fenxiao_level:{}}),G=a(!0);l((()=>{s((()=>B.siteAddons),((e,t)=>{e&&Object.keys(e).length&&(B.siteAddons.includes("shop_fenxiao")||(F({title:"该站点未安装分销插件",icon:"none"}),setTimeout((()=>{D().length>1?O({delta:1}):r({url:"/addon/shop/pages/member/index",mode:"reLaunch"})}),1500)))}),{deep:!0}),J(),N(),R(),E().then((e=>{let t=e.data;Object.keys(t).length?(P.value=e.data,G.value=!1):(G.value=!0,r({url:"/addon/shop_fenxiao/pages/apply",mode:"redirectTo"}))}))}));const H=a({}),J=()=>{S().then((e=>{H.value=Object.assign(H.value,e.data.fenxiao_config)}))},L=a(0),N=()=>{T().then((e=>{L.value=e.data.length||0})).catch((()=>{L.value=0}))},Q=a(0),R=()=>{V().then((e=>{Q.value=e.data.direct.length+e.data.indirect.length||0})).catch((()=>{Q.value=0}))},U=()=>{uni.setStorageSync("cashOutAccountType","commission"),r({url:"/app/pages/member/apply_cash_out"})},q=()=>{r({url:"/app/pages/member/detailed_account",param:{type:"commission"}})},K=()=>{r({url:"/app/pages/member/commission"})};return(e,t)=>{const a=h(v("u-avatar"),z),l=b,s=w,F=y,D=h(v("loading-page"),A),O=h(v("tabbar"),I);return x(),o(l,{style:m(e.themeColor()),class:"bg-[var(--page-bg-color)] min-h-[100vh] overflow-hidden"},{default:n((()=>[G.value?u("v-if",!0):(x(),o(l,{key:0},{default:n((()=>[1==H.value.is_fenxiao?(x(),c(g,{key:0},[i(l,{class:"h-[320rpx] box-border px-[var(--sidebar-m)] pt-[44rpx] flex flex-col justify-between",style:m({background:"url("+d(k)("addon/shop_fenxiao/index/header_bg.png")+") left top / 100% 100% no-repeat"})},{default:n((()=>[i(l,{class:"flex items-center"},{default:n((()=>[i(l,{class:"!w-[100rpx] !h-[100rpx] rounded-full flex-shrink-0 overflow-hidden"},{default:n((()=>[P.value.member.headimg?(x(),o(a,{key:0,"default-url":d(k)("static/resource/images/default_headimg.png"),src:d(k)(P.value.member.headimg),size:"100rpx",leftIcon:"none"},null,8,["default-url","src"])):(x(),o(a,{key:1,src:d(k)("static/resource/images/default_headimg.png"),size:"100rpx",leftIcon:"none"},null,8,["src"]))])),_:1}),i(l,{class:"flex flex-col text-[#303133] ml-[32rpx]"},{default:n((()=>[i(l,{class:"text-[30rpx] font-500 truncate max-w-[520rpx]"},{default:n((()=>[p(f(P.value.member.nickname),1)])),_:1}),P.value.parent_fenxiao?(x(),o(l,{key:0,class:"text-[24rpx] text-[var(--text-color-light6)] mt-[20rpx]"},{default:n((()=>[p(" 上级分销商："+f(P.value.parent_fenxiao.nickname),1)])),_:1})):u("v-if",!0)])),_:1}),u(' <view class="flex items-center text-[#fff] text-[24rpx] ml-auto">\r\n                            <text class="nc-iconfont nc-icon-a-bangzhuV6xx-36 mr-[10rpx]"></text>\r\n                            <text>推广规则</text>\r\n                        </view> ')])),_:1}),i(l,{class:"flex items-center h-[140rpx] box-border rounded-[var(--rounded-big)] px-[var(--pad-sidebar-m)] py-[var(--pad-top-m)]",style:m({backgroundImage:"url("+d(k)("addon/shop_fenxiao/index/head_bg.png")+") ",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"cover"}),onClick:t[0]||(t[0]=e=>d(r)({url:"/addon/shop_fenxiao/pages/level"}))},{default:n((()=>[i(l,{class:"flex flex-col"},{default:n((()=>[i(l,{class:"flex items-center"},{default:n((()=>[i(s,{class:"w-[30rpx] h-[30rpx] mr-[10rpx]",src:d(k)("addon/shop_fenxiao/info_vip.png"),mode:"widthFix"},null,8,["src"]),i(F,{class:"text-[30rpx] truncate w-[320rpx] font-500 text-[#FDD6A1]"},{default:n((()=>[p(f(Object.keys(P.value.fenxiao_level).length&&!P.value.fenxiao_level.is_default?P.value.fenxiao_level.level_name:"等级未解锁"),1)])),_:1})])),_:1}),i(F,{class:"text-[26rpx] text-[#E8D3B6] mt-[16rpx]"},{default:n((()=>[p("下单、邀请好友均可提升等级")])),_:1})])),_:1}),i(F,{class:"ml-auto level-wrap w-[120rpx] h-[54rpx] text-center rounded-[54rpx] text-[22rpx] flex-center text-[#794200]"},{default:n((()=>[p("去升级")])),_:1})])),_:1},8,["style"])])),_:1},8,["style"]),i(l,{class:"commission-bg sidebar-margin my-[var(--top-m)] rounded-[var(--rounded-big)] pb-[30rpx]"},{default:n((()=>[i(l,{class:"flex justify-between py-[30rpx] px-[24rpx] items-center border-0 border-b-[2rpx] border-[var(--temp-bg)] border-solid"},{default:n((()=>[i(F,{class:"text-[30rpx] font-500"},{default:n((()=>[p(f(d(j)("billingInformation")),1)])),_:1}),i(l,{class:"text-[var(--text-color-light6)] text-[26rpx]",onClick:q},{default:n((()=>[i(F,null,{default:n((()=>[p("佣金明细")])),_:1}),i(F,{class:"nc-iconfont nc-icon-youV6xx text-[var(--text-color-light9)] ml-[2rpx] !text-[24rpx]"})])),_:1})])),_:1}),i(l,{class:"flex mt-[50rpx] justify-around commission-content"},{default:n((()=>[i(l,{class:"flex flex-col items-center",onClick:K},{default:n((()=>[i(F,{class:"text-[24rpx] text-[var(--text-color-light9)]"},{default:n((()=>[p(f(d(j)("commissionGet")),1)])),_:1}),i(F,{class:"text-[#303133] price-font text-[30rpx] font-500 mt-[16rpx]"},{default:n((()=>[p(f(d(C)(P.value.member.commission_get)),1)])),_:1})])),_:1}),i(l,{class:"flex flex-col items-center",onClick:K},{default:n((()=>[i(F,{class:"text-[24rpx] text-[var(--text-color-light9)]"},{default:n((()=>[p(f(d(j)("commission")),1)])),_:1}),i(F,{class:"text-[#303133] price-font text-[30rpx] font-500 mt-[16rpx]"},{default:n((()=>[p(f(d(C)(P.value.member.commission)),1)])),_:1})])),_:1}),i(l,{class:"flex flex-col items-center",onClick:K},{default:n((()=>[i(F,{class:"text-[24rpx] text-[var(--text-color-light9)]"},{default:n((()=>[p("已提现")])),_:1}),i(F,{class:"text-[#303133] price-font text-[30rpx] font-500 mt-[16rpx]"},{default:n((()=>[p(f(d(C)(P.value.member.commission_get-P.value.member.commission-P.value.member.commission_cash_outing)),1)])),_:1})])),_:1}),i(l,{class:"flex flex-col items-center",onClick:K},{default:n((()=>[i(F,{class:"text-[24rpx] text-[var(--text-color-light9)]"},{default:n((()=>[p(f(d(j)("commissionCashOuting")),1)])),_:1}),i(F,{class:"text-[#303133] price-font text-[30rpx] font-500 mt-[16rpx]"},{default:n((()=>[p(f(d(C)(P.value.member.commission_cash_outing)),1)])),_:1})])),_:1})])),_:1}),i(l,{class:"text-center mt-[60rpx] mx-auto w-[570rpx] h-[76rpx] flex-center level-wrap text-[#985400] rounded-[90rpx] text-[26rpx] font-500",onClick:U},{default:n((()=>[p(f(d(j)("cashOut")),1)])),_:1})])),_:1}),i(l,{class:"flex"},{default:n((()=>[i(l,{class:"flex px-[30rpx] rounded-[var(--rounded-big)] items-center flex-1 sidebar-margin h-[150rpx] team-bg",onClick:t[1]||(t[1]=_((e=>d(r)({url:"/addon/shop_fenxiao/pages/team"})),["stop"]))},{default:n((()=>[i(s,{class:"w-[80rpx] h-[80rpx] mr-[20rpx]",src:d(k)("addon/shop_fenxiao/index/team1.png"),mode:"widthFix"},null,8,["src"]),i(l,{class:"flex flex-col"},{default:n((()=>[i(F,{class:"text-[28rpx]"},{default:n((()=>[p("我的团队")])),_:1}),i(F,{class:"text-[var(--text-color-light6)] text-[24rpx] mt-[20rpx]"},{default:n((()=>[p(f(Q.value)+"人",1)])),_:1})])),_:1})])),_:1}),i(l,{class:"flex px-[30rpx] rounded-[var(--rounded-big)] items-center flex-1 mr-[var(--sidebar-m)] h-[150rpx] fenxiao-bg",onClick:t[2]||(t[2]=_((e=>d(r)({url:"/addon/shop_fenxiao/pages/child_fenxiao"})),["stop"]))},{default:n((()=>[i(s,{class:"w-[80rpx] h-[80rpx] mr-[20rpx]",src:d(k)("addon/shop_fenxiao/index/fenxiao.png"),mode:"widthFix"},null,8,["src"]),i(l,{class:"flex flex-col"},{default:n((()=>[i(F,{class:"text-[28rpx]"},{default:n((()=>[p("分销商")])),_:1}),i(F,{class:"text-[var(--text-color-light6)] text-[24rpx] mt-[10rpx]"},{default:n((()=>[p(f(L.value)+"人",1)])),_:1})])),_:1})])),_:1})])),_:1}),i(l,{class:"commission-bg pb-[35rpx] sidebar-margin my-[var(--top-m)] rounded-[var(--rounded-big)]"},{default:n((()=>[i(l,{class:"py-[30rpx] px-[24rpx] border-0 border-b-[2rpx] border-solid border-[#f6f6f6] text-[30rpx] font-500"},{default:n((()=>[p("常用功能")])),_:1}),i(l,{class:"flex flex-wrap common-module pt-[7rpx]"},{default:n((()=>[i(l,{class:"flex items-center flex-col w-[33.3%] py-[23rpx]",onClick:t[3]||(t[3]=e=>d(r)({url:"/addon/shop_fenxiao/pages/promote"}))},{default:n((()=>[i(s,{class:"w-[66rpx] h-[66rpx]",src:d(k)("addon/shop_fenxiao/index/code.png"),mode:"widthFix"},null,8,["src"]),i(l,{class:"flex flex-col items-center mt-[16rpx]"},{default:n((()=>[i(F,{class:"text-[26rpx]"},{default:n((()=>[p("邀请好友")])),_:1}),i(F,{class:"text-[22rpx] text-[var(--text-color-light9)] mt-[12rpx]"},{default:n((()=>[p("邀好友赚好礼")])),_:1})])),_:1})])),_:1}),i(l,{class:"flex items-center flex-col w-[33.3%] py-[23rpx]",onClick:t[4]||(t[4]=e=>d(r)({url:"/addon/shop_fenxiao/pages/order"}))},{default:n((()=>[i(s,{class:"w-[66rpx] h-[66rpx]",src:d(k)("addon/shop_fenxiao/index/order.png"),mode:"widthFix"},null,8,["src"]),i(l,{class:"flex flex-col items-center mt-[16rpx]"},{default:n((()=>[i(F,{class:"text-[26rpx]"},{default:n((()=>[p("分销订单")])),_:1}),i(F,{class:"text-[22rpx] text-[var(--text-color-light9)] mt-[12rpx]"},{default:n((()=>[p("分销订单明细")])),_:1})])),_:1})])),_:1}),i(l,{class:"flex items-center flex-col w-[33.3%] py-[23rpx]",onClick:t[5]||(t[5]=e=>d(r)({url:"/addon/shop_fenxiao/pages/team_dividend"}))},{default:n((()=>[i(s,{class:"w-[66rpx] h-[66rpx]",src:d(k)("addon/shop_fenxiao/index/team2.png"),mode:"widthFix"},null,8,["src"]),i(l,{class:"flex flex-col items-center mt-[16rpx]"},{default:n((()=>[i(F,{class:"text-[26rpx]"},{default:n((()=>[p("团队分红")])),_:1}),i(F,{class:"text-[22rpx] text-[var(--text-color-light9)] mt-[12rpx]"},{default:n((()=>[p("团队分红")])),_:1})])),_:1})])),_:1}),i(l,{class:"flex items-center flex-col w-[33.3%] py-[23rpx]",onClick:t[6]||(t[6]=e=>d(r)({url:"/addon/shop_fenxiao/pages/agent_list"}))},{default:n((()=>[i(s,{class:"w-[66rpx] h-[66rpx]",src:d(k)("addon/shop_fenxiao/index/channel.png"),mode:"widthFix"},null,8,["src"]),i(l,{class:"flex flex-col items-center mt-[16rpx]"},{default:n((()=>[i(F,{class:"text-[26rpx]"},{default:n((()=>[p("渠道代理")])),_:1}),i(F,{class:"text-[22rpx] text-[var(--text-color-light9)] mt-[12rpx]"},{default:n((()=>[p("渠道代理")])),_:1})])),_:1})])),_:1}),i(l,{class:"flex items-center flex-col w-[33.3%] py-[23rpx]",onClick:t[7]||(t[7]=e=>d(r)({url:"/addon/shop_fenxiao/pages/task_rewards"}))},{default:n((()=>[i(s,{class:"w-[66rpx] h-[66rpx]",src:d(k)("addon/shop_fenxiao/index/task.png"),mode:"widthFix"},null,8,["src"]),i(l,{class:"flex flex-col items-center mt-[16rpx]"},{default:n((()=>[i(F,{class:"text-[26rpx]"},{default:n((()=>[p(f(d(j)("task")),1)])),_:1}),i(F,{class:"text-[22rpx] text-[var(--text-color-light9)] mt-[12rpx]"},{default:n((()=>[p(f(d(j)("taskDesc")),1)])),_:1})])),_:1})])),_:1}),i(l,{class:"flex items-center flex-col w-[33.3%] py-[23rpx]",onClick:t[8]||(t[8]=e=>d(r)({url:"/addon/shop_fenxiao/pages/sale"}))},{default:n((()=>[i(s,{class:"w-[66rpx] h-[66rpx]",src:d(k)("addon/shop_fenxiao/index/market.png"),mode:"widthFix"},null,8,["src"]),i(l,{class:"flex flex-col items-center mt-[16rpx]"},{default:n((()=>[i(F,{class:"text-[26rpx]"},{default:n((()=>[p(f(d(j)("sale")),1)])),_:1}),i(F,{class:"text-[22rpx] text-[var(--text-color-light9)] mt-[12rpx]"},{default:n((()=>[p(f(d(j)("saleDesc")),1)])),_:1})])),_:1})])),_:1}),i(l,{class:"flex items-center flex-col w-[33.3%] py-[23rpx]",onClick:t[9]||(t[9]=e=>d(r)({url:"/addon/shop_fenxiao/pages/goods"}))},{default:n((()=>[i(s,{class:"w-[66rpx] h-[66rpx]",src:d(k)("addon/shop_fenxiao/index/fenxiao_goods_01.png"),mode:"widthFix"},null,8,["src"]),i(l,{class:"flex flex-col items-center mt-[16rpx]"},{default:n((()=>[i(F,{class:"text-[26rpx]"},{default:n((()=>[p("分销商品")])),_:1}),i(F,{class:"text-[22rpx] text-[var(--text-color-light9)] mt-[12rpx]"},{default:n((()=>[p("分销商品")])),_:1})])),_:1})])),_:1}),u(' <view class="flex items-center flex-col w-[33.3%] py-[20rpx]" @click="redirect({ url: \'/addon/shop_fenxiao/pages/zone\' })">\r\n\t\t\t\t\t\t    <image class="w-[66rpx] h-[66rpx]" :src="img(\'addon/shop_fenxiao/index/fenxiao_prefecture.png\')" mode="widthFix"/>\r\n\t\t\t\t\t\t    <view class="flex flex-col items-center mt-[12rpx]">\r\n\t\t\t\t\t\t        <text class="text-[24rpx]">分销专区</text>\r\n\t\t\t\t\t\t        <text class="text-[22rpx] text-[var(--text-color-light9)] mt-[12rpx]">分销专区</text>\r\n\t\t\t\t\t\t    </view>\r\n\t\t\t\t\t\t</view> ')])),_:1})])),_:1})],64)):(x(),o(l,{key:1,class:"empty-page"},{default:n((()=>[i(s,{class:"img w-[260rpx] h-[152rpx]",mode:"widthFix",src:d(k)("addon/shop_fenxiao/unopened-fenxiao.png")},null,8,["src"]),i(l,{class:"desc"},{default:n((()=>[p(f(d(j)("fenxiaoNotOpen")),1)])),_:1})])),_:1}))])),_:1})),i(D,{loading:G.value},null,8,["loading"]),i(O,{addon:"shop"})])),_:1},8,["style"])}}}),[["__scopeId","data-v-df7309a6"]]);export{P as default};
