import{_ as e}from"./u-avatar.0bc202a4.js";import{d as a,r,p as t,F as l,K as s,s as d,H as i,x as o,o as u,c as n,w as c,b as p,u as _,y as f,z as x,f as g,n as v,g as m,h as b,i as h,B as j,D as y,C as w,E as k}from"./index-7bf68536.js";import{_ as F}from"./loading-page.vue_vue_type_script_setup_true_lang.124ad65f.js";import{b as C}from"./records.18e3c8c4.js";import{_ as E}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.0c1c54c7.js";import"./u-text.df478cbc.js";import"./u-loading-page.566c330a.js";import"./u-loading-icon.b37701e7.js";import"./u-transition.cdf87992.js";const O=E(a({__name:"give_detail",setup(a){const E=r({}),O=r(!0);t((e=>{if(e.member_card_id){if(!d())return i().setLoginBack({url:"/addon/shop_giftcard/pages/give_detail",param:{member_card_id:e.member_card_id}}),!1;T(e.member_card_id)}else{let e={url:"/addon/shop_giftcard/pages/index",title:l("notCard"),mode:"reLaunch"};s(e)}})),o((()=>{Object.keys(E.value).length&&T(E.value.member_card_id)}));const T=e=>{O.value=!0,C(e).then((e=>{E.value=e.data,O.value=!1})).catch((()=>{O.value=!1}))},z=e=>{let a="";return a="balance"==e.card_info.giftcard.card_right_type?"addon/shop_giftcard/diy/index/value_card.jpg":"addon/shop_giftcard/diy/index/redemption_card.jpg",a};return(a,r)=>{const t=m(b("u-avatar"),e),s=h,d=j,i=y,o=w,C=m(b("loading-page"),F);return u(),n(s,{class:"min-h-[100vh]",style:v(a.themeColor())},{default:c((()=>[Object.keys(E.value).length?(u(),n(s,{key:0,class:"give-info-bg w-full h-[100vh]"},{default:c((()=>[p(s,{class:"pt-[183rpx]"},{default:c((()=>[p(s,{class:"rounded-[var(--rounded-big)] bg-[#fff] mx-[var(--sidebar-m)] px-[82rpx] pb-[140rpx]"},{default:c((()=>[p(s,{class:"relative w-full h-[125rpx]"},{default:c((()=>[p(s,{class:"p-[4rpx] bg-[#fff] box-border rounded-[100rpx] w-[200rpx] h-[200rpx] absolute top-[-100rpx] left-[50%] transform -translate-x-1/2"},{default:c((()=>[p(t,{src:_(k)(E.value.giveMember.headimg),size:"192rpx",leftIcon:"none","default-url":_(k)("static/resource/images/default_headimg.png")},null,8,["src","default-url"])])),_:1})])),_:1}),p(s,{class:"text-center text-[30rpx] font-500 leading-[42rpx] truncate"},{default:c((()=>[f(x(E.value.giveMember.nickname),1)])),_:1}),p(s,{class:"text-center text-[28rpx] font-500 leading-[39rpx] text-[var(--text-color-light6)] mt-[10rpx] truncate"},{default:c((()=>[f(x(_(l)("giveTipsOne"))+x(E.value.card_info.giftcard.card_name),1)])),_:1}),p(s,{class:"w-full flex justify-center mt-[60rpx]"},{default:c((()=>[E.value&&E.value.card_info&&E.value.card_info.card_cover?(u(),n(d,{key:0,class:"w-[546rpx] h-[330rpx] rounded-[var(--rounded-big)]",src:_(k)(E.value.card_info.card_cover),onError:r[0]||(r[0]=e=>E.value.card_info.card_cover=z(E.value)),mode:"aspectFill"},null,8,["src"])):(u(),n(d,{key:1,class:"w-[546rpx] h-[330rpx] rounded-[var(--rounded-big)]",src:_(k)(z(E.value)),mode:"aspectFill"},null,8,["src"]))])),_:1}),E.value.give.blessing?(u(),n(s,{key:0,class:"text-[28rpx] mx-auto mt-[40rpx] multi-hidden"},{default:c((()=>[p(i,{class:"text-[var(--text-color-light6)] leading-[39rpx]"},{default:c((()=>[f(x(_(l)("giveTipsTwo"))+"ï¼š",1)])),_:1}),p(i,{class:"text-[#333] leading-[39rpx]"},{default:c((()=>[f(x(E.value.give.blessing),1)])),_:1})])),_:1})):g("v-if",!0),p(s,{class:"mt-[148rpx]"},{default:c((()=>[p(o,{class:"w-full h-[80rpx] font-500 text-[26rpx] leading-[80rpx] !text-[var(--text-color-light9)] !bg-[#F7F7F7] m-0 rounded-[40rpx] remove-border"},{default:c((()=>[f(x(_(l)("otherReceive")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):g("v-if",!0),p(C,{loading:O.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-ac91bb40"]]);export{O as default};
