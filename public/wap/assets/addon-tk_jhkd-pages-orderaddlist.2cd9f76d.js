import{b9 as e,d as t,r as a,j as s,o,E as l,b as r,w as n,u as i,c as d,G as u,F as c,f as p,a5 as m,a6 as f,i as _,a4 as v,g,h as k,H as j,x as h,y,V as b}from"./index-905183d4.js";import{_ as x}from"./tabbar.f4383367.js";import{_ as w}from"./pay.2560ca84.js";import{M as C}from"./mescroll-body.b8d008ed.js";import{M}from"./mescroll-empty.f9bce990.js";import{u as S}from"./useMescroll.26ccf5de.js";import{g as E}from"./goto.721ffbf7.js";import{_ as I}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.86a2aad0.js";import"./u-badge.82a65592.js";import"./u-tabbar.bedfa48a.js";import"./u-safe-bottom.e94b03c1.js";import"./u-image.44c969ef.js";import"./u-transition.dbaca185.js";import"./u-button.d3798ecb.js";import"./u-loading-icon.c376267d.js";import"./u-popup.e3f6594b.js";import"./pay.01186f9d.js";import"./mescroll-uni-option.0af4878d.js";import"./mescroll-i18n.6025c811.js";/* empty css                                                                       */const z=I(t({__name:"orderaddlist",setup(t){const I=a(null),z=a(!1),{mescrollInit:D,downCallback:U,getMescroll:A}=S(f,m);let O=a([]),R=a(!1),B=a(!1),F=a(""),G=a([]);a([]),s((e=>{F.value=e.status||"0",P()}));const H=async t=>{await function(t){return e.delete(`tk_jhkd/deleteorderadd/${t}`,{showSuccessMessage:!0,showErrorMessage:!0})}(t),A().resetUpScroll()},N=t=>{R.value=!1;let a={page:t.num,limit:t.size,order_status:F.value};console.log(F.value),function(t){return e.get("tk_jhkd/getorderaddlist",t)}(a).then((e=>{let a=e.data.data;1==t.num&&(O.value=[]),O.value=O.value.concat(a),t.endSuccess(a.length),R.value=!0})).catch((()=>{R.value=!0,t.endErr()}))},P=()=>{B.value=!1,G.value=[],e.get("tk_jhkd/getorderaddstatus").then((e=>{Object.values(e.data).forEach(((e,t)=>{G.value.push(e)})),B.value=!0})).catch((()=>{B.value=!0}))};return(e,t)=>{const a=_,s=v,m=g(k("tabbar"),x),f=g(k("pay"),w);return o(),l(u,null,[r(a,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden"},{default:n((()=>[i(B)?(o(),d(a,{key:0,class:"fixed left-0 top-0 right-0 z-10"},{default:n((()=>[r(s,{"scroll-x":"true",class:"scroll-Y box-border px-[24rpx] bg-white"},{default:n((()=>[r(a,{class:"flex whitespace-nowrap justify-around"},{default:n((()=>[(o(!0),l(u,null,c(i(G),((e,t)=>(o(),d(a,{class:j(["text-sm leading-[90rpx]",{"class-select":i(F)===e.status.toString()}]),onClick:t=>{return a=e.status,F.value=a.toString(),O.value=[],void A().resetUpScroll();var a}},{default:n((()=>[h(y(e.name),1)])),_:2},1032,["class","onClick"])))),256))])),_:1})])),_:1})])),_:1})):p("v-if",!0),r(C,{ref:"mescrollRef",top:"44rpx",onInit:i(D),onDown:i(U),onUp:N},{default:n((()=>[i(O).length>0?(o(!0),l(u,{key:0},c(i(O),((e,t)=>(o(),d(a,{class:"tk-card",key:"index"},{default:n((()=>[r(a,{class:"text-xs font-weight",onClick:t=>i(E)("/addon/tk_jhkd/pages/orderdetail?id="+e.orderInfo.id)},{default:n((()=>[h("订单号:"+y(e.order_id),1)])),_:2},1032,["onClick"]),r(a,{class:"fb items-center"},{default:n((()=>[r(a,{class:"text-xs"},{default:n((()=>[h(y(e.create_time),1)])),_:2},1024),0==e.order_status?(o(),d(a,{key:0,class:"tk-tag",onClick:t=>(e=>{var t;z.value=!0,null==(t=I.value)||t.open("jhkdOrderAddPay",e.id,"/addon/tk_jhkd/pages/orderaddlist")})(e)},{default:n((()=>[h("立即支付")])),_:2},1032,["onClick"])):p("v-if",!0),1==e.order_status?(o(),d(a,{key:1,class:"tk-tag",onClick:t=>H(e.id)},{default:n((()=>[h("删除订单")])),_:2},1032,["onClick"])):p("v-if",!0)])),_:2},1024)])),_:2},1024)))),128)):p("v-if",!0),!i(O).length&&i(R)?(o(),d(M,{key:1,option:{icon:i(b)("static/resource/images/empty.png")}},null,8,["option"])):p("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1}),r(m,{addon:"tk_jhkd"}),r(f,{ref_key:"payRef",ref:I,onClose:t[0]||(t[0]=e=>z.value=!1)},null,512)],64)}}}),[["__scopeId","data-v-1778dea3"]]);export{z as default};
