import{_ as t}from"./u-icon.0c1c54c7.js";import{an as e,ao as a,ap as l,aZ as i,g as o,h as n,o as s,c as r,w as c,b as u,P as d,Q as p,aS as b,n as m,y as f,z as h,i as v,D as y,d as k,k as g,L as x,_,j as C,bh as S,bi as D,a7 as j,u as I,E as O,f as P,a as A}from"./index-7bf68536.js";import{_ as $}from"./u-badge.d8d91719.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as H}from"./u-tabbar.d98653fa.js";import{f as L}from"./cloneDeep.77735539.js";const z=w({name:"u-tabbar-item",mixins:[a,l,{props:{name:{type:[String,Number,null],default:()=>e.tabbarItem.name},icon:{icon:String,default:()=>e.tabbarItem.icon},badge:{type:[String,Number,null],default:()=>e.tabbarItem.badge},dot:{type:Boolean,default:()=>e.tabbarItem.dot},text:{type:String,default:()=>e.tabbarItem.text},badgeStyle:{type:[Object,String],default:()=>e.tabbarItem.badgeStyle}}}],data:()=>({isActive:!1,parentData:{value:null,activeColor:"",inactiveColor:""}}),options:{virtualHost:!0},created(){this.init()},emits:["click","change"],methods:{addStyle:i,init(){this.updateParentData(),this.parent;const t=this.parent.children.indexOf(this);this.isActive=(this.name||t)===this.parentData.value},updateParentData(){this.getParentData("u-tabbar")},updateFromParent(){this.init()},clickHandler(){this.$nextTick((()=>{const t=this.parent.children.indexOf(this),e=this.name||t;e!==this.parent.value&&this.parent.$emit("change",e),this.$emit("click",e)}))}}},[["render",function(e,a,l,i,k,g){const x=o(n("u-icon"),t),_=o(n("u-badge"),$),C=v,S=y;return s(),r(C,{class:"u-tabbar-item cursor-pointer",style:m([g.addStyle(e.customStyle)]),onClick:g.clickHandler},{default:c((()=>[u(C,{class:"u-tabbar-item__icon"},{default:c((()=>[e.icon?(s(),r(x,{key:0,name:e.icon,color:k.isActive?k.parentData.activeColor:k.parentData.inactiveColor,size:20},null,8,["name","color"])):(s(),d(p,{key:1},[k.isActive?b(e.$slots,"active-icon",{key:0},void 0,!0):b(e.$slots,"inactive-icon",{key:1},void 0,!0)],64)),u(_,{absolute:"",offset:[0,e.dot?"34rpx":e.badge>9?"14rpx":"20rpx"],customStyle:e.badgeStyle,isDot:e.dot,value:e.badge||(e.dot?1:null),show:e.dot||e.badge>0},null,8,["offset","customStyle","isDot","value","show"])])),_:3}),b(e.$slots,"text",{},(()=>[u(S,{class:"u-tabbar-item__text",style:m({color:k.isActive?k.parentData.activeColor:k.parentData.inactiveColor})},{default:c((()=>[f(h(e.text),1)])),_:1},8,["style"])]),!0)])),_:3},8,["style","onClick"])}],["__scopeId","data-v-ed2788ef"]]),B=w(k({__name:"tabbar",props:{addon:{type:String,default:""}},setup(t,{expose:e}){const a=t;let l=a.addon;const i=g();!l&&i.addon&&(l=i.addon);const b=x({}),f=()=>{let t=L(g().tabbarList);if(1==t.length)Object.assign(b,t[0]);else{let a=!1;for(let e=0;e<t.length;e++)if(t[e].key==l){Object.assign(b,t[e]),a=!0;break}if(!a){let a=0,l={};try{t&&t.forEach((t=>{"app"==t.info.type&&(a++,l=t)})),1==a&&Object.assign(b,l)}catch(e){}}}};f(),_((()=>a.addon),((t,e)=>{t&&e&&t!=e&&f()}),{immediate:!0}),a.addon||_((()=>g().tabbarList),((t,e)=>{t&&f()}),{deep:!0,immediate:!0});const h=C((()=>{let t=S().params,e=[];for(let a in t)e.push(a+"="+t[a]);return"/"+D()+(e.length>0?"?"+e.join("&"):"")})),y=t=>{if(-1!=t.indexOf("http")||-1!=t.indexOf("http"))window.location.href=t;else{let e=S().params,a=[];for(let t in e)a.push(t+"="+e[t]);if(t=="/"+D()&&!a.length)return;A({url:t,mode:"reLaunch"})}};return e({}),(t,e)=>{const a=o(n("u-tabbar-item"),z),l=o(n("u-tabbar"),H),i=v;return b&&Object.keys(b).length?(s(),d(p,{key:0},[u(l,{value:I(h),zIndex:"9999",fixed:!0,placeholder:!0,safeAreaInsetBottom:!0,"inactive-color":b.value.textColor,"active-color":b.value.textHoverColor},{default:c((()=>[(s(!0),d(p,null,j(b.value.list,(t=>(s(),d(p,null,[1==b.value.type?(s(),r(a,{key:0,class:"py-[5rpx]",style:m({"background-color":b.value.backgroundColor}),text:t.text,icon:I(O)(I(h)==t.link.url?t.iconSelectPath:t.iconPath),name:t.link.url,onClick:e=>y(t.link.url)},null,8,["style","text","icon","name","onClick"])):P("v-if",!0),2==b.value.type?(s(),r(a,{key:1,class:"py-[5rpx]",style:m({"background-color":b.value.backgroundColor}),icon:I(O)(I(h)==t.link.url?t.iconSelectPath:t.iconPath),name:t.link.url,onClick:e=>y(t.link.url)},null,8,["style","icon","name","onClick"])):P("v-if",!0),3==b.value.type?(s(),r(a,{key:2,class:"py-[5rpx]",style:m({"background-color":b.value.backgroundColor}),text:t.text,name:t.link.url,onClick:e=>y(t.link.url)},null,8,["style","text","name","onClick"])):P("v-if",!0)],64)))),256))])),_:1},8,["value","inactive-color","active-color"]),u(i,{class:"tab-bar-placeholder"})],64)):P("v-if",!0)}}}),[["__scopeId","data-v-44aec94d"]]);export{B as _};
