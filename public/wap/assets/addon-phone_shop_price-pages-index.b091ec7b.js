import{bG as a,d as e,r as s,p as t,o as l,c as i,w as d,b as c,y as n,z as r,U as o,ad as u,u as _,V as g,ck as h,t as f,i as p,g as m,h as y,E as b,c7 as v,b7 as w,D as k,cC as x,cD as A,_ as C}from"./index-71c7df08.js";const z=C(e({__name:"index",setup(e){let C=s(""),z=s([]);t((()=>{a.get("phone_shop_price/recycle_category_tree").then((a=>{C.value=a.data,z.value=E(a.data)})),G()}));const D=a=>a.child_list.filter((a=>a.is_show));function E(a){let e=[];return a.forEach((a=>{a.images&&e.push(a),a.child_list&&a.child_list.length>0&&(e=e.concat(E(a.child_list)))})),e}const I=(a,e)=>{if(Array.isArray(a)){if(!a.length)return!1;const s=a.findIndex((a=>a.category_id===e));if(-1===s||!a[s].images)return!1;const t=Array.isArray(a[s].images)?a[s].images:[a[s].images];v({indicator:"number",current:0,loop:!0,urls:t})}else{if(""===a)return!1;const e=[b(a)];v({indicator:"number",loop:!0,urls:e})}},j=s(""),G=()=>{a.get("phone_shop_price/address_list").then((a=>{j.value=a.data.data[0].full_address+","+a.data.data[0].contact_name+","+a.data.data[0].mobile,console.log(j.value)}))},S=()=>{h({data:j.value,success(){f({title:"复制成功",icon:"none"})}})};return(a,e)=>{const s=p,t=m(y("u-icon"),w),h=m(y("up-icon"),w),f=k,v=m(y("up-grid-item"),x),E=m(y("up-grid"),A);return l(),i(s,{class:"page"},{default:d((()=>[c(s,{class:"bg-white shadow rounded p-4"},{default:d((()=>[n(" 邮寄地址: "),c(s,{class:"flex"},{default:d((()=>[c(s,null,{default:d((()=>[n(r(j.value),1)])),_:1}),c(t,{name:"cut",size:"18",onClick:S})])),_:1})])),_:1}),(l(!0),o(g,null,u(_(C),((a,e)=>(l(),i(s,{class:"list mt-2",key:e},{default:d((()=>[c(s,{class:"title"},{default:d((()=>[n(r(a.category_name),1)])),_:2},1024),a.child_list&&a.child_list.length>0&&a.is_show?(l(),i(s,{key:0,class:"bg-white shadow rounded p-2"},{default:d((()=>[c(E,{border:!1,col:"4"},{default:d((()=>[(l(!0),o(g,null,u(D(a),((a,e)=>(l(),i(v,{key:e,onClick:e=>{return s=a.category_id,void I(z.value,s);var s}},{default:d((()=>[c(h,{class:"rounded",customStyle:{paddingTop:"20rpx"},name:_(b)(a.image),size:30},null,8,["name"]),c(f,{class:"grid-text"},{default:d((()=>[n(r(a.category_name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)):(l(),i(s,{key:1,class:"list_box bg-white shadow rounded"},{default:d((()=>[c(s,{class:"list_item"},{default:d((()=>[c(s,null,{default:d((()=>[n("暂无报价")])),_:1})])),_:1})])),_:1}))])),_:2},1024)))),128))])),_:1})}}}),[["__scopeId","data-v-c1562bb0"]]);export{z as default};
