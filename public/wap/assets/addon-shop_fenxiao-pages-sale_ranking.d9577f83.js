import{d as e,r as a,p as r,t as l,a as s,j as t,o as d,c as o,w as p,U as n,b as x,n as c,u,y as i,z as m,V as f,ad as _,f as h,i as g,B as v,g as b,h as y,D as k,E as w,a7 as F,W as z,bl as E,_ as j}from"./index-71c7df08.js";import{_ as B}from"./loading-page.vue_vue_type_script_setup_true_lang.c7dc2256.js";import{d as C,e as D}from"./sale.3ca960a4.js";const I=j(e({__name:"sale_ranking",setup(e){const j=a({}),I=a([]);r((e=>{if(!e.id)return l({title:"缺少参数id",icon:"none"}),void setTimeout((()=>{s({url:"/addon/shop/pages/index",mode:"reLaunch"})}),1e3);L(Number(e.id)),R(Number(e.id))}));const N=a(!0),L=e=>{C(e).then((e=>{j.value=e.data.member,j.value.order_money=e.data.order_money,j.value.currentRanking=0})).catch((()=>{N.value=!1}))},R=e=>{D(e).then((e=>{I.value=e.data,N.value=!1})).catch((()=>{N.value=!1}))},T=t((()=>{let e=null;return I.value.forEach(((a,r)=>{a.member.member_id===j.value.member_id&&(e=r+1)})),e}));return(e,a)=>{const r=g,l=v,s=b(y("u--image"),E),t=k,C=b(y("loading-page"),B);return d(),o(r,{class:"bg-[var(--page-bg-color)] min-h-[100vh]",style:c(e.themeColor())},{default:p((()=>[N.value?h("v-if",!0):(d(),n(f,{key:0},[x(r,{class:"w-[100%] h-[500rpx] relative background-size box-border",style:c({backgroundImage:"url("+u(w)("addon/shop_fenxiao/sale-ranking.png")+")"})},null,8,["style"]),x(r,{class:"relative z-2 mt-[-104rpx] py-[30rpx] px-[var(--sidebar-m)] h-[calc(100vh-476rpx)] flex flex-col box-border flex flex-col"},{default:p((()=>[x(r,{class:"card-template !pb-[40rpx]"},{default:p((()=>[x(r,{class:"flex items-center -mt-[60rpx] ml-[10rpx]"},{default:p((()=>[x(r,{class:"w-[100rpx] h-[100rpx] flex-shrink-0"},{default:p((()=>[x(s,{width:"100rpx",height:"100rpx",radius:"50%",src:u(w)(j.value.headimg||""),model:"aspectFill",shape:"circle"},{error:p((()=>[x(l,{class:"w-[100rpx] h-[100rpx] rounded-[50%] overflow-hidden",src:u(w)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:1},8,["src"])])),_:1}),x(r,{class:"ml-[20rpx] mt-[20rpx] text-[30rpx] font-500"},{default:p((()=>[i(m(j.value.nickname||j.value.username),1)])),_:1})])),_:1}),x(r,{class:"flex w-full mt-[50rpx] ml-[10rpx] text-[#303133]"},{default:p((()=>[x(r,{class:"text-[28rpx]"},{default:p((()=>[x(t,{class:""},{default:p((()=>[i("排名：")])),_:1}),x(t,{class:"font-500"},{default:p((()=>[i("第"+m(u(T)||"-")+"名",1)])),_:1})])),_:1}),x(r,{class:"text-[28rpx] ml-[200rpx]"},{default:p((()=>[x(t,{class:""},{default:p((()=>[i("团队销售额: ")])),_:1}),x(t,{class:"font-500 text-[var(--primary-color)] price-font"},{default:p((()=>[i("￥"+m(u(F)(j.value.order_money)),1)])),_:1})])),_:1})])),_:1})])),_:1}),x(r,{class:"flex-1 mt-[var(--top-m)]"},{default:p((()=>[x(r,{class:"rounded-[var(--rounded-big)] bg-[#fff]"},{default:p((()=>[(d(!0),n(f,null,_(I.value,((e,a)=>(d(),o(r,{key:a,class:"flex items-center px-[30rpx] pb-[var(--pad-top-m)] pt-[calc(var(--pad-top-m)+30rpx)]"},{default:p((()=>[x(r,{class:"w-[35rpx] flex-shrink-0"},{default:p((()=>[x(r,{class:z(["text-center text-[40rpx] font-500",{"text-[#F0D232]":0===a,"text-[#B9D1E9]":1===a,"text-[#EECCB5]":2===a}])},{default:p((()=>[i(m(a+1),1)])),_:2},1032,["class"]),x(r,{class:"h-[4rpx] rounded-[2rpx] bg-[#e9e9eb] mt-[10rpx]"})])),_:2},1024),a<3?(d(),o(r,{key:0,class:"w-[88rpx] h-[88rpx] relative ml-[84rpx] flex-shrink-0"},{default:p((()=>[x(r,{class:"absolute z-10 right-[4rpx] bottom-[4rpx]"},{default:p((()=>[x(s,{width:"88rpx",height:"88rpx",src:u(w)(e.member.headimg||""),model:"aspectFill",shape:"circle",radius:"50%"},{error:p((()=>[x(l,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:u(w)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:2},1032,["src"])])),_:2},1024),x(l,{class:"w-[120rpx] h-[120rpx] absolute z-5 right-0 bottom-0",src:u(w)(`addon/shop_fenxiao/ranking${a+1}.png`),mode:"widthFix"},null,8,["src"])])),_:2},1024)):(d(),o(r,{key:1,class:"w-[88rpx] h-[88rpx] ml-[84rpx]"},{default:p((()=>[x(l,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:u(w)(e.member.headimg||""),mode:"aspectFill"},null,8,["src"])])),_:2},1024)),x(r,{class:"text-[26rpx] font-500 ml-[20rpx] flex-1"},{default:p((()=>[i(m(e.member.nickname||e.member.username),1)])),_:2},1024),x(r,{class:"text-[36rpx] font-500 ml-[20rpx] price-font"},{default:p((()=>[i(" ￥"+m(parseFloat(e.order_money).toFixed(2)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})],64)),x(C,{loading:N.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-9b45f59b"]]);export{I as default};
