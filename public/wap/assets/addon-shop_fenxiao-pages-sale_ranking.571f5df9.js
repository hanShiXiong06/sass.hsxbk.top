import{d as e,r as a,j as r,H as s,a as l,p as t,o,c as d,w as n,u as p,I as x,b as u,n as c,y as i,z as m,K as f,J as h,f as _,i as g,Q as b,g as v,h as w,D as y,a2 as k,l as j,Z as F,L as z}from"./index-d8a8f699.js";import{_ as E}from"./u--image.2df700b8.js";import{_ as C}from"./u-loading-page.c740ef13.js";import{d as D,e as I}from"./sale.f5548578.js";import{_ as B}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-image.e646392b.js";import"./u-icon.5ba98c98.js";import"./u-transition.db07fff7.js";import"./u-loading-icon.6808ae8c.js";const L=B(e({__name:"sale_ranking",setup(e){const B=a({}),L=a([]);r((e=>{if(!e.id)return s({title:"缺少参数id",icon:"none"}),void setTimeout((()=>{l({url:"/addon/shop/pages/index",mode:"reLaunch"})}),1e3);T(Number(e.id)),Z(Number(e.id))}));let N=a(!0);const T=e=>{D(e).then((e=>{B.value=e.data.member,B.value.order_money=e.data.order_money,B.value.currentRanking=0})).catch((()=>{N.value=!1}))},Z=e=>{I(e).then((e=>{L.value=e.data,N.value=!1})).catch((()=>{N.value=!1}))},H=t((()=>{let e=null;return L.value.forEach(((a,r)=>{a.member.member_id===B.value.member_id&&(e=r+1)})),e}));return(e,a)=>{const r=g,s=b,l=v(w("u--image"),E),t=y,D=k,I=v(w("u-loading-page"),C);return o(),d(r,{class:"min-h-[100vh]",style:c(e.themeColor())},{default:n((()=>[p(N)?_("v-if",!0):(o(),x(f,{key:0},[u(r,{class:"w-[100%] h-[500rpx] relative background-size box-border",style:c({backgroundImage:"url("+p(j)("addon/shop_fenxiao/sale-ranking.png")+")"})},null,8,["style"]),u(r,{class:"bg-[#f8f8f8] relative z-2 rounded-tl-[20rpx] rounded-tr-[20rpx] mt-[-24rpx] py-[20rpx] px-[24rpx] h-[calc(100vh-476rpx)] flex flex-col box-border"},{default:n((()=>[u(r,{class:"bg-[#fff] rounded-[10rpx] py-[30rpx] px-[24rpx] flex"},{default:n((()=>[u(r,{class:"w-[88rpx] h-[88rpx] flex-shrink-0"},{default:n((()=>[u(l,{width:"88rpx",height:"88rpx",src:p(j)(B.value.headimg||""),model:"aspectFill",shape:"circle",class:"w-[88rpx] h-[88rpx] mr-[20rpx] rounded-[50%] overflow-hidden"},{error:n((()=>[u(s,{class:"w-[88rpx] h-[88rpx] rounded-[50%] overflow-hidden",src:p(j)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:1},8,["src"])])),_:1}),u(r,{class:"flex flex-1 flex-col justify-between ml-[30px]"},{default:n((()=>[u(r,{class:"text-[32rpx] font-600"},{default:n((()=>[i(m(B.value.nickname||B.value.username),1)])),_:1}),u(r,{class:"text-[26rpx]"},{default:n((()=>[u(t,{class:"text-[#999]"},{default:n((()=>[i("排名：")])),_:1}),u(t,{class:"font-600 text-[30rpx]"},{default:n((()=>[i(m(p(H)||"-"),1)])),_:1}),u(t,{class:"text-[#999] ml-[10rpx]"},{default:n((()=>[i("团队销售额: ")])),_:1}),u(t,{class:"font-600 text-[30rpx]"},{default:n((()=>[i("￥"+m(p(F)(B.value.order_money)),1)])),_:1})])),_:1})])),_:1})])),_:1}),u(D,{class:"h-[calc(100%-170rpx)] mt-[20rpx]","scroll-y":!0},{default:n((()=>[u(r,{class:"rounded-[10rpx] bg-[#fff]"},{default:n((()=>[(o(!0),x(f,null,h(L.value,((e,a)=>(o(),d(r,{key:a,class:"flex items-center p-[24rpx] pt-[54rpx]"},{default:n((()=>[u(r,{class:"w-[35rpx] flex-shrink-0"},{default:n((()=>[u(r,{class:z(["text-center text-[40rpx] font-600",{"text-[#F0D232]":0===a,"text-[#B9D1E9]":1===a,"text-[#EECCB5]":2===a}])},{default:n((()=>[i(m(a+1),1)])),_:2},1032,["class"]),u(r,{class:"h-[4rpx] rounded-[2rpx] bg-[#e9e9eb] mt-[10rpx]"})])),_:2},1024),a<3?(o(),d(r,{key:0,class:"w-[88rpx] h-[88rpx] relative ml-[84rpx] flex-shrink-0"},{default:n((()=>[u(l,{width:"88rpx",height:"88rpx",src:p(j)(e.member.headimg||""),model:"aspectFill",shape:"circle",class:"w-[88rpx] h-[88rpx] rounded-[50%] absolute z-10 right-[4rpx] bottom-[4rpx]"},{error:n((()=>[u(s,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:p(j)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:2},1032,["src"]),u(s,{class:"w-[120rpx] h-[120rpx] absolute z-5 right-0 bottom-0",src:p(j)(`addon/shop_fenxiao/ranking${a+1}.png`),mode:"widthFix"},null,8,["src"])])),_:2},1024)):(o(),d(r,{key:1,class:"w-[88rpx] h-[88rpx] ml-[84rpx]"},{default:n((()=>[u(s,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:p(j)(e.member.headimg||""),mode:"aspectFill"},null,8,["src"])])),_:2},1024)),u(r,{class:"text-[26rpx] font-600 ml-[24rpx] flex-1"},{default:n((()=>[i(m(e.member.nickname||e.member.username),1)])),_:2},1024),u(r,{class:"text-[30rpx] font-600 ml-[24rpx]"},{default:n((()=>[i("￥"+m(p(F)(e.order_money)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})],64)),u(I,{"bg-color":"rgb(248,248,248)",loading:p(N),loadingText:"",fontSize:"16",color:"#333"},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-a607bade"]]);export{L as default};
