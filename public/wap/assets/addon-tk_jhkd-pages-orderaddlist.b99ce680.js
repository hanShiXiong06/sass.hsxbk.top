import{d as e,r as t,p as l,o as s,P as a,b as o,w as r,u as d,c as f,Q as n,a7 as i,f as c,a8 as u,a9 as _,i as m,a6 as x,g as p,h as y,R as v,y as g,z as b,E as k,D as h}from"./index-7bf68536.js";import{_ as j}from"./u-icon.0c1c54c7.js";import{_ as I}from"./tabbar.e049672c.js";import{_ as w}from"./pay.d2e850e8.js";import{g as C,a as R,d as z}from"./orderadd.428810b9.js";import{M}from"./mescroll-body.b6d57b41.js";import{M as D}from"./mescroll-empty.fcefb74e.js";import{u as S}from"./useMescroll.26ccf5de.js";import{g as E}from"./goto.c2c6ac48.js";import{_ as U}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-badge.d8d91719.js";import"./u-tabbar.d98653fa.js";import"./u-safe-bottom.908eeae4.js";import"./cloneDeep.77735539.js";import"./u-image.e46f68ef.js";import"./u-transition.cdf87992.js";import"./u-popup.be4bfacd.js";import"./pay.2db06871.js";import"./mescroll-i18n.14e7fe02.js";/* empty css                                                                       */const A=U(e({__name:"orderaddlist",setup(e){const U=t(null),A=t(!1),{mescrollInit:L,downCallback:O,getMescroll:P}=S(_,u);let q=t([]),F=t(!1),H=t(!1),J=t(""),N=t([]);t([]),l((e=>{J.value=e.status||"0",Y()}));const Q=e=>{F.value=!1;let t={page:e.num,limit:e.size,order_status:J.value};console.log(J.value),R(t).then((t=>{let l=t.data.data;1==e.num&&(q.value=[]),q.value=q.value.concat(l),e.endSuccess(l.length),F.value=!0})).catch((()=>{F.value=!0,e.endErr()}))},Y=()=>{H.value=!1,N.value=[],C().then((e=>{Object.values(e.data).forEach(((e,t)=>{N.value.push(e)})),H.value=!0})).catch((()=>{H.value=!0}))};return(e,t)=>{const l=m,u=x,_=h,C=p(y("up-icon"),j),R=p(y("tabbar"),I),S=p(y("pay"),w);return s(),a(n,null,[o(l,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden"},{default:r((()=>[d(H)?(s(),f(l,{key:0,class:"fixed left-0 top-0 right-0 z-10 mb-2"},{default:r((()=>[o(u,{"scroll-x":"true",class:"scroll-Y box-border px-[24rpx] bg-white"},{default:r((()=>[o(l,{class:"flex whitespace-nowrap justify-around"},{default:r((()=>[(s(!0),a(n,null,i(d(N),((e,t)=>(s(),f(l,{class:v(["text-sm leading-[90rpx]",{"class-select":d(J)===e.status.toString()}]),onClick:t=>{return l=e.status,J.value=l.toString(),q.value=[],void P().resetUpScroll();var l}},{default:r((()=>[g(b(e.name),1)])),_:2},1032,["class","onClick"])))),256))])),_:1})])),_:1})])),_:1})):c("v-if",!0),o(M,{ref:"mescrollRef",top:"44rpx",onInit:d(L),onDown:d(O),onUp:Q},{default:r((()=>[d(q).length>0?(s(!0),a(n,{key:0},i(d(q),((t,u)=>(s(),f(l,{class:"tk-card",key:"index"},{default:r((()=>[o(l,{class:"text-xs font-weight",onClick:e=>d(E)("/addon/tk_jhkd/pages/orderdetail?id="+t.orderInfo.id)},{default:r((()=>[g("订单号:"+b(t.order_id),1)])),_:2},1032,["onClick"]),o(l,{class:"fb flex justify-between"},{default:r((()=>[o(l,{class:"text-xs font-weight"},{default:r((()=>[t.orderInfo.delivery_id?(s(),f(l,{key:0,class:"flex items-center",onClick:l=>e.copy(t.orderInfo.delivery_id)},{default:r((()=>[o(_,{class:"mr-2 text-primary text-xs mt-1"},{default:r((()=>[g("运单号:"+b(t.orderInfo.delivery_id),1)])),_:2},1024),o(l,null,{default:r((()=>[o(C,{class:"border-1 rounded",name:"cut",color:"#4541c7",size:"16"})])),_:1})])),_:2},1032,["onClick"])):c("v-if",!0)])),_:2},1024)])),_:2},1024),t.orderInfo?(s(),f(l,{key:0,class:"flex justify-center mt-3"},{default:r((()=>[o(l,{class:"flex items-center"},{default:r((()=>[o(l,{class:"mr-2"},{default:r((()=>[o(_,{class:"qu-tag text-sm p-2 rounded-xl"},{default:r((()=>[g("寄")])),_:1})])),_:1}),o(l,{class:"flex flex-col items-center"},{default:r((()=>[o(l,{class:"text-sm font-bold flex"},{default:r((()=>[o(l,{class:""},{default:r((()=>[g(b(t.orderInfo.start_address.address.split("-")[0]),1)])),_:2},1024)])),_:2},1024),o(l,{class:"tk-sltext text-xs text-[#4b4b4b]"},{default:r((()=>[g(b(t.orderInfo.start_address.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),o(l,{class:"flex items-center ml-4 mr-4"},{default:r((()=>[o(l,{class:"flex"},{default:r((()=>[o(l,null,{default:r((()=>[o(C,{name:"more-dot-fill",color:"#63625f",size:"28"})])),_:1}),o(l,null,{default:r((()=>[o(C,{name:"more-dot-fill",color:"#63625f",size:"28"})])),_:1}),o(l,null,{default:r((()=>[o(C,{name:"arrow-right",color:"#63625f",size:"28"})])),_:1})])),_:1})])),_:1}),o(l,{class:"flex items-center"},{default:r((()=>[o(l,{class:"mr-4"},{default:r((()=>[o(_,{class:"song-tag text-sm p-2 rounded-xl"},{default:r((()=>[g("收")])),_:1})])),_:1}),o(l,{class:""},{default:r((()=>[o(l,{class:"flex flex-col items-center"},{default:r((()=>[o(l,{class:"text-sm font-bold flex"},{default:r((()=>[o(l,{class:""},{default:r((()=>[g(b(t.orderInfo.end_address.address.split("-")[0]),1)])),_:2},1024)])),_:2},1024),o(l,{class:"tk-sltext text-xs text-[#4b4b4b]"},{default:r((()=>[g(b(t.orderInfo.end_address.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)):c("v-if",!0),o(l,{class:"flex mt-4 items-center justify-between"},{default:r((()=>[o(l,{class:"text-xs text-slate-600"},{default:r((()=>[g("下单时间:"+b(t.orderInfo.create_time),1)])),_:2},1024)])),_:2},1024),o(l,{class:"line-box1"}),t.deliveryRealInfo.fee_weight>0&&0==t.order_status?(s(),f(l,{key:1},{default:r((()=>[o(l,{class:"flex items-center mt-1 mb-2 flex text-xs font-bold p-2 text-[24rpx] bg-[#e5fffb] rounded-lg text-red bg-opacity-50"},{default:r((()=>[t.deliveryRealInfo.fee_weight>t.orderInfo.weight?(s(),f(l,{key:0,class:""},{default:r((()=>[g(" 超重: "+b(Math.ceil(t.deliveryRealInfo.fee_weight-t.orderInfo.weight))+"kg;￥"+b(Math.ceil(t.deliveryRealInfo.fee_weight-t.orderInfo.weight)*t.orderInfo.price_rule.add)+"; ",1)])),_:2},1024)):c("v-if",!0),t.deliveryRealInfo.fee_blockList?(s(!0),a(n,{key:1},i(t.deliveryRealInfo.fee_blockList,((e,t)=>(s(),f(l,{class:""},{default:r((()=>[g(b(e.name)+":￥"+b(e.fee),1)])),_:2},1024)))),256)):c("v-if",!0)])),_:2},1024),o(l,{class:"flex justify-end mt-1 items-center"},{default:r((()=>[o(l,{class:"font-bold text-red text-[28rpx]"},{default:r((()=>[g(" 需补差价:￥"+b(t.order_money),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):(s(),f(l,{key:2},{default:r((()=>[o(l,{class:"flex"},{default:r((()=>[1==t.order_status?(s(),f(l,{key:0,class:"flex text-xs font-bold ml-2 p-2 text-[24rpx] bg-[#e5fffb] rounded-lg text-red bg-opacity-50"},{default:r((()=>[g(" 已补差价：￥ "+b(t.order_money),1)])),_:2},1024)):c("v-if",!0)])),_:2},1024)])),_:2},1024)),o(l,{class:"line-box1"}),o(l,{class:"fb items-center"},{default:r((()=>[o(l,{class:"text-xs"},{default:r((()=>[g(b(t.create_time),1)])),_:2},1024),0==t.order_status?(s(),f(l,{key:0,class:"tk-tag",onClick:e=>(e=>{var t;A.value=!0,null==(t=U.value)||t.open("jhkdOrderAddPay",e.id,"/addon/tk_jhkd/pages/orderaddlist")})(t)},{default:r((()=>[g("立即支付")])),_:2},1032,["onClick"])):c("v-if",!0),1==t.order_status?(s(),f(l,{key:1,class:"tk-tag",onClick:e=>(async e=>{await z(e),P().resetUpScroll()})(t.id)},{default:r((()=>[g("删除订单")])),_:2},1032,["onClick"])):c("v-if",!0)])),_:2},1024)])),_:2},1024)))),128)):c("v-if",!0),!d(q).length&&d(F)?(s(),f(D,{key:1,option:{icon:d(k)("static/resource/images/empty.png")}},null,8,["option"])):c("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1}),o(R,{addon:"tk_jhkd"}),o(S,{ref_key:"payRef",ref:U,onClose:t[0]||(t[0]=e=>A.value=!1)},null,512)],64)}}}),[["__scopeId","data-v-9675f34f"]]);export{A as default};
