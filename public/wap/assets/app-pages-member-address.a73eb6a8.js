import{d as e,r as a,j as s,aD as t,x as l,o as r,c as o,w as d,b as u,I as i,J as c,K as n,f as p,y as f,z as m,u as x,n as _,a as v,i as b,g as y,h as g,E as k,a2 as h,aE as C,aF as j,D as w}from"./index-d8a8f699.js";import{_ as A}from"./u-swipe-action-item.22eea3d6.js";import{_ as S}from"./u-swipe-action.6a25fe41.js";import{_ as E}from"./u-tabbar.5fed7184.js";import{M as I}from"./mescroll-empty.2fe85dec.js";import{_ as z}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.5ba98c98.js";import"./u-safe-bottom.a4431b09.js";import"./mescroll-i18n.49872024.js";const D=z(e({__name:"address",setup(e){const z=a(!0),D=a(0),F=a([]),T=a([]),B=a(""),J=a("");s((e=>{B.value=e.type||"",J.value=e.source||"",e.type&&(D.value="address"==e.type?0:1),uni.getStorageSync("selectAddressCallback")&&uni.removeStorage({key:"selectAddressCallback"})})),t({}).then((({data:e})=>{const a=[],s=[];e.forEach((e=>{"address"==e.type?a.push(e):s.push(e)})),J.value?F.value=0==D.value?a:s:F.value=e,z.value=!1})).catch((()=>{z.value=!1}));const K=()=>{v({url:"/app/pages/member/address_edit",param:{source:J.value}})},M=a([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]);return(e,a)=>{const s=b,t=w,B=y(g("u-swipe-action-item"),A),U=y(g("u-swipe-action"),S),V=k,W=y(g("u-tabbar"),E),Z=h;return z.value?p("v-if",!0):(r(),o(s,{key:0,style:_(e.themeColor())},{default:d((()=>[u(Z,{"scroll-y":"true"},{default:d((()=>[u(U,null,{default:d((()=>[u(s,{class:"py-[30rpx] sidebar-marign"},{default:d((()=>[(r(!0),i(n,null,c(F.value,((e,a)=>(r(),o(B,{options:M.value,onClick:e=>(e=>{const a=D.value?T:F,s=a.value[e];j(s.id).then((()=>{a.value.splice(e,1)})).catch()})(a)},{default:d((()=>[u(s,{class:"border-0 !border-b !border-[#f5f5f5] border-solid pb-[30rpx] flex items-center"},{default:d((()=>[u(s,{class:"flex-1 line-feed",onClick:a=>(e=>{const a=uni.getStorageSync("selectAddressCallback");a&&(a.address_id=e.id,uni.setStorage({key:"selectAddressCallback",data:a,success(){v({url:a.back,mode:"redirectTo"})}}))})(e)},{default:d((()=>[u(s,{class:"font-bold my-[10rpx] text-sm line-feed"},{default:d((()=>[f(m(e.full_address),1)])),_:2},1024),u(s,{class:"text-sm flex items-center"},{default:d((()=>[u(s,null,{default:d((()=>[f(m(e.name),1)])),_:2},1024),u(t,{class:"text-[26rpx] text-gray-subtitle"},{default:d((()=>[f(m(x(C)(e.mobile)),1)])),_:2},1024),1==e.is_default?(r(),o(s,{key:0,class:"bg-primary text-white text-xs px-[10rpx] leading-none flex items-center h-[32rpx] ml-[10rpx] rounded min-w-[50rpx]"},{default:d((()=>[f(m(x(l)("default")),1)])),_:1})):p("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"]),u(t,{class:"nc-iconfont nc-icon-xiugaiV6xx shrink-0 text-[32rpx] p-[20rpx] pr-0",onClick:a=>{return s=e.id,void v({url:"/app/pages/member/address_edit",param:{id:s,source:J.value}});var s}},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])))),256)),F.value.length?p("v-if",!0):(r(),o(s,{key:0,class:"pt-[20vh]"},{default:d((()=>[u(I,{option:{tip:"暂无收货地址"}})])),_:1}))])),_:1})])),_:1}),u(W,{fixed:!0,safeAreaInsetBottom:!0,border:!1,zIndex:"99"},{default:d((()=>[u(s,{class:"p-[24rpx] pt-0 w-full"},{default:d((()=>[u(V,{"hover-class":"none",class:"bg-[var(--primary-color)] text-[#fff] h-[80rpx] leading-[80rpx] rounded-[100rpx] text-[28rpx]",onClick:K},{default:d((()=>[f(m(x(l)("createAddress")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))}}}),[["__scopeId","data-v-6ad22531"]]);export{D as default};
