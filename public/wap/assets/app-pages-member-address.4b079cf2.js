import{d as e,r as a,p as s,aE as t,F as l,o as r,c as o,w as d,b as i,O as c,a6 as u,P as p,f as n,y as f,z as m,u as x,n as v,a as _,i as g,g as b,h as y,C as h,a5 as k,aF as C,aG as j,D as w}from"./index-9317da28.js";import{_ as S}from"./u-swipe-action-item.2a7081d5.js";import{_ as A}from"./u-swipe-action.6f19c3fc.js";import{M as F}from"./mescroll-empty.82e9c349.js";import{_ as E}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.5e775659.js";import"./mescroll-i18n.f3c5a2b0.js";const O=E(e({__name:"address",setup(e){const E=a(!0),O=a(0),z=a([]),D=a([]),G=a(""),I=a("");s((e=>{G.value=e.type||"",I.value=e.source||"",e.type&&(O.value="address"==e.type?0:1),uni.getStorageSync("selectAddressCallback")&&uni.removeStorage({key:"selectAddressCallback"})})),t({}).then((({data:e})=>{const a=[],s=[];e.forEach((e=>{"address"==e.type?a.push(e):s.push(e)})),I.value?z.value=0==O.value?a:s:z.value=e,E.value=!1})).catch((()=>{E.value=!1}));const M=()=>{_({url:"/app/pages/member/address_edit",param:{source:I.value}})},P=a([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]);return(e,a)=>{const s=g,t=w,G=b(y("u-swipe-action-item"),S),Q=b(y("u-swipe-action"),A),T=h,V=k;return E.value?n("v-if",!0):(r(),o(s,{key:0,class:"address bg-[var(--page-bg-color)] min-h-[100vh]",style:v(e.themeColor())},{default:d((()=>[i(V,{"scroll-y":"true"},{default:d((()=>[z.value.length?(r(),o(s,{key:0,class:"sidebar-marign pt-[var(--top-m)]"},{default:d((()=>[i(Q,null,{default:d((()=>[(r(!0),c(p,null,u(z.value,((e,a)=>(r(),o(s,{class:"mb-[var(--top-m)] card-template"},{default:d((()=>[i(G,{options:P.value,onClick:e=>(e=>{const a=O.value?D:z,s=a.value[e];j(s.id).then((()=>{a.value.splice(e,1)})).catch()})(a)},{default:d((()=>[i(s,{class:"flex items-center"},{default:d((()=>[i(s,{class:"flex-1 line-feed mr-[20rpx]",onClick:a=>(e=>{const a=uni.getStorageSync("selectAddressCallback");a&&(a.address_id=e.id,uni.setStorage({key:"selectAddressCallback",data:a,success(){_({url:a.back,mode:"redirectTo"})}}))})(e)},{default:d((()=>[i(s,{class:"flex items-center"},{default:d((()=>[i(s,{class:"text-[#333] text-[30rpx] leading-[34rpx] font-500"},{default:d((()=>[f(m(e.name),1)])),_:2},1024),i(t,{class:"text-[#333] text-[30rpx] ml-[10rpx]"},{default:d((()=>[f(m(x(C)(e.mobile)),1)])),_:2},1024),1==e.is_default?(r(),o(s,{key:0,class:"bg-primary-light !text-[var(--primary-color)] border-[2rpx] border-solid border-[var(--primary-color)] !text-[22rpx] px-[10rpx] h-[36rpx] ml-[10rpx] tag-item"},{default:d((()=>[f(m(x(l)("default")),1)])),_:1})):n("v-if",!0)])),_:2},1024),i(s,{class:"mt-[16rpx] text-[26rpx] line-feed text-[var(--text-color-light9)] leading-[1.4]"},{default:d((()=>[f(m(e.full_address),1)])),_:2},1024)])),_:2},1032,["onClick"]),i(t,{class:"nc-iconfont nc-icon-xiugaiV6xx shrink-0 text-[32rpx]",onClick:a=>{return s=e.id,void _({url:"/app/pages/member/address_edit",param:{id:s,source:I.value}});var s}},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})):n("v-if",!0),z.value.length?n("v-if",!0):(r(),o(F,{key:1,option:{tip:"暂无收货地址"}})),i(s,{class:"w-full footer"},{default:d((()=>[i(s,{class:"py-[30rpx] px-[var(--sidebar-m)] footer w-full fixed bottom-0 left-0 right-0 box-border"},{default:d((()=>[i(T,{"hover-class":"none",class:"primary-btn-bg text-[#fff] h-[80rpx] leading-[80rpx] rounded-[100rpx] text-[26rpx] font-500",onClick:M},{default:d((()=>[f(m(x(l)("createAddress")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))}}}),[["__scopeId","data-v-dd70567e"]]);export{O as default};
