import{d as e,a8 as t,r as a,a9 as s,I as l,Y as x,aj as r,a as o,o as n,c as p,w as c,u as d,E as i,b as f,x as m,y as u,f as _,n as h,_ as g,G as b,g as w,h as v,i as y,C as k,N as j,ab as C,V as F,t as E,$ as O}from"./index-905183d4.js";import{_ as D}from"./u-avatar.c19cb462.js";import{_ as I}from"./u-loading-page.7aa0a449.js";import{_ as T}from"./tabbar.f4383367.js";import{a as z,b as A,c as S,d as G}from"./fenxiao.dacba751.js";import{_ as N}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.86a2aad0.js";import"./u-text.86301043.js";import"./u-loading-icon.c376267d.js";import"./u-transition.dbaca185.js";import"./u-badge.82a65592.js";import"./u-tabbar.bedfa48a.js";import"./u-safe-bottom.e94b03c1.js";const q=N(e({__name:"index",setup(e){const N=t();let q=a({member:{},fenxiao_level:{}}),B=a(!0);const R=a(null);s((()=>{setTimeout((()=>{if(!N.siteAddons.includes("shop_fenxiao"))return l({title:"该站点未安装分销插件",icon:"none"}),setTimeout((()=>{x()}),1500),!1}),500),r((()=>{R.value.setAddon("shop")})),Y(),H(),K(),z().then((e=>{let t=e.data;Object.keys(t).length?(q.value=e.data,B.value=!1):(B.value=!0,o({url:"/addon/shop_fenxiao/pages/apply",mode:"redirectTo"}))}))}));const V=a({}),Y=()=>{A().then((e=>{V.value=Object.assign(V.value,e.data.fenxiao_config)}))};let $=a(0);const H=()=>{S().then((e=>{$.value=e.data.length||0})).catch((()=>{$.value=0}))};let J=a(0);const K=()=>{G().then((e=>{J.value=e.data.direct.length+e.data.indirect.length||0})).catch((()=>{J.value=0}))},L=()=>{uni.setStorageSync("cashOutAccountType","commission"),o({url:"/app/pages/member/apply_cash_out"})},M=()=>{o({url:"/app/pages/member/detailed_account",param:{type:"commission"}})};return(e,t)=>{const a=w(v("u-avatar"),D),s=y,l=k,x=j,r=C,z=w(v("u-loading-page"),I),A=w(v("tabbar"),T);return n(),p(s,{style:h(e.themeColor()),class:"bg-[#F6F6F6] min-h-[100vh]"},{default:c((()=>[d(B)?_("v-if",!0):(n(),p(s,{key:0},{default:c((()=>[1==V.value.is_fenxiao?(n(),i(b,{key:0},[f(s,{class:"h-[320rpx] box-border px-[32rpx] pt-[44rpx] flex flex-col justify-between",style:h({background:"url("+d(F)("addon/shop_fenxiao/index/header_bg.png")+") left top / 100% 100% no-repeat"})},{default:c((()=>[f(s,{class:"flex items-center"},{default:c((()=>[f(s,{class:"!w-[120rpx] !h-[120rpx] rounded-full flex-shrink-0 overflow-hidden"},{default:c((()=>[d(q).member.headimg?(n(),p(a,{key:0,src:d(F)(d(q).member.headimg),size:"120rpx",leftIcon:"none"},null,8,["src"])):(n(),p(a,{key:1,src:d(F)("addon/shop_fenxiao/index/head.png"),size:"120rpx",leftIcon:"none"},null,8,["src"]))])),_:1}),f(s,{class:"flex flex-col text-[#303133] ml-[32rpx]"},{default:c((()=>[f(s,{class:"text-[30rpx] truncate max-w-[520rpx]"},{default:c((()=>[f(l,{class:"font-bold whitespace-nowrap"},{default:c((()=>[m(u(d(q).member.nickname),1)])),_:1})])),_:1}),d(q).parent_fenxiao?(n(),p(s,{key:0,class:"text-[24rpx] mt-[20rpx]"},{default:c((()=>[m(" 上级分销商："+u(d(q).parent_fenxiao.nickname),1)])),_:1})):_("v-if",!0)])),_:1}),_(' <view class="flex items-center text-[#fff] text-[24rpx] ml-auto">\r\n                            <text class="iconfont icon24gl-questionCircle mr-[10rpx]"></text>\r\n                            <text>推广规则</text>\r\n                        </view> ')])),_:1}),f(s,{class:"flex items-center h-[140rpx] box-border bg-[#233158] rounded-t-[20rpx] p-[30rpx]",onClick:t[0]||(t[0]=e=>d(o)({url:"/addon/shop_fenxiao/pages/level"}))},{default:c((()=>[f(s,{class:"flex flex-col"},{default:c((()=>[f(s,{class:"flex items-center"},{default:c((()=>[f(x,{class:"w-[30rpx] h-[30rpx] mr-[10rpx]",src:d(F)("addon/shop_fenxiao/info_vip.png"),mode:"widthFix"},null,8,["src"]),f(l,{class:"text-[28rpx] truncate w-[320rpx] font-bold text-[#FDD6A1] font-bold"},{default:c((()=>[m(u(Object.keys(d(q).fenxiao_level).length&&!d(q).fenxiao_level.is_default?d(q).fenxiao_level.level_name:"等级未解锁"),1)])),_:1})])),_:1}),f(l,{class:"text-[26rpx] text-[#E8D3B6] mt-[20rpx]"},{default:c((()=>[m("下单、邀请好友均可提升等级")])),_:1})])),_:1}),f(l,{class:"ml-auto level-wrap w-[140rpx] h-[46rpx] text-center rounded-[54rpx] text-[24rpx] leading-[48rpx] text-[#794200]"},{default:c((()=>[m("做任务")])),_:1})])),_:1})])),_:1},8,["style"]),f(s,{class:"commission-bg mx-[24rpx] my-[20rpx] rounded-[16rpx] pb-[35rpx]"},{default:c((()=>[f(s,{class:"flex justify-between h-[90rpx] px-[24rpx] items-center border-0 border-b-[1rpx] border-[#E0E0E0] border-solid"},{default:c((()=>[f(l,{class:"text-[28rpx] font-bold"},{default:c((()=>[m(u(d(E)("billingInformation")),1)])),_:1}),f(s,{class:"text-[#666] text-[26rpx]",onClick:M},{default:c((()=>[m(" 佣金明细 "),f(l,{class:"iconfont iconxiangyoujiantou !text-[24rpx]"})])),_:1})])),_:1}),f(s,{class:"flex mt-[50rpx] justify-around commission-content"},{default:c((()=>[f(s,{class:"flex flex-col items-center"},{default:c((()=>[f(l,{class:"text-[22rpx] text-[#666]"},{default:c((()=>[m(u(d(E)("commissionGet")),1)])),_:1}),f(l,{class:"text-[#303133] text-[28rpx] font-bold mt-[20rpx]"},{default:c((()=>[m(u(d(O)(d(q).member.commission_get)),1)])),_:1})])),_:1}),f(s,{class:"flex flex-col items-center"},{default:c((()=>[f(l,{class:"text-[22rpx] text-[#666]"},{default:c((()=>[m(u(d(E)("commission")),1)])),_:1}),f(l,{class:"text-[#303133] text-[28rpx] font-bold mt-[20rpx]"},{default:c((()=>[m(u(d(O)(d(q).member.commission)),1)])),_:1})])),_:1}),f(s,{class:"flex flex-col items-center"},{default:c((()=>[f(l,{class:"text-[22rpx] text-[#666]"},{default:c((()=>[m("已提现")])),_:1}),f(l,{class:"text-[#303133] text-[28rpx] font-bold mt-[20rpx]"},{default:c((()=>[m(u(d(O)(d(q).member.commission_get-d(q).member.commission)),1)])),_:1})])),_:1}),f(s,{class:"flex flex-col items-center"},{default:c((()=>[f(l,{class:"text-[22rpx] text-[#666]"},{default:c((()=>[m(u(d(E)("commissionCashOuting")),1)])),_:1}),f(l,{class:"text-[#303133] text-[28rpx] font-bold mt-[20rpx]"},{default:c((()=>[m(u(d(O)(d(q).member.commission_cash_outing)),1)])),_:1})])),_:1})])),_:1}),f(r,{class:"mt-[40rpx] mx-auto w-[570rpx] h-[76rpx] leading-[76rpx] level-wrap text-[#985400] rounded-[90rpx] text-[28rpx]",onClick:L},{default:c((()=>[m(u(d(E)("cashOut")),1)])),_:1})])),_:1}),f(s,{class:"flex"},{default:c((()=>[f(s,{class:"flex px-[30rpx] rounded-[16rpx] items-center flex-1 mx-[24rpx] h-[140rpx] team-bg",onClick:t[1]||(t[1]=g((e=>d(o)({url:"/addon/shop_fenxiao/pages/team"})),["stop"]))},{default:c((()=>[f(x,{class:"w-[80rpx] h-[80rpx] mr-[20rpx]",src:d(F)("addon/shop_fenxiao/index/team1.png"),mode:"widthFix"},null,8,["src"]),f(s,{class:"flex flex-col"},{default:c((()=>[f(l,{class:"text-[26rpx]"},{default:c((()=>[m("我的团队")])),_:1}),f(l,{class:"text-[#666] text-[24rpx] mt-[20rpx]"},{default:c((()=>[m(u(d(J))+"人",1)])),_:1})])),_:1})])),_:1}),f(s,{class:"flex px-[30rpx] rounded-[16rpx] items-center flex-1 mr-[24rpx] h-[140rpx] fenxiao-bg",onClick:t[2]||(t[2]=g((e=>d(o)({url:"/addon/shop_fenxiao/pages/child_fenxiao"})),["stop"]))},{default:c((()=>[f(x,{class:"w-[80rpx] h-[80rpx] mr-[24rpx]",src:d(F)("addon/shop_fenxiao/index/fenxiao.png"),mode:"widthFix"},null,8,["src"]),f(s,{class:"flex flex-col"},{default:c((()=>[f(l,{class:"text-[26rpx]"},{default:c((()=>[m("分销商")])),_:1}),f(l,{class:"text-[#666] text-[24rpx] mt-[10rpx]"},{default:c((()=>[m(u(d($))+"人",1)])),_:1})])),_:1})])),_:1})])),_:1}),f(s,{class:"commission-bg pb-[35rpx] mx-[24rpx] my-[20rpx] rounded-[16rpx]"},{default:c((()=>[f(s,{class:"text-[32rpx] h-[90rpx] px-[24rpx] leading-[90rpx] border-0 border-b-[2rpx] border-solid border-[#E0E0E0] text-[28rpx] font-bold"},{default:c((()=>[m("常用功能")])),_:1}),f(s,{class:"flex flex-wrap common-module"},{default:c((()=>[f(s,{class:"flex items-center flex-col w-[33.3%] py-[20rpx]",onClick:t[3]||(t[3]=e=>d(o)({url:"/addon/shop_fenxiao/pages/promote"}))},{default:c((()=>[f(x,{class:"w-[60rpx] h-[60rpx]",src:d(F)("addon/shop_fenxiao/index/code.png"),mode:"widthFix"},null,8,["src"]),f(s,{class:"flex flex-col items-center mt-[12rpx]"},{default:c((()=>[f(l,{class:"text-[24rpx]"},{default:c((()=>[m("邀请好友")])),_:1}),f(l,{class:"text-[22rpx] text-[#aaa] mt-[12rpx]"},{default:c((()=>[m("邀好友赚好礼")])),_:1})])),_:1})])),_:1}),f(s,{class:"flex items-center flex-col w-[33.3%] py-[20rpx]",onClick:t[4]||(t[4]=e=>d(o)({url:"/addon/shop_fenxiao/pages/order"}))},{default:c((()=>[f(x,{class:"w-[60rpx] h-[60rpx]",src:d(F)("addon/shop_fenxiao/index/order.png"),mode:"widthFix"},null,8,["src"]),f(s,{class:"flex flex-col items-center mt-[12rpx]"},{default:c((()=>[f(l,{class:"text-[24rpx]"},{default:c((()=>[m("分销订单")])),_:1}),f(l,{class:"text-[22rpx] text-[#aaa] mt-[12rpx]"},{default:c((()=>[m("分销订单明细")])),_:1})])),_:1})])),_:1}),f(s,{class:"flex items-center flex-col w-[33.3%] py-[20rpx]",onClick:t[5]||(t[5]=e=>d(o)({url:"/addon/shop_fenxiao/pages/team_dividend"}))},{default:c((()=>[f(x,{class:"w-[60rpx] h-[60rpx]",src:d(F)("addon/shop_fenxiao/index/team2.png"),mode:"widthFix"},null,8,["src"]),f(s,{class:"flex flex-col items-center mt-[12rpx]"},{default:c((()=>[f(l,{class:"text-[24rpx]"},{default:c((()=>[m("团队分红")])),_:1}),f(l,{class:"text-[22rpx] text-[#aaa] mt-[12rpx]"},{default:c((()=>[m("团队分红")])),_:1})])),_:1})])),_:1}),f(s,{class:"flex items-center flex-col w-[33.3%] py-[20rpx]",onClick:t[6]||(t[6]=e=>d(o)({url:"/addon/shop_fenxiao/pages/agent_list"}))},{default:c((()=>[f(x,{class:"w-[60rpx] h-[60rpx]",src:d(F)("addon/shop_fenxiao/index/channel.png"),mode:"widthFix"},null,8,["src"]),f(s,{class:"flex flex-col items-center mt-[12rpx]"},{default:c((()=>[f(l,{class:"text-[24rpx]"},{default:c((()=>[m("渠道代理")])),_:1}),f(l,{class:"text-[22rpx] text-[#aaa] mt-[12rpx]"},{default:c((()=>[m("渠道代理")])),_:1})])),_:1})])),_:1}),f(s,{class:"flex items-center flex-col w-[33.3%] py-[20rpx]",onClick:t[7]||(t[7]=e=>d(o)({url:"/addon/shop_fenxiao/pages/task_rewards"}))},{default:c((()=>[f(x,{class:"w-[60rpx] h-[60rpx]",src:d(F)("addon/shop_fenxiao/index/task.png"),mode:"widthFix"},null,8,["src"]),f(s,{class:"flex flex-col items-center mt-[12rpx]"},{default:c((()=>[f(l,{class:"text-[24rpx]"},{default:c((()=>[m(u(d(E)("task")),1)])),_:1}),f(l,{class:"text-[22rpx] text-[#aaa] mt-[12rpx]"},{default:c((()=>[m(u(d(E)("taskDesc")),1)])),_:1})])),_:1})])),_:1}),f(s,{class:"flex items-center flex-col w-[33.3%] py-[20rpx]",onClick:t[8]||(t[8]=e=>d(o)({url:"/addon/shop_fenxiao/pages/sale"}))},{default:c((()=>[f(x,{class:"w-[60rpx] h-[60rpx]",src:d(F)("addon/shop_fenxiao/index/market.png"),mode:"widthFix"},null,8,["src"]),f(s,{class:"flex flex-col items-center mt-[12rpx]"},{default:c((()=>[f(l,{class:"text-[24rpx]"},{default:c((()=>[m(u(d(E)("sale")),1)])),_:1}),f(l,{class:"text-[22rpx] text-[#aaa] mt-[12rpx]"},{default:c((()=>[m(u(d(E)("saleDesc")),1)])),_:1})])),_:1})])),_:1}),f(s,{class:"flex items-center flex-col w-[33.3%] py-[20rpx]",onClick:t[9]||(t[9]=e=>d(o)({url:"/addon/shop_fenxiao/pages/goods"}))},{default:c((()=>[f(x,{class:"w-[60rpx] h-[60rpx]",src:d(F)("addon/shop_fenxiao/index/fenxiao_goods_01.png"),mode:"widthFix"},null,8,["src"]),f(s,{class:"flex flex-col items-center mt-[12rpx]"},{default:c((()=>[f(l,{class:"text-[24rpx]"},{default:c((()=>[m("分销商品")])),_:1}),f(l,{class:"text-[22rpx] text-[#aaa] mt-[12rpx]"},{default:c((()=>[m("分销商品")])),_:1})])),_:1})])),_:1}),_(' <view class="flex items-center flex-col w-[33.3%] py-[20rpx]" @click="redirect({ url: \'/addon/shop_fenxiao/pages/zone\' })">\r\n\t\t\t\t\t\t    <image class="w-[60rpx] h-[60rpx]" :src="img(\'addon/shop_fenxiao/index/fenxiao_prefecture.png\')" mode="widthFix"/>\r\n\t\t\t\t\t\t    <view class="flex flex-col items-center mt-[12rpx]">\r\n\t\t\t\t\t\t        <text class="text-[24rpx]">分销专区</text>\r\n\t\t\t\t\t\t        <text class="text-[22rpx] text-[#aaa] mt-[12rpx]">分销专区</text>\r\n\t\t\t\t\t\t    </view>\r\n\t\t\t\t\t\t</view> ')])),_:1})])),_:1})],64)):(n(),p(s,{key:1,class:"flex flex-col items-center pt-[100rpx]"},{default:c((()=>[f(x,{class:"w-[260rpx] h-[152rpx]",mode:"widthFix",src:d(F)("addon/shop_fenxiao/unopened-fenxiao.png")},null,8,["src"]),f(s,{class:"mt-[40rpx] text-[24rpx]"},{default:c((()=>[m(u(d(E)("fenxiaoNotOpen")),1)])),_:1})])),_:1}))])),_:1})),f(z,{"bg-color":"rgb(248,248,248)",loading:d(B),loadingText:"",fontSize:"16",color:"#333"},null,8,["loading"]),f(A,{addon:"shop",ref_key:"tabbarRef",ref:R},null,512)])),_:1},8,["style"])}}}),[["__scopeId","data-v-52c0ee72"]]);export{q as default};
