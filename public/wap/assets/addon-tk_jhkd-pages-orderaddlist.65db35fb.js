import{b9 as e,d as a,r as t,j as s,o,E as l,b as r,w as i,u as n,c as d,G as u,F as c,f as p,a5 as m,a6 as f,i as _,a4 as g,g as v,h as k,H as j,x as h,y as b,V as y}from"./index-e6ce9fbf.js";import{_ as x}from"./tabbar.2cc8e58f.js";import{_ as w}from"./pay.16fd6339.js";import{M as C}from"./mescroll-body.dc3de07c.js";import{M as S}from"./mescroll-empty.b423055b.js";import{u as I}from"./useMescroll.26ccf5de.js";import{g as M}from"./goto.a2656e8d.js";import{_ as E}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.c5d9cd81.js";import"./u-badge.7d0ca9d8.js";import"./u-tabbar.2615c204.js";import"./u-safe-bottom.1ba5bfba.js";import"./u-image.c9386d77.js";import"./u-transition.6919b33f.js";import"./u-button.7a41d301.js";import"./u-loading-icon.39fd4711.js";import"./u-popup.b16d6e1d.js";import"./pay.f23cf994.js";import"./mescroll-uni-option.2f7b06f4.js";import"./mescroll-i18n.6025c811.js";/* empty css                                                                       */const z=E(a({__name:"orderaddlist",setup(a){const E=t(null),z=t(!1),{mescrollInit:D,downCallback:U,getMescroll:F}=I(f,m);let G=t([]),H=t(!1),O=t(!1),R=t(""),A=t([]);t([]),s((e=>{R.value=e.status||"0",Y()}));const P=async a=>{await function(a){return e.delete(`tk_jhkd/deleteorderadd/${a}`,{showSuccessMessage:!0,showErrorMessage:!0})}(a),F().resetUpScroll()},V=a=>{H.value=!1;let t={page:a.num,limit:a.size,order_status:R.value};console.log(R.value),function(a){return e.get("tk_jhkd/getorderaddlist",a)}(t).then((e=>{let t=e.data.data;1==a.num&&(G.value=[]),G.value=G.value.concat(t),a.endSuccess(t.length),H.value=!0})).catch((()=>{H.value=!0,a.endErr()}))},Y=()=>{O.value=!1,A.value=[],e.get("tk_jhkd/getorderaddstatus").then((e=>{Object.values(e.data).forEach(((e,a)=>{A.value.push(e)})),O.value=!0})).catch((()=>{O.value=!0}))};return(e,a)=>{const t=_,s=g,m=v(k("tabbar"),x),f=v(k("pay"),w);return o(),l(u,null,[r(t,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden"},{default:i((()=>[n(O)?(o(),d(t,{key:0,class:"fixed left-0 top-0 right-0 z-10"},{default:i((()=>[r(s,{"scroll-x":"true",class:"scroll-Y box-border px-[24rpx] bg-white"},{default:i((()=>[r(t,{class:"flex whitespace-nowrap justify-around"},{default:i((()=>[(o(!0),l(u,null,c(n(A),((e,a)=>(o(),d(t,{class:j(["text-sm leading-[90rpx]",{"class-select":n(R)===e.status.toString()}]),onClick:a=>{return t=e.status,R.value=t.toString(),G.value=[],void F().resetUpScroll();var t}},{default:i((()=>[h(b(e.name),1)])),_:2},1032,["class","onClick"])))),256))])),_:1})])),_:1})])),_:1})):p("v-if",!0),r(C,{ref:"mescrollRef",top:"44rpx",onInit:n(D),onDown:n(U),onUp:V},{default:i((()=>[n(G).length>0?(o(!0),l(u,{key:0},c(n(G),((e,a)=>(o(),d(t,{class:"tk-card",key:"index"},{default:i((()=>[r(t,{class:"text-xs font-weight",onClick:a=>n(M)("/addon/tk_jhkd/pages/orderdetail?id="+e.orderInfo.id)},{default:i((()=>[h("订单号:"+b(e.order_id),1)])),_:2},1032,["onClick"]),r(t,{class:"fb items-center"},{default:i((()=>[r(t,{class:"text-xs"},{default:i((()=>[h(b(e.create_time),1)])),_:2},1024),0==e.order_status?(o(),d(t,{key:0,class:"tk-tag",onClick:a=>(e=>{var a;z.value=!0,null==(a=E.value)||a.open("jhkdOrderAddPay",e.id,"/addon/tk_jhkd/pages/orderaddlist")})(e)},{default:i((()=>[h("立即支付")])),_:2},1032,["onClick"])):p("v-if",!0),1==e.order_status?(o(),d(t,{key:1,class:"tk-tag",onClick:a=>P(e.id)},{default:i((()=>[h("删除订单")])),_:2},1032,["onClick"])):p("v-if",!0)])),_:2},1024)])),_:2},1024)))),128)):p("v-if",!0),!n(G).length&&n(H)?(o(),d(S,{key:1,option:{icon:n(y)("static/resource/images/empty.png")}},null,8,["option"])):p("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1}),r(m,{addon:"tk_jhkd"}),r(f,{ref_key:"payRef",ref:E,onClose:a[0]||(a[0]=e=>z.value=!1)},null,512)],64)}}}),[["__scopeId","data-v-1778dea3"]]);export{z as default};
