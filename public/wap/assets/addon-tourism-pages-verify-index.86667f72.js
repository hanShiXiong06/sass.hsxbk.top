import{d as e,r as t,o as l,c as a,w as s,P as r,b as u,y as x,z as d,u as f,f as n,R as p,Q as o,n as c,t as i,F as m,i as _,C as v,g as y,h as g,D as h,a as w,E as b}from"./index-7bf68536.js";import{_ as k}from"./u-button.359d7329.js";import{_ as j}from"./u-input.09a5cedd.js";import{_ as T}from"./u-empty.68b4529f.js";import{_ as I}from"./loading-page.vue_vue_type_script_setup_true_lang.124ad65f.js";import{G as C,H as N,I as V}from"./tourism.3586533e.js";import"./u-loading-icon.b37701e7.js";import"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.0c1c54c7.js";import"./u-loading-page.566c330a.js";import"./u-transition.cdf87992.js";const E=e({__name:"index",setup(e){const E=t(!0),R=t(!1),P=t(""),S=t(!1),O=t(null);C().then((()=>{R.value=!0,E.value=!1})).catch((()=>{E.value=!1}));const U=()=>{uni.$u.test.isEmpty(P.value)?i({title:m("inputPlaceholder"),icon:"none"}):N(P.value).then((e=>{Object.values(e.data).length?(O.value=e.data,P.value=""):i({title:m("notSearchResult"),icon:"none"})})).catch((()=>{i({title:m("notSearchResult"),icon:"none"})}))},z=()=>{S.value||(S.value=!0,V(O.value.verify_code).then((()=>{O.value=null,S.value=!1})).catch((()=>{S.value=!1})))};return(e,t)=>{const i=_,C=v,N=y(g("u-button"),k),V=y(g("u-input"),j),S=h,A=y(g("u-empty"),T),D=y(g("loading-page"),I);return l(),a(i,{style:c(e.themeColor())},{default:s((()=>[E.value?n("v-if",!0):(l(),r(o,{key:0},[R.value?(l(),a(i,{key:0,class:"bg-[#f7f7f7] min-h-screen overflow-hidden"},{default:s((()=>[u(i,{class:"h-[30rpx]"}),O.value?(l(),a(i,{key:0,class:"mx-[30rpx]"},{default:s((()=>[u(i,{class:"bg-white px-[30rpx] py-[40rpx] rounded"},{default:s((()=>[u(i,{class:"text-center font-bold"},{default:s((()=>[x(d(O.value.verify_code),1)])),_:1}),u(i,{class:"text-center font-bold text-[#f00] mt-[10rpx] text-sm"},{default:s((()=>[x(d(O.value.verify_time?f(m)("used"):f(m)("waitUse")),1)])),_:1})])),_:1}),"way"==O.value.order_type?(l(),a(i,{key:0,class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[u(i,{class:"flex text-sm"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("wayInfo"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.way.way_name),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("reserveTime"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.start_time),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("touristNum"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.num),1)])),_:1})])),_:1})])),_:1})):n("v-if",!0),"scenic"==O.value.order_type?(l(),a(i,{key:1,class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[u(i,{class:"flex text-sm"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("scenicInfo"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.scenic.scenic_name),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("ticketInfo"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.goods_name),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("reserveTime"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.start_time),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("touristNum"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.num),1)])),_:1})])),_:1})])),_:1})):n("v-if",!0),"hotel"==O.value.order_type?(l(),a(i,{key:2,class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[u(i,{class:"flex text-sm"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("orderNo"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.hotel.hotel_name),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("roomInfo"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.goods_name),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("hotelStartTime"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.start_time),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("hotelEndTime"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.end_time),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("hoteltNum"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.num),1)])),_:1})])),_:1})])),_:1})):n("v-if",!0),u(i,{class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[u(i,{class:"flex text-sm"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("orderNo"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.order_no),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("createTime"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.create_time),1)])),_:1})])),_:1}),u(i,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("payTime"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.pay_time),1)])),_:1})])),_:1}),0!=O.value.verify_time?(l(),a(i,{key:0,class:"flex text-sm mt-[20rpx]"},{default:s((()=>[u(i,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(m)("verifyTime"))+"：",1)])),_:1}),u(i,null,{default:s((()=>[x(d(O.value.verify_time),1)])),_:1})])),_:1})):n("v-if",!0)])),_:1}),0==O.value.verify_time?(l(),a(i,{key:3,class:"mt-[30rpx]"},{default:s((()=>[u(C,{class:"bg-[var(--primary-color)] text-[#fff] h-[80rpx] leading-[80rpx] rounded-[100rpx] text-[28rpx]",onClick:z},{default:s((()=>[x(d(f(m)("confirmVerify")),1)])),_:1})])),_:1})):n("v-if",!0),u(i,{class:"mt-[30rpx]"},{default:s((()=>[u(N,{text:f(m)("verifyOther"),type:"primary",shape:"circle",onClick:t[0]||(t[0]=e=>O.value=null),plain:!0},null,8,["text"])])),_:1})])),_:1})):(l(),a(i,{key:1,class:"bg-white px-[30rpx] py-[50rpx] mx-[30rpx] rounded"},{default:s((()=>[u(i,{class:"text-center mt-[30rpx]"},{default:s((()=>[x(d(f(m)("verifyTitle")),1)])),_:1}),u(i,{class:"my-[60rpx]"},{default:s((()=>[u(V,{placeholder:f(m)("inputPlaceholder"),border:"surround",inputAlign:"center",modelValue:P.value,"onUpdate:modelValue":t[1]||(t[1]=e=>P.value=e)},null,8,["placeholder","modelValue"])])),_:1}),u(C,{class:p(["!bg-[var(--primary-color)] !text-[#fff] h-[80rpx] leading-[80rpx] rounded-[100rpx] text-[28rpx]",{"opacity-50":!P.value}]),onClick:U,disabled:!P.value},{default:s((()=>[x(d(f(m)("search")),1)])),_:1},8,["class","disabled"])])),_:1})),u(i,{class:"text-center mt-[20rpx]"},{default:s((()=>[u(i,{onClick:t[2]||(t[2]=e=>f(w)({url:"/addon/tourism/pages/verify/record"}))},{default:s((()=>[u(S,{class:"text-primary text-sm"},{default:s((()=>[x(d(f(m)("verifyRecord")),1)])),_:1})])),_:1})])),_:1})])),_:1})):(l(),a(i,{key:1,class:"w-screen h-screen flex flex-col justify-center items-center"},{default:s((()=>[u(A,{icon:f(b)("static/resource/images/order_empty.png"),text:f(m)("notIsVerifier")},null,8,["icon","text"])])),_:1}))],64)),u(D,{loading:E.value},null,8,["loading"])])),_:1},8,["style"])}}});export{E as default};
