import{d as e,r as a,p as r,t,a as l,s,H as d,o as i,c as n,w as u,b as c,u as o,y as p,z as f,f as _,n as x,g,h as v,i as m,B as b,D as h,C as y,E as w,aw as j,_ as k}from"./index-71c7df08.js";import{_ as F}from"./loading-page.vue_vue_type_script_setup_true_lang.c7dc2256.js";import{b as z}from"./records.6378d415.js";const B=k(e({__name:"give_detail",setup(e){const k=a({}),B=a(!0);r((e=>{if(e.member_card_id){if(!s())return d().setLoginBack({url:"/addon/shop_giftcard/pages/give_detail",param:{member_card_id:e.member_card_id}}),!1;C(e.member_card_id)}else t({title:"礼品卡不存在",icon:"none"}),setTimeout((()=>{l({url:"/addon/shop_giftcard/pages/index",mode:"reLaunch"})}),600)}));const C=e=>{B.value=!0,z(e).then((e=>{k.value=e.data,B.value=!1})).catch((()=>{B.value=!1}))},E=e=>{let a="";return a="balance"==e.card_info.giftcard.card_right_type?"addon/shop_giftcard/diy/index/value_card.jpg":"addon/shop_giftcard/diy/index/redemption_card.jpg",a};return(e,a)=>{const r=g(v("u-avatar"),j),t=m,l=b,s=h,d=y,z=g(v("loading-page"),F);return i(),n(t,{class:"min-h-[100vh]",style:x(e.themeColor())},{default:u((()=>[Object.keys(k.value).length?(i(),n(t,{key:0,class:"give-info-bg w-full h-[100vh]"},{default:u((()=>[c(t,{class:"pt-[183rpx]"},{default:u((()=>[c(t,{class:"rounded-[var(--rounded-big)] bg-[#fff] mx-[var(--sidebar-m)] px-[82rpx] pb-[140rpx]"},{default:u((()=>[c(t,{class:"relative w-full h-[125rpx]"},{default:u((()=>[c(t,{class:"p-[4rpx] bg-[#fff] box-border rounded-[100rpx] w-[200rpx] h-[200rpx] absolute top-[-100rpx] left-[50%] transform -translate-x-1/2"},{default:u((()=>[c(r,{src:o(w)(k.value.giveMember.headimg),size:"192rpx",leftIcon:"none","default-url":o(w)("static/resource/images/default_headimg.png")},null,8,["src","default-url"])])),_:1})])),_:1}),c(t,{class:"text-center text-[30rpx] font-500 leading-[42rpx] truncate"},{default:u((()=>[p(f(k.value.giveMember.nickname),1)])),_:1}),c(t,{class:"text-center text-[28rpx] font-500 leading-[39rpx] text-[var(--text-color-light6)] mt-[10rpx] truncate"},{default:u((()=>[p(f("送给他的"+k.value.card_info.giftcard.card_name),1)])),_:1}),c(t,{class:"w-full flex justify-center mt-[60rpx]"},{default:u((()=>[k.value&&k.value.card_info&&k.value.card_info.card_cover?(i(),n(l,{key:0,class:"w-[546rpx] h-[330rpx] rounded-[var(--rounded-big)]",src:o(w)(k.value.card_info.card_cover),onError:a[0]||(a[0]=e=>k.value.card_info.card_cover=E(k.value)),mode:"aspectFill"},null,8,["src"])):(i(),n(l,{key:1,class:"w-[546rpx] h-[330rpx] rounded-[var(--rounded-big)]",src:o(w)(E(k.value)),mode:"aspectFill"},null,8,["src"]))])),_:1}),k.value.give.blessing?(i(),n(t,{key:0,class:"text-[28rpx] mx-auto mt-[40rpx] multi-hidden"},{default:u((()=>[c(s,{class:"text-[var(--text-color-light6)] leading-[39rpx]"},{default:u((()=>[p("您祝对方：")])),_:1}),c(s,{class:"text-[#333] leading-[39rpx]"},{default:u((()=>[p(f(k.value.give.blessing),1)])),_:1})])),_:1})):_("v-if",!0),c(t,{class:"mt-[148rpx]"},{default:u((()=>[c(d,{class:"w-full h-[80rpx] font-500 text-[26rpx] leading-[80rpx] !text-[var(--text-color-light9)] !bg-[#F7F7F7] m-0 rounded-[var(--rounded-big)] remove-border"},{default:u((()=>[p("对方已领取")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):_("v-if",!0),c(z,{loading:B.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-d7816690"]]);export{B as default};
