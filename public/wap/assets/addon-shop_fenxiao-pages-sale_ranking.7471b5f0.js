import{d as e,r as a,p as r,K as l,j as s,o as t,c as o,w as p,P as d,b as n,n as x,u,y as i,z as c,Q as m,a7 as f,f as _,i as h,B as g,g as v,h as b,D as y,E as w,a1 as k,R as j}from"./index-7bf68536.js";import{_ as F}from"./u--image.b3bf1d5c.js";import{_ as z}from"./loading-page.vue_vue_type_script_setup_true_lang.124ad65f.js";import{d as E,e as B}from"./sale.cd84b764.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-image.e46f68ef.js";import"./u-icon.0c1c54c7.js";import"./u-transition.cdf87992.js";import"./u-loading-page.566c330a.js";import"./u-loading-icon.b37701e7.js";const D=C(e({__name:"sale_ranking",setup(e){const C=a({}),D=a([]);r((e=>{if(e.id)I(Number(e.id)),R(Number(e.id));else{l({url:"/addon/shop_fenxiao/pages/sale",title:"缺少参数id",mode:"reLaunch"})}}));const N=a(!0),I=e=>{E(e).then((e=>{C.value=e.data.member,C.value.order_money=e.data.order_money,C.value.currentRanking=0})).catch((()=>{N.value=!1}))},R=e=>{B(e).then((e=>{D.value=e.data,N.value=!1})).catch((()=>{N.value=!1}))},K=s((()=>{let e=null;return D.value.forEach(((a,r)=>{a.member.member_id===C.value.member_id&&(e=r+1)})),e}));return(e,a)=>{const r=h,l=g,s=v(b("u--image"),F),E=y,B=v(b("loading-page"),z);return t(),o(r,{class:"bg-[var(--page-bg-color)] min-h-[100vh]",style:x(e.themeColor())},{default:p((()=>[N.value?_("v-if",!0):(t(),d(m,{key:0},[n(r,{class:"w-[100%] h-[500rpx] relative background-size box-border",style:x({backgroundImage:"url("+u(w)("addon/shop_fenxiao/sale-ranking.png")+")"})},null,8,["style"]),n(r,{class:"relative z-2 mt-[-104rpx] py-[30rpx] px-[var(--sidebar-m)] h-[calc(100vh-476rpx)] flex flex-col box-border flex flex-col"},{default:p((()=>[n(r,{class:"card-template !pb-[40rpx]"},{default:p((()=>[n(r,{class:"flex items-center -mt-[60rpx] ml-[10rpx]"},{default:p((()=>[n(r,{class:"w-[100rpx] h-[100rpx] flex-shrink-0"},{default:p((()=>[n(s,{width:"100rpx",height:"100rpx",radius:"50%",src:u(w)(C.value.headimg||""),model:"aspectFill",shape:"circle"},{error:p((()=>[n(l,{class:"w-[100rpx] h-[100rpx] rounded-[50%] overflow-hidden",src:u(w)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:1},8,["src"])])),_:1}),n(r,{class:"ml-[20rpx] mt-[20rpx] text-[30rpx] font-500"},{default:p((()=>[i(c(C.value.nickname||C.value.username),1)])),_:1})])),_:1}),n(r,{class:"flex w-full mt-[50rpx] ml-[10rpx] text-[#303133]"},{default:p((()=>[n(r,{class:"text-[28rpx]"},{default:p((()=>[n(E,{class:""},{default:p((()=>[i("排名：")])),_:1}),n(E,{class:"font-500"},{default:p((()=>[i("第"+c(u(K)||"-")+"名",1)])),_:1})])),_:1}),n(r,{class:"text-[28rpx] ml-[200rpx]"},{default:p((()=>[n(E,{class:""},{default:p((()=>[i("团队销售额: ")])),_:1}),n(E,{class:"font-500 text-[var(--primary-color)] price-font"},{default:p((()=>[i("￥"+c(u(k)(C.value.order_money)),1)])),_:1})])),_:1})])),_:1})])),_:1}),n(r,{class:"flex-1 mt-[var(--top-m)]"},{default:p((()=>[n(r,{class:"rounded-[var(--rounded-big)] bg-[#fff]"},{default:p((()=>[(t(!0),d(m,null,f(D.value,((e,a)=>(t(),o(r,{key:a,class:"flex items-center px-[30rpx] pb-[var(--pad-top-m)] pt-[calc(var(--pad-top-m)+30rpx)]"},{default:p((()=>[n(r,{class:"w-[35rpx] flex-shrink-0"},{default:p((()=>[n(r,{class:j(["text-center text-[40rpx] font-500",{"text-[#F0D232]":0===a,"text-[#B9D1E9]":1===a,"text-[#EECCB5]":2===a}])},{default:p((()=>[i(c(a+1),1)])),_:2},1032,["class"]),n(r,{class:"h-[4rpx] rounded-[2rpx] bg-[#e9e9eb] mt-[10rpx]"})])),_:2},1024),a<3?(t(),o(r,{key:0,class:"w-[88rpx] h-[88rpx] relative ml-[84rpx] flex-shrink-0"},{default:p((()=>[n(r,{class:"absolute z-10 right-[4rpx] bottom-[4rpx]"},{default:p((()=>[n(s,{width:"88rpx",height:"88rpx",src:u(w)(e.member.headimg||""),model:"aspectFill",shape:"circle",radius:"50%"},{error:p((()=>[n(l,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:u(w)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:2},1032,["src"])])),_:2},1024),n(l,{class:"w-[120rpx] h-[120rpx] absolute z-5 right-0 bottom-0",src:u(w)(`addon/shop_fenxiao/ranking${a+1}.png`),mode:"widthFix"},null,8,["src"])])),_:2},1024)):(t(),o(r,{key:1,class:"w-[88rpx] h-[88rpx] ml-[84rpx]"},{default:p((()=>[n(l,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:u(w)(e.member.headimg||""),mode:"aspectFill"},null,8,["src"])])),_:2},1024)),n(r,{class:"text-[26rpx] font-500 ml-[20rpx] flex-1"},{default:p((()=>[i(c(e.member.nickname||e.member.username),1)])),_:2},1024),n(r,{class:"text-[36rpx] font-500 ml-[20rpx] price-font"},{default:p((()=>[i(" ￥"+c(parseFloat(e.order_money).toFixed(2)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})],64)),n(B,{loading:N.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-11661057"]]);export{D as default};
