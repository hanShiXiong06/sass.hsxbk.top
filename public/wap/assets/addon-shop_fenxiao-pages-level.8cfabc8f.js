import{bG as e,d as a,j as t,r as l,x as o,o as r,c as s,w as n,b as d,u,y as p,z as x,f as i,U as _,ad as c,V as f,n as m,B as v,D as g,i as h,ac as F,g as b,h as y,E as k,F as w,W as D,a7 as C,al as j,_ as E}from"./index-71c7df08.js";import{_ as S}from"./loading-page.vue_vue_type_script_setup_true_lang.c7dc2256.js";import{b as A,a as z}from"./fenxiao.04341d50.js";import{t as B}from"./topTabbar.cb42d19f.js";import{a as N}from"./index.vue_vue_type_script_setup_true_lang.a08c4b4f.js";import"./goods.3be4f1b5.js";const T=E(a({__name:"level",setup(a){B().setTopTabbarParam({title:"分销商等级",topStatusBar:{textColor:"#333"}});const E=t((()=>({backgroundImage:"url("+k("addon/shop_fenxiao/level/level_top_bg.png")+") ",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"}))),T=l({style:"style-2",num:4,source:"all",margin:{both:10,bottom:0,top:0},priceStyle:{mainColor:"#ff4142",mainControl:!0},goodsNameStyle:{color:"#303133",control:!0,fontWeight:"normal"},saleStyle:{color:"#999",control:!0}});o((()=>{V(),P()}));const I=l(!0),W=l([]),G=l({}),L=()=>{e.get("shop_fenxiao/level").then((e=>{W.value=e.data,W.value.forEach(((e,a)=>{e.level_id==R.value.level_id&&(U.value=a,G.value=e)})),I.value=!1}))},O=l({}),P=()=>{A().then((e=>{O.value=e.data}))},R=l({}),U=l(0),V=()=>{z().then((e=>{R.value=e.data,L()}))},q=t((()=>{if(W.value.length&&W.value[U.value+1]){let e=W.value[U.value+1];if(e.task=[],e.complete=0,e.fenxiao_order_num>0){let a={title:"订单总数",desc:"一级分销订单总数满"+e.fenxiao_order_num+"个",condition:e.fenxiao_order_num,value:R.value.fenxiao_order_num,progress:parseFloat(R.value.fenxiao_order_num)>parseFloat(e.fenxiao_order_num)?100:(parseFloat(R.value.fenxiao_order_num)/parseFloat(e.fenxiao_order_num)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.fenxiao_commission>0){let a={title:"佣金总额",desc:"一级分销订单佣金总额满"+C(e.fenxiao_commission)+"元",condition:C(e.fenxiao_commission),value:C(R.value.fenxiao_commission),progress:parseFloat(R.value.fenxiao_commission)>parseFloat(e.fenxiao_commission)?100:(parseFloat(R.value.fenxiao_commission)/parseFloat(e.fenxiao_commission)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.fenxiao_order_money>0){let a={title:"订单总额",desc:"分销订单总额满"+C(e.fenxiao_order_money)+"元",condition:C(e.fenxiao_order_money),value:C(R.value.fenxiao_total_order),progress:parseFloat(R.value.fenxiao_total_order)>parseFloat(e.fenxiao_order_money)?100:(parseFloat(R.value.fenxiao_total_order)/parseFloat(e.fenxiao_order_money)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.order_num>0){let a={title:"自购订单总数",desc:"自购订单总数满"+e.order_num+"个",condition:e.order_num,value:R.value.add_up_data.order_num,progress:parseFloat(R.value.add_up_data.order_num)>parseFloat(e.order_num)?100:(parseFloat(R.value.add_up_data.order_num)/parseFloat(e.order_num)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.order_money>0){let a={title:"自购订单总额",desc:"自购订单总额满"+C(e.order_money)+"元",condition:C(e.order_money),value:C(R.value.add_up_data.order_sum),progress:parseFloat(R.value.add_up_data.order_sum)>parseFloat(e.order_money)?100:(parseFloat(R.value.add_up_data.order_sum)/parseFloat(e.order_money)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.child_num>0){let a={title:"下线人数",desc:"下线人数达到"+e.child_num+"人",condition:e.child_num,value:R.value.add_up_data.child_count,progress:parseFloat(R.value.add_up_data.child_count)>parseFloat(e.child_num)?100:(parseFloat(R.value.add_up_data.child_count)/parseFloat(e.child_num)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.child_fenxiao_num>0){let a={title:"下线分销商",desc:"下线分销商人数达到"+e.child_fenxiao_num+"人",condition:e.child_fenxiao_num,value:R.value.add_up_data.child_fenxiao_count,progress:parseFloat(R.value.add_up_data.child_fenxiao_count)>parseFloat(e.child_fenxiao_num)?100:(parseFloat(R.value.add_up_data.child_fenxiao_count)/parseFloat(e.child_fenxiao_num)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}return e.task_num=1==e.upgrade_type?1:e.task.length,e}})),H=l(),J=e=>{H.value=e||{}};return(e,a)=>{const t=v,l=g,o=h,C=j,A=F,z=b(y("loading-page"),S);return r(),s(o,{style:m(e.themeColor())},{default:n((()=>[I.value?i("v-if",!0):(r(),s(o,{key:0,class:"bg-[var(--page-bg-color)] min-h-[100vh]"},{default:n((()=>[d(o,{class:"pt-[40rpx] text-[#fff] w-full",style:m(u(E))},{default:n((()=>[d(o,{class:"flex items-center relative z-[20] mx-[30rpx] mb-[36rpx]"},{default:n((()=>[R.value.member.headimg?(r(),s(t,{key:0,class:"w-[90rpx] h-[90rpx] rounded-[50%]",src:u(k)(R.value.member.headimg),mode:"aspectFill"},null,8,["src"])):(r(),s(t,{key:1,class:"w-[90rpx] h-[90rpx] rounded-[50%]",src:u(k)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])),d(l,{class:"ml-[20rpx] text-[30rpx] truncate w-[300rpx] text-[#333] font-500"},{default:n((()=>[p(x(R.value.member.nickname),1)])),_:1})])),_:1}),d(o,{class:"relative level-content sidebar-margin"},{default:n((()=>[d(o,{class:"flex items-center ml-[10rpx]"},{default:n((()=>[d(o,{class:"flex items-baseline mr-[10rpx]"},{default:n((()=>[d(t,{class:"w-[30rpx] h-[24rpx]",src:u(k)("addon/shop_fenxiao/level/level_key.png"),mode:"widthFix"},null,8,["src"]),d(l,{class:"text-[#333] font-500 text-[24rpx] -ml-[7rpx]"},{default:n((()=>[p(x(U.value+1)+"13",1)])),_:1})])),_:1}),d(l,{class:"ml-[6rpx] mr-[10rpx] text-[#333] font-500 text-[30rpx] truncate max-w-[200rpx]"},{default:n((()=>[p(x(G.value.level_name),1)])),_:1}),d(l,{class:"rounded-[50rpx] h-[36rpx] flex-center px-[16rpx] text-[20rpx] text-[#F7D6A7] bg-[#38311F]"},{default:n((()=>[p("已解锁")])),_:1}),d(t,{class:"w-[230rpx] h-[200rpx] right-[40rpx] -top-[100rpx] absolute",src:u(k)("addon/shop_fenxiao/level/level_icon.png"),mode:"aspectFill"},null,8,["src"])])),_:1}),W.value[U.value+1]?(r(),s(o,{key:0,class:"text-[var(--text-color-light9)] mt-[20rpx] flex items-center ml-[10rpx]"},{default:n((()=>[d(l,{class:"text-[var(--text-color-light9)] text-[24rpx]"},{default:n((()=>[p(x(1==W.value[U.value+1].upgrade_type?u(w)("arbitraryCondition"):u(w)("allConditions"))+x(u(w)("upgradable")),1)])),_:1}),d(l,{class:"text-[var(--text-color-light9)] text-[24rpx]"},{default:n((()=>[p("为"+x(W.value[U.value+1].level_name),1)])),_:1}),d(o,{class:"flex items-center text-[24rpx] ml-[16rpx] price-font"},{default:n((()=>[d(l,{class:"text-[#CD6C00]"},{default:n((()=>[p(x(u(q).complete>u(q).task_num?u(q).task_num:u(q).complete),1)])),_:1}),d(l,{class:"text-[var(--text-color-light9)]"},{default:n((()=>[p("/"+x(u(q).task_num),1)])),_:1})])),_:1})])),_:1})):i("v-if",!0),d(o,{class:"flex my-[50rpx] ml-[10rpx]"},{default:n((()=>[O.value.fenxiao_config&&O.value.fenxiao_config.level>=1?(r(),s(o,{key:0,class:"flex-1 text-left"},{default:n((()=>[d(o,{class:"text-[var(--text-color-light9)] text-[24rpx]"},{default:n((()=>[p("一级分佣比率")])),_:1}),d(o,{class:"mt-[16rpx] price-font font-500 text-[#D97E1D] text-[36rpx]"},{default:n((()=>[p(x(G.value.one_rate),1),d(l,{class:"text-[24rpx] ml-[4rpx]"},{default:n((()=>[p("%")])),_:1})])),_:1})])),_:1})):i("v-if",!0),O.value.fenxiao_config&&O.value.fenxiao_config.level>=2?(r(),s(o,{key:1,class:"flex-1 text-left"},{default:n((()=>[d(o,{class:"text-[var(--text-color-light9)] text-[24rpx]"},{default:n((()=>[p("二级分佣比率")])),_:1}),d(o,{class:"mt-[16rpx] price-font font-500 text-[#D97E1D] text-[36rpx]"},{default:n((()=>[p(x(G.value.two_rate),1),d(l,{class:"text-[24rpx] ml-[4rpx]"},{default:n((()=>[p("%")])),_:1})])),_:1})])),_:1})):i("v-if",!0),O.value.team_config&&1==O.value.team_config.is_open?(r(),s(o,{key:2,class:"flex-1 text-left"},{default:n((()=>[d(o,{class:"text-[var(--text-color-light9)] text-[24rpx]"},{default:n((()=>[p("团队分佣比率")])),_:1}),d(o,{class:"mt-[16rpx] price-font font-500 text-[#D97E1D] text-[36rpx]"},{default:n((()=>[p(x(G.value.team_rate),1),d(l,{class:"text-[24rpx] ml-[4rpx]"},{default:n((()=>[p("%")])),_:1})])),_:1})])),_:1})):i("v-if",!0)])),_:1}),u(q)&&u(q).task?(r(),s(A,{key:1,"scroll-y":"true",class:"flex flex-col upgrade-content bg-[#fff] rounded-[var(--rounded-mid)] px-[20rpx] py-[30rpx] box-border"},{default:n((()=>[(r(!0),_(f,null,c(u(q).task,((e,a)=>(r(),s(o,{class:D(["flex items-center justify-between",{"pb-[40rpx]":a!=u(q).task.length-1}]),key:a},{default:n((()=>[d(o,{class:"flex flex-col flex-1"},{default:n((()=>[d(l,{class:"text-[28rpx] text-[#333] font-500"},{default:n((()=>[p(x(e.title),1)])),_:2},1024),d(o,{class:"mt-[10rpx] mb-[12rpx] rounded-[12rpx] overflow-hidden"},{default:n((()=>[d(C,{percent:e.progress,activeColor:"#D97E1D",backgroundColor:"#FAF0E5","stroke-width":"4"},null,8,["percent"])])),_:2},1024),d(o,{class:"flex items-center justify-between min-h-[34rpx]"},{default:n((()=>[d(l,{class:"text-[22rpx] text-[var(--text-color-light9)] price-font"},{default:n((()=>[p(x(e.desc),1)])),_:2},1024),d(o,{class:"flex items-center text-[28rpx] price-font"},{default:n((()=>[d(l,{class:"text-[#D97E1D]"},{default:n((()=>[p(x(Number(e.value)),1)])),_:2},1024),d(l,{class:"text-[#bbb]"},{default:n((()=>[p("/"+x(Number(e.condition)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(l,{class:"rounded-[50rpx] ml-[30rpx] w-[130rpx] h-[60rpx] flex-center text-[24rpx] text-[#F7D6A7] bg-[#38311F]"},{default:n((()=>[p("去邀请")])),_:1})])),_:2},1032,["class"])))),128))])),_:1})):i("v-if",!0)])),_:1})])),_:1},8,["style"]),d(o,{class:"mt-[60rpx] flex flex-col items-center sidebar-margin pb-[30rpx]"},{default:n((()=>[H.value&&Object.keys(H.value).length?(r(),s(o,{key:0,class:"flex items-center mb-[30rpx]"},{default:n((()=>[d(t,{class:"w-[38rpx] h-[22rpx]",src:u(k)("addon/shop_fenxiao/level/title_left.png"),mode:"aspectFill"},null,8,["src"]),d(l,{class:"text-[30rpx] mx-[18rpx] font-500 text-[#EF000C]"},{default:n((()=>[p("猜你喜欢")])),_:1}),d(t,{class:"w-[38rpx] h-[22rpx]",src:u(k)("addon/shop_fenxiao/level/title_right.png"),mode:"aspectFill"},null,8,["src"])])),_:1})):i("v-if",!0),d(N,{onLoadingFn:J,component:T.value},null,8,["component"])])),_:1})])),_:1})),d(z,{loading:I.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-61b250a1"]]);export{T as default};
