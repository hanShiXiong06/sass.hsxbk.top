import{d as e,r as s,o as l,c as t,w as a,b as r,E as o,F as c,u as n,G as m,f as p,n as i,a5 as u,a6 as d,i as x,x as f,y as _,V as b,a as y,C as v,N as g}from"./index-905183d4.js";import{M as h}from"./mescroll-body.b8d008ed.js";import{M as j}from"./mescroll-empty.f9bce990.js";import{u as w}from"./useMescroll.26ccf5de.js";import{c as k}from"./verify.a1cbf2dc.js";import"./mescroll-uni-option.0af4878d.js";import"./mescroll-i18n.6025c811.js";import"./_plugin-vue_export-helper.1b428a4d.js";/* empty css                                                                       */const C=e({__name:"record",setup(e){let C=s([]),M=s(!1);const{mescrollInit:D,downCallback:E,getMescroll:F}=w(d,u),I=e=>{M.value=!1;let s={page:e.num,limit:e.size};k(s).then((s=>{let l=s.data.data;1==e.num&&(C.value=[]),C.value=C.value.concat(l),e.endSuccess(l.length),M.value=!0})).catch((()=>{M.value=!0,e.endErr()}))};return(e,s)=>{const u=v,d=x,w=g;return l(),t(d,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden",style:i(e.themeColor())},{default:a((()=>[r(h,{ref:"mescrollRef",top:"30rpx",onInit:n(D),onDown:n(E),onUp:I},{default:a((()=>[r(d,{class:"ml-[30rpx] mr-[30rpx]"},{default:a((()=>[(l(!0),o(m,null,c(n(C),((e,s)=>(l(),t(d,{key:e.id,class:"w-full flex flex-col mb-3 bg-[#fff] py-3 px-4 box-border rounded-[18rpx]",onClick:s=>{y({url:"/app/pages/verify/detail",param:{code:e.code}})}},{default:a((()=>[r(d,{class:"flex items-center justify-between border-0 border-b-[4rpx] border-[#eee] border-solid pb-[20rpx]"},{default:a((()=>[r(u,{class:"truncate w-[460rpx] text-[#999] text-xs"},{default:a((()=>[f("核销码："+_(e.code),1)])),_:2},1024),r(u,{class:"text-[#999] text-xs"},{default:a((()=>[f("核销员："+_(e.member?e.member.nickname:"--"),1)])),_:2},1024)])),_:2},1024),(l(!0),o(m,null,c(e.value.list,((s,o)=>(l(),t(d,{class:"py-[30rpx] flex",key:o},{default:a((()=>[s.cover?(l(),t(w,{key:0,class:"w-[120rpx] h-[120rpx]",mode:"aspectFit",src:n(b)(s.cover)},null,8,["src"])):(l(),t(w,{key:1,class:"w-[80rpx] h-[80rpx]",mode:"aspectFit",src:n(b)("addon/tourism/tourism/member/hotel.png")},null,8,["src"])),r(d,{class:"flex flex-col justify-between ml-[20rpx]"},{default:a((()=>[r(d,{class:"multi-hidden leading-[1.2] text-xs"},{default:a((()=>[f(_(s.name),1)])),_:2},1024),r(u,{class:"text-[#999] text-xs mt-[20rpx]"},{default:a((()=>[f("核销时间："+_(e.create_time),1)])),_:2},1024),r(d,{class:"text-[#999] mt-[6rpx]"},{default:a((()=>[f("x1")])),_:1})])),_:2},1024)])),_:2},1024)))),128))])),_:2},1032,["onClick"])))),128))])),_:1}),!n(C).length&&n(M)?(l(),t(j,{key:0,option:{icon:n(b)("static/resource/images/empty.png")}},null,8,["option"])):p("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1},8,["style"])}}});export{C as default};
