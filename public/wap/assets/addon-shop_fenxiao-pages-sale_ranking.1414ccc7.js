import{d as e,r as a,p as r,t as s,a as l,j as t,o,c as p,w as d,O as n,b as i,n as u,u as c,y as x,z as m,P as f,a6 as _,f as h,i as g,B as v,g as b,h as y,D as k,E as w,a0 as j,Q as F}from"./index-2882a2d8.js";import{_ as z}from"./u--image.d52c0594.js";import{_ as E}from"./loading-page.vue_vue_type_script_setup_true_lang.cb99ee23.js";import{d as C,e as B}from"./sale.7b87516b.js";import{_ as D}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-image.46ebbbc1.js";import"./u-icon.1104ad2f.js";import"./u-transition.4448d2e5.js";import"./u-loading-page.8280c7ab.js";import"./u-loading-icon.a37f7e61.js";/* empty css                                                                       */const I=D(e({__name:"sale_ranking",setup(e){const D=a({}),I=a([]);r((e=>{if(!e.id)return s({title:"缺少参数id",icon:"none"}),void setTimeout((()=>{l({url:"/addon/shop/pages/index",mode:"reLaunch"})}),1e3);$(Number(e.id)),L(Number(e.id))}));const N=a(!0),$=e=>{C(e).then((e=>{D.value=e.data.member,D.value.order_money=e.data.order_money,D.value.currentRanking=0})).catch((()=>{N.value=!1}))},L=e=>{B(e).then((e=>{I.value=e.data,N.value=!1})).catch((()=>{N.value=!1}))},O=t((()=>{let e=null;return I.value.forEach(((a,r)=>{a.member.member_id===D.value.member_id&&(e=r+1)})),e}));return(e,a)=>{const r=g,s=v,l=b(y("u--image"),z),t=k,C=b(y("loading-page"),E);return o(),p(r,{class:"bg-[var(--page-bg-color)] min-h-[100vh]",style:u(e.themeColor())},{default:d((()=>[N.value?h("v-if",!0):(o(),n(f,{key:0},[i(r,{class:"w-[100%] h-[500rpx] relative background-size box-border",style:u({backgroundImage:"url("+c(w)("addon/shop_fenxiao/sale-ranking.png")+")"})},null,8,["style"]),i(r,{class:"relative z-2 mt-[-104rpx] py-[30rpx] px-[var(--sidebar-m)] h-[calc(100vh-476rpx)] flex flex-col box-border flex flex-col"},{default:d((()=>[i(r,{class:"card-template !pb-[40rpx]"},{default:d((()=>[i(r,{class:"flex items-center -mt-[60rpx] ml-[10rpx]"},{default:d((()=>[i(r,{class:"w-[100rpx] h-[100rpx] flex-shrink-0"},{default:d((()=>[i(l,{width:"100rpx",height:"100rpx",radius:"50%",src:c(w)(D.value.headimg||""),model:"aspectFill",shape:"circle"},{error:d((()=>[i(s,{class:"w-[100rpx] h-[100rpx] rounded-[50%] overflow-hidden",src:c(w)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:1},8,["src"])])),_:1}),i(r,{class:"ml-[20rpx] mt-[20rpx] text-[30rpx] font-500"},{default:d((()=>[x(m(D.value.nickname||D.value.username),1)])),_:1})])),_:1}),i(r,{class:"flex w-full mt-[50rpx] ml-[10rpx] text-[#303133]"},{default:d((()=>[i(r,{class:"text-[28rpx]"},{default:d((()=>[i(t,{class:""},{default:d((()=>[x("排名：")])),_:1}),i(t,{class:"font-500"},{default:d((()=>[x("第"+m(c(O)||"-")+"名",1)])),_:1})])),_:1}),i(r,{class:"text-[28rpx] ml-[200rpx]"},{default:d((()=>[i(t,{class:""},{default:d((()=>[x("团队销售额: ")])),_:1}),i(t,{class:"font-500 text-[var(--primary-color)] price-font"},{default:d((()=>[x("￥"+m(c(j)(D.value.order_money)),1)])),_:1})])),_:1})])),_:1})])),_:1}),i(r,{class:"flex-1 mt-[var(--top-m)]"},{default:d((()=>[i(r,{class:"rounded-[var(--rounded-big)] bg-[#fff]"},{default:d((()=>[(o(!0),n(f,null,_(I.value,((e,a)=>(o(),p(r,{key:a,class:"flex items-center px-[30rpx] pb-[var(--pad-top-m)] pt-[calc(var(--pad-top-m)+30rpx)]"},{default:d((()=>[i(r,{class:"w-[35rpx] flex-shrink-0"},{default:d((()=>[i(r,{class:F(["text-center text-[40rpx] font-500",{"text-[#F0D232]":0===a,"text-[#B9D1E9]":1===a,"text-[#EECCB5]":2===a}])},{default:d((()=>[x(m(a+1),1)])),_:2},1032,["class"]),i(r,{class:"h-[4rpx] rounded-[2rpx] bg-[#e9e9eb] mt-[10rpx]"})])),_:2},1024),a<3?(o(),p(r,{key:0,class:"w-[88rpx] h-[88rpx] relative ml-[84rpx] flex-shrink-0"},{default:d((()=>[i(r,{class:"absolute z-10 right-[4rpx] bottom-[4rpx]"},{default:d((()=>[i(l,{width:"88rpx",height:"88rpx",src:c(w)(e.member.headimg||""),model:"aspectFill",shape:"circle",radius:"50%"},{error:d((()=>[i(s,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:c(w)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:2},1032,["src"])])),_:2},1024),i(s,{class:"w-[120rpx] h-[120rpx] absolute z-5 right-0 bottom-0",src:c(w)(`addon/shop_fenxiao/ranking${a+1}.png`),mode:"widthFix"},null,8,["src"])])),_:2},1024)):(o(),p(r,{key:1,class:"w-[88rpx] h-[88rpx] ml-[84rpx]"},{default:d((()=>[i(s,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:c(w)(e.member.headimg||""),mode:"aspectFill"},null,8,["src"])])),_:2},1024)),i(r,{class:"text-[26rpx] font-500 ml-[20rpx] flex-1"},{default:d((()=>[x(m(e.member.nickname||e.member.username),1)])),_:2},1024),i(r,{class:"text-[36rpx] font-500 ml-[20rpx] price-font"},{default:d((()=>[x(" ￥"+m(parseFloat(e.order_money).toFixed(2)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})],64)),i(C,{loading:N.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-9b45f59b"]]);export{I as default};
