import{d as e,r as t,p as l,o as s,U as a,b as r,w as o,u as d,c as f,V as n,ad as c,f as i,ae as u,af as _,i as m,ac as x,g as p,h as v,W as y,y as g,z as b,E as k,D as h,b7 as I,_ as w}from"./index-71c7df08.js";import{_ as j}from"./tabbar.a37cc2d9.js";import{_ as C}from"./pay.6aa36878.js";import{g as R,a as z,d as M}from"./orderadd.08ea970a.js";import{M as S}from"./mescroll-body.49de0f6f.js";import{M as D}from"./mescroll-empty.95b8c17e.js";import{u as U}from"./useMescroll.26ccf5de.js";import{g as E}from"./goto.334b67ec.js";import"./cloneDeep.77735539.js";import"./pay.4cfa8889.js";import"./mescroll-i18n.00218d15.js";/* empty css                                                                       */const O=w(e({__name:"orderaddlist",setup(e){const w=t(null),O=t(!1),{mescrollInit:L,downCallback:P,getMescroll:V}=U(_,u);let q=t([]),A=t(!1),N=t(!1),Q=t(""),W=t([]);t([]),l((e=>{Q.value=e.status||"0",B()}));const Y=e=>{A.value=!1;let t={page:e.num,limit:e.size,order_status:Q.value};console.log(Q.value),z(t).then((t=>{let l=t.data.data;1==e.num&&(q.value=[]),q.value=q.value.concat(l),e.endSuccess(l.length),A.value=!0})).catch((()=>{A.value=!0,e.endErr()}))},B=()=>{N.value=!1,W.value=[],R().then((e=>{Object.values(e.data).forEach(((e,t)=>{W.value.push(e)})),N.value=!0})).catch((()=>{N.value=!0}))};return(e,t)=>{const l=m,u=x,_=h,R=p(v("up-icon"),I),z=p(v("tabbar"),j),U=p(v("pay"),C);return s(),a(n,null,[r(l,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden"},{default:o((()=>[d(N)?(s(),f(l,{key:0,class:"fixed left-0 top-0 right-0 z-10 mb-2"},{default:o((()=>[r(u,{"scroll-x":"true",class:"scroll-Y box-border px-[24rpx] bg-white"},{default:o((()=>[r(l,{class:"flex whitespace-nowrap justify-around"},{default:o((()=>[(s(!0),a(n,null,c(d(W),((e,t)=>(s(),f(l,{class:y(["text-sm leading-[90rpx]",{"class-select":d(Q)===e.status.toString()}]),onClick:t=>{return l=e.status,Q.value=l.toString(),q.value=[],void V().resetUpScroll();var l}},{default:o((()=>[g(b(e.name),1)])),_:2},1032,["class","onClick"])))),256))])),_:1})])),_:1})])),_:1})):i("v-if",!0),r(S,{ref:"mescrollRef",top:"44rpx",onInit:d(L),onDown:d(P),onUp:Y},{default:o((()=>[d(q).length>0?(s(!0),a(n,{key:0},c(d(q),((t,u)=>(s(),f(l,{class:"tk-card",key:"index"},{default:o((()=>[r(l,{class:"text-xs font-weight",onClick:e=>d(E)("/addon/tk_jhkd/pages/orderdetail?id="+t.orderInfo.id)},{default:o((()=>[g("订单号:"+b(t.order_id),1)])),_:2},1032,["onClick"]),r(l,{class:"fb flex justify-between"},{default:o((()=>[r(l,{class:"text-xs font-weight"},{default:o((()=>[t.orderInfo.delivery_id?(s(),f(l,{key:0,class:"flex items-center",onClick:l=>e.copy(t.orderInfo.delivery_id)},{default:o((()=>[r(_,{class:"mr-2 text-primary text-xs mt-1"},{default:o((()=>[g("运单号:"+b(t.orderInfo.delivery_id),1)])),_:2},1024),r(l,null,{default:o((()=>[r(R,{class:"border-1 rounded",name:"cut",color:"#4541c7",size:"16"})])),_:1})])),_:2},1032,["onClick"])):i("v-if",!0)])),_:2},1024)])),_:2},1024),t.orderInfo?(s(),f(l,{key:0,class:"flex justify-center mt-3"},{default:o((()=>[r(l,{class:"flex items-center"},{default:o((()=>[r(l,{class:"mr-2"},{default:o((()=>[r(_,{class:"qu-tag text-sm p-2 rounded-xl"},{default:o((()=>[g("寄")])),_:1})])),_:1}),r(l,{class:"flex flex-col items-center"},{default:o((()=>[r(l,{class:"text-sm font-bold flex"},{default:o((()=>[r(l,{class:""},{default:o((()=>[g(b(t.orderInfo.start_address.address.split("-")[0]),1)])),_:2},1024)])),_:2},1024),r(l,{class:"tk-sltext text-xs text-[#4b4b4b]"},{default:o((()=>[g(b(t.orderInfo.start_address.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(l,{class:"flex items-center ml-4 mr-4"},{default:o((()=>[r(l,{class:"flex"},{default:o((()=>[r(l,null,{default:o((()=>[r(R,{name:"more-dot-fill",color:"#63625f",size:"28"})])),_:1}),r(l,null,{default:o((()=>[r(R,{name:"more-dot-fill",color:"#63625f",size:"28"})])),_:1}),r(l,null,{default:o((()=>[r(R,{name:"arrow-right",color:"#63625f",size:"28"})])),_:1})])),_:1})])),_:1}),r(l,{class:"flex items-center"},{default:o((()=>[r(l,{class:"mr-4"},{default:o((()=>[r(_,{class:"song-tag text-sm p-2 rounded-xl"},{default:o((()=>[g("收")])),_:1})])),_:1}),r(l,{class:""},{default:o((()=>[r(l,{class:"flex flex-col items-center"},{default:o((()=>[r(l,{class:"text-sm font-bold flex"},{default:o((()=>[r(l,{class:""},{default:o((()=>[g(b(t.orderInfo.end_address.address.split("-")[0]),1)])),_:2},1024)])),_:2},1024),r(l,{class:"tk-sltext text-xs text-[#4b4b4b]"},{default:o((()=>[g(b(t.orderInfo.end_address.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)):i("v-if",!0),r(l,{class:"flex mt-4 items-center justify-between"},{default:o((()=>[r(l,{class:"text-xs text-slate-600"},{default:o((()=>[g("下单时间:"+b(t.orderInfo.create_time),1)])),_:2},1024)])),_:2},1024),r(l,{class:"line-box1"}),t.deliveryRealInfo.fee_weight>0&&t.deliveryRealInfo.fee_weight-t.orderInfo.weight>0&&0==t.order_status?(s(),f(l,{key:1},{default:o((()=>[r(l,{class:"flex items-center mt-1 mb-2 flex text-xs font-bold p-2 text-[24rpx] bg-[#e5fffb] rounded-lg text-red bg-opacity-50"},{default:o((()=>[t.deliveryRealInfo.fee_weight>t.orderInfo.weight?(s(),f(l,{key:0,class:""},{default:o((()=>[g(" 超重: "+b(Math.ceil(t.deliveryRealInfo.fee_weight-t.orderInfo.weight))+"kg;￥"+b(Math.ceil(t.deliveryRealInfo.fee_weight-t.orderInfo.weight)*t.orderInfo.price_rule.add)+"; ",1)])),_:2},1024)):i("v-if",!0),t.deliveryRealInfo.fee_blockList?(s(!0),a(n,{key:1},c(t.deliveryRealInfo.fee_blockList,((e,t)=>(s(),f(l,{class:""},{default:o((()=>[g(b(e.name)+":￥"+b(e.fee),1)])),_:2},1024)))),256)):i("v-if",!0)])),_:2},1024),r(l,{class:"flex justify-end mt-1 items-center"},{default:o((()=>[r(l,{class:"font-bold text-red text-[28rpx]"},{default:o((()=>[g(" 需补差价:￥"+b(t.order_money),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):(s(),f(l,{key:2},{default:o((()=>[r(l,{class:"flex"},{default:o((()=>[1==t.order_status?(s(),f(l,{key:0,class:"flex text-xs font-bold ml-2 p-2 text-[24rpx] bg-[#e5fffb] rounded-lg text-red bg-opacity-50"},{default:o((()=>[g(" 已补差价：￥ "+b(t.order_money),1)])),_:2},1024)):i("v-if",!0)])),_:2},1024)])),_:2},1024)),r(l,{class:"line-box1"}),r(l,{class:"fb items-center"},{default:o((()=>[r(l,{class:"text-xs"},{default:o((()=>[g(b(t.create_time),1)])),_:2},1024),0==t.order_status?(s(),f(l,{key:0,class:"tk-tag",onClick:e=>(e=>{var t;O.value=!0,null==(t=w.value)||t.open("jhkdOrderAddPay",e.id,"/addon/tk_jhkd/pages/orderaddlist")})(t)},{default:o((()=>[g("立即支付")])),_:2},1032,["onClick"])):i("v-if",!0),1==t.order_status?(s(),f(l,{key:1,class:"tk-tag",onClick:e=>(async e=>{await M(e),V().resetUpScroll()})(t.id)},{default:o((()=>[g("删除订单")])),_:2},1032,["onClick"])):i("v-if",!0)])),_:2},1024)])),_:2},1024)))),128)):i("v-if",!0),!d(q).length&&d(A)?(s(),f(D,{key:1,option:{icon:d(k)("static/resource/images/empty.png")}},null,8,["option"])):i("v-if",!0)])),_:1},8,["onInit","onDown"])])),_:1}),r(z,{addon:"tk_jhkd"}),r(U,{ref_key:"payRef",ref:w,onClose:t[0]||(t[0]=e=>O.value=!1)},null,512)],64)}}}),[["__scopeId","data-v-113168cf"]]);export{O as default};
