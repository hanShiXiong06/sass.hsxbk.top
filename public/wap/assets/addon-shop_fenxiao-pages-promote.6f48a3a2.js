import{d as e,r as a,o as t,c as s,w as l,n as r,u as o,b as n,y as d,z as p,f as x,I as i,a as c,B as u,D as f,i as m,g as _,h as v,C as g,E as h,a1 as b}from"./index-7bf68536.js";import{_ as y}from"./u-parse.525658f5.js";import{_ as j}from"./loading-page.vue_vue_type_script_setup_true_lang.124ad65f.js";import{c as k,d as w,f as C}from"./fenxiao.745a840a.js";import{_ as z}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-page.566c330a.js";import"./u-loading-icon.b37701e7.js";import"./u-transition.cdf87992.js";const I=z(e({__name:"promote",setup(e){const z=a(!0),I=a({}),B=a(0);k().then((e=>{B.value=e.data.length||0})).catch((()=>{B.value=0}));const D=a(0);w().then((e=>{D.value=e.data.direct.length+e.data.indirect.length||0})).catch((()=>{D.value=0}));const E=a({});z.value=!0,C().then((e=>{E.value=e.data,z.value=!1}));i("fenxiao_poster").then((e=>{I.value=e.data.content}));const G=()=>{c({url:"/addon/shop_fenxiao/pages/promote_code",param:{id:E.value.member_id}})};return(e,a)=>{const i=u,k=f,w=m,C=_(v("u-parse"),y),S=g,q=_(v("loading-page"),j);return t(),s(w,{class:"min-h-[100vh]",style:r(e.themeColor())},{default:l((()=>[z.value?x("v-if",!0):(t(),s(w,{key:0,class:"min-h-[100vh] px-[var(--sidebar-m)] pt-[30rpx] pb-[160rpx] box-border",style:r({background:"url("+o(h)("addon/shop_fenxiao/index/promote_bg.png")+") #ff2d46 left top /100% no-repeat"})},{default:l((()=>[n(w,{class:"mt-[230rpx] bg-[#fff] rounded-[var(--rounded-big)]"},{default:l((()=>[n(w,{class:"flex flex-col justify-center rounded-[var(--rounded-big)]"},{default:l((()=>[n(i,{class:"w-[384rpx] h-[74rpx] m-auto -mt-[20rpx]",src:o(h)("addon/shop_fenxiao/index/my_earnings.png"),mode:""},null,8,["src"]),n(w,{class:"flex flex-col items-center justify-center text-[24rpx] pt-[50rpx] pb-[20rpx]"},{default:l((()=>[n(w,{class:"inline-block mb-[14rpx]"},{default:l((()=>[n(k,{class:"font-500 text-[26rpx]"},{default:l((()=>[d("￥")])),_:1}),E.value.member?(t(),s(k,{key:0,class:"text-[40rpx] ml-[4rpx] price-font"},{default:l((()=>[d(p(o(b)(E.value.member.commission_get||0)),1)])),_:1})):x("v-if",!0)])),_:1}),n(w,{class:"flex items-center"},{default:l((()=>[n(i,{class:"w-[40rpx] h-[40rpx]",src:o(h)("addon/shop_fenxiao/index/money.png"),mode:""},null,8,["src"]),n(w,{class:"text-[var(--text-color-light6)]"},{default:l((()=>[d("累计收益")])),_:1})])),_:1})])),_:1})])),_:1}),n(w,{class:"flex justify-around pt-[30rpx] pb-[60rpx]"},{default:l((()=>[n(w,{class:"flex items-center flex-col",onClick:a[0]||(a[0]=e=>o(c)({url:"/addon/shop_fenxiao/pages/team"}))},{default:l((()=>[n(k,{class:"text-[#303133] text-[36rpx] font-500"},{default:l((()=>[d(p(D.value),1)])),_:1}),n(k,{class:"text-[26rpx] text-[var(--text-color-light6)] mt-[20rpx]"},{default:l((()=>[d("我的团队人数")])),_:1})])),_:1}),n(w,{class:"flex items-center flex-col",onClick:a[1]||(a[1]=e=>o(c)({url:"/addon/shop_fenxiao/pages/child_fenxiao"}))},{default:l((()=>[n(k,{class:"text-[#303133] text-[36rpx] font-500"},{default:l((()=>[d(p(B.value),1)])),_:1}),n(k,{class:"text-[26rpx] text-[var(--text-color-light6)] mt-[20rpx]"},{default:l((()=>[d("分销商人数")])),_:1})])),_:1})])),_:1})])),_:1}),n(w,{class:"mt-[100rpx] bg-[#fff] rounded-[var(--rounded-big)] flex flex-col px-[var(--pad-sidebar-m)] pb-[50rpx]"},{default:l((()=>[n(i,{class:"w-[384rpx] h-[74rpx] m-auto -mt-[20rpx] mb-[30rpx]",src:o(h)("addon/shop_fenxiao/index/activity_rules.png"),mode:""},null,8,["src"]),I.value?(t(),s(w,{key:0,class:"content"},{default:l((()=>[n(C,{content:I.value,tagStyle:{img:"vertical-align: top;",p:"overflow: hidden;word-break:break-word;"}},null,8,["content"]),x(' <rich-text :nodes="promoteContent"></rich-text> ')])),_:1})):(t(),s(w,{key:1,class:"rules-empty"},{default:l((()=>[d("暂无活动规则")])),_:1}))])),_:1}),n(w,{class:"fixed left-[var(--sidebar-m)] bottom-[30rpx] right-[var(--sidebar-m)] flex items-center z-10"},{default:l((()=>[n(S,{class:"w-[100%] h-[80rpx] flex-center level-wrap font-500 text-[#985400] rounded-[90rpx] text-[26rpx]",onClick:G},{default:l((()=>[d("邀请好友")])),_:1})])),_:1})])),_:1},8,["style"])),n(q,{loading:z.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-10589e2d"]]);export{I as default};
