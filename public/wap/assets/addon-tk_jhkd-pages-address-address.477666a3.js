import{d as e,r as t,j as a,aD as s,t as l,o as r,c as o,w as i,f as d,b as u,e as n,v as c,E as p,F as f,G as x,u as m,H as _,n as b,a as v,i as y,g as k,h,a4 as g,x as j,y as C,aE as w,aF as S,C as A}from"./index-e6ce9fbf.js";import{_ as E}from"./u-swipe-action-item.d61225bf.js";import{_ as F}from"./u-swipe-action.e6056ca3.js";import{_ as I}from"./u-button.7a41d301.js";import{_ as z}from"./u-tabbar.2615c204.js";import{M as $}from"./mescroll-empty.b423055b.js";import{_ as H}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.c5d9cd81.js";import"./u-loading-icon.39fd4711.js";import"./u-safe-bottom.1ba5bfba.js";import"./mescroll-uni-option.2f7b06f4.js";import"./mescroll-i18n.6025c811.js";/* empty css                                                                       */const T=H(e({__name:"address",setup(e){const H=t(!0),T=t(0),B=t([{name:"快递地址",key:"address"},{name:"同城配送地址",key:"location_address"}]),D=t([]),G=t([]),M=t(""),q=t("");a((e=>{M.value=e.type||"",q.value=e.source||"",e.type&&(T.value="address"==e.type?0:1)})),s({}).then((({data:e})=>{const t=[],a=[];e.forEach((e=>{"address"==e.type?t.push(e):a.push(e)})),q.value?D.value=0==T.value?t:a:D.value=e,H.value=!1})).catch((()=>{H.value=!1}));const J=()=>{const e=`/addon/tk_jhkd/pages/address/${B.value[T.value].key}_edit`;v({url:e,param:{type:B.value[T.value].key,source:q.value}})},K=e=>{const t=`/addon/tk_jhkd/pages/address/${B.value[T.value].key}_edit`;v({url:t,param:{id:e,type:B.value[T.value].key,source:q.value}})},L=t([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]),N=e=>{const t=uni.getStorageSync("selectAddressCallback");t&&(t.address_id=e.id,uni.setStorage({key:"selectAddressCallback",data:t,success(){v({url:t.back,mode:"redirectTo"})}}))},O=e=>{const t=T.value?G:D,a=t.value[e.index];S(a.id).then((()=>{t.value.splice(e.index,1)})).catch()};return(e,t)=>{const a=y,s=A,v=k(h("u-swipe-action-item"),E),S=k(h("u-swipe-action"),F),B=k(h("u-button"),I),M=k(h("u-tabbar"),z),P=g;return H.value?d("v-if",!0):(r(),o(a,{key:0,style:b(e.themeColor())},{default:i((()=>[d(' <view class="border-0 !border-b !border-[#eee] border-solid fixed top-0 left-0 right-0 z-99 bg-[#fff]"\r\n\t\t\tv-if="!source">\r\n\t\t\t<u-tabs :list="tabs" @click="switchTab" :current="current"\r\n\t\t\t\titemStyle="width:50%;height:88rpx;box-sizing: border-box;"></u-tabs>\r\n\t\t</view> '),u(P,{"scroll-y":"true",class:_({"pt-[0rpx]":!q.value})},{default:i((()=>[u(S,null,{default:i((()=>[n(u(a,{class:"p-[12rpx]"},{default:i((()=>[(r(!0),p(x,null,f(D.value,(e=>(r(),o(v,{options:L.value,onClick:O},{default:i((()=>[u(a,{class:"border-0 !border-b !border-[#f5f5f5] border-solid pb-[30rpx] flex items-center p-2"},{default:i((()=>[u(a,{class:"flex-1 line-feed",onClick:t=>N(e)},{default:i((()=>[u(a,{class:"font-bold my-[10rpx] text-sm line-feed"},{default:i((()=>[j(C(e.full_address),1)])),_:2},1024),u(a,{class:"text-sm flex items-center"},{default:i((()=>[u(a,null,{default:i((()=>[j(C(e.name),1)])),_:2},1024),u(s,{class:"text-[26rpx] text-gray-subtitle"},{default:i((()=>[j(C(m(w)(e.mobile)),1)])),_:2},1024),1==e.is_default?(r(),o(a,{key:0,class:"bg-primary text-white text-xs px-[10rpx] leading-none flex items-center h-[32rpx] ml-[10rpx] rounded min-w-[50rpx]"},{default:i((()=>[j(C(m(l)("default")),1)])),_:1})):d("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"]),u(s,{class:"iconfont iconbianji shrink-0 text-[40rpx] p-[20rpx] pr-0",onClick:t=>K(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options"])))),256)),D.value.length?d("v-if",!0):(r(),o(a,{key:0,class:"pt-[20vh]"},{default:i((()=>[u($,{option:{tip:"暂无收货地址"}})])),_:1}))])),_:1},512),[[c,0==T.value]]),n(u(a,{class:"p-[30rpx]"},{default:i((()=>[(r(!0),p(x,null,f(G.value,(e=>(r(),o(v,{options:L.value,onClick:O},{default:i((()=>[u(a,{class:"border-0 !border-b !border-[#f5f5f5] border-solid pb-[30rpx] flex items-center"},{default:i((()=>[u(a,{class:"flex-1",onClick:t=>N(e)},{default:i((()=>[u(a,{class:"font-bold my-[10rpx] text-sm line-feed"},{default:i((()=>[j(C(e.full_address),1)])),_:2},1024),u(a,{class:"text-sm flex items-center"},{default:i((()=>[u(a,null,{default:i((()=>[j(C(e.name),1)])),_:2},1024),u(s,{class:"text-[26rpx] text-gray-subtitle"},{default:i((()=>[j(C(m(w)(e.mobile)),1)])),_:2},1024),1==e.is_default?(r(),o(a,{key:0,class:"bg-primary text-white text-xs px-[10rpx] leading-none flex items-center h-[32rpx] ml-[10rpx] rounded min-w-[50rpx]"},{default:i((()=>[j(C(m(l)("default")),1)])),_:1})):d("v-if",!0)])),_:2},1024)])),_:2},1032,["onClick"]),u(s,{class:"iconfont iconbianji shrink-0 text-[40rpx] p-[20rpx] pr-0",onClick:t=>K(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options"])))),256)),G.value.length?d("v-if",!0):(r(),o(a,{key:0,class:"pt-[20vh]"},{default:i((()=>[u($,{option:{tip:"暂无收货地址"}})])),_:1}))])),_:1},512),[[c,1==T.value]])])),_:1}),u(M,{fixed:!0,safeAreaInsetBottom:!0,border:!1,zIndex:"99"},{default:i((()=>[u(a,{class:"p-[24rpx] pt-0 w-full"},{default:i((()=>[u(B,{type:"primary",shape:"circle",text:m(l)("createAddress"),onClick:J},null,8,["text"])])),_:1})])),_:1})])),_:1},8,["class"])])),_:1},8,["style"]))}}}),[["__scopeId","data-v-082730fa"]]);export{T as default};
