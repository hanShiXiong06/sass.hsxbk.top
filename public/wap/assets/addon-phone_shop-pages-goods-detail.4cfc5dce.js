import{d as e,r as t,p as l,m as a,o as r,c as s,w as o,b as u,u as d,Y as i,y as p,z as n,f as x,I as c,J as f,K as _,L as m,C as v,aK as g,H as b,a as h,l as y,bp as k,Q as w,g as j,h as C,i as F,D as S,a2 as O,E as T,G as V,j as z,X as A,s as L,af as B,a7 as E,be as I,a4 as D,b0 as N,b$ as R,n as P,S as U,b3 as J,U as M,V as H,b4 as $}from"./index-d8a8f699.js";import{_ as K}from"./u-swiper.efc69b22.js";import{_ as X}from"./u-count-down.c4f9dc91.js";import{_ as Y}from"./u-tag.4e38a1df.js";import{_ as G}from"./u-avatar.f700209e.js";import{_ as Q}from"./u-icon.5ba98c98.js";import{_ as W}from"./u--image.2df700b8.js";import{_ as Z}from"./u-parse.8b113dfe.js";import{_ as q,a as ee}from"./u-popup.0d48946e.js";import{_ as te}from"./u-loading-page.c740ef13.js";import{d as le,e as ae,f as re,h as se,c as oe}from"./goods.0e06a97b.js";import{b as ue,d as de}from"./coupon.092bbaa2.js";import{_ as ie}from"./u-number-box.a80e7907.js";import{u as pe}from"./cart.40fb322b.js";import{b as ne}from"./bind-mobile.63a8d6d0.js";import{_ as xe}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as ce}from"./share-poster.b1e17ebe.js";import{M as fe}from"./mescroll-empty.2fe85dec.js";import{M as _e}from"./mescroll-body.f9302aea.js";import"./u-loading-icon.6808ae8c.js";import"./u-transition.db07fff7.js";import"./u-text.b9c32215.js";import"./u-image.e646392b.js";import"./u-safe-bottom.a4431b09.js";import"./u-form.11d92cf8.js";import"./u-line.d86b0940.js";import"./sms-code.vue_vue_type_script_setup_true_lang.ce239318.js";import"./u-input.9468a367.js";import"./u-modal.3708081d.js";import"./u-checkbox-group.00090a01.js";import"./mescroll-i18n.49872024.js";const me=xe(e({__name:"ns-goods-sku",props:["goodsDetail"],emits:["change"],setup(e,{expose:z,emit:A}){const L=e,B=t(!1),E=t(null),I=t({skuId:"",name:[]}),D=t(""),N=t(1),R=l((()=>{let e="0.00";return e=Object.keys($.value).length&&Object.keys($.value.goods).length&&$.value.goods.is_discount&&$.value.sale_price!=$.value.price?$.value.sale_price:Object.keys($.value).length&&Object.keys($.value.goods).length&&$.value.goods.member_discount&&V()&&$.value.member_price!=$.value.price?$.value.member_price:$.value.price,e})),P=a(),U=l((()=>P.info)),J=pe();J.getList();const M=l((()=>J.cartList)),H=()=>{B.value=!1},$=l((()=>{let e=JSON.parse(JSON.stringify(L.goodsDetail));return Object.keys(e).length&&(Object.keys(I.value.name).length||(I.value.name=e.sku_spec_format.split(",")),e.goodsSpec.forEach(((e,t)=>{let l=e.spec_values.split(",");e.values=[],l.forEach(((l,a)=>{e.values[a]={},e.values[a].name=l,e.values[a].selected=!1,e.values[a].disabled=!1,I.value.name.forEach(((r,s)=>{s==t&&r==l&&(e.values[a].selected=!0)}))}))})),K(),e.skuList&&Object.keys(e.skuList).length&&e.skuList.forEach(((t,l)=>{t.sku_id==I.value.skuId&&(e.detail=t)}))),e})),K=()=>{L.goodsDetail.skuList.forEach(((e,t)=>{e.sku_spec_format==I.value.name.toString()&&(I.value.skuId=e.sku_id,A("change",e.sku_id))}))},X=t(null),Y=()=>{if(console.log(U.value),!U.value)return v().setLoginBack({url:"/addon/phone_shop/pages/goods/detail",param:{sku_id:$.value.sku_id}}),!1;if(uni.getStorageSync("isbindmobile"))return X.value.open(),!1;if("join_cart"==D.value){let e=0,t="";M.value["goods_"+$.value.goods_id]&&M.value["goods_"+$.value.goods_id]["sku_"+$.value.sku_id]&&(e=g(M.value["goods_"+$.value.goods_id]["sku_"+$.value.sku_id].num),t=g(M.value["goods_"+$.value.goods_id]["sku_"+$.value.sku_id].id)),e+=N.value,J.increase({id:t||"",goods_id:$.value.goods_id,sku_id:$.value.sku_id,stock:$.value.stock,sale_price:$.value.sale_price,num:e},0,(()=>{b({title:"加入购物车成功",icon:"none"})}))}else if("buy_now"==D.value){var e={sku_id:$.value.sku_id,num:N.value};uni.setStorage({key:"orderCreateData",data:{sku_data:[e]},success:()=>{h({url:"/addon/phone_shop/pages/order/payment"})}})}H()};return z({open:(e="",t="")=>{D.value=e,B.value=!0,E.value=t}}),(e,t)=>{const l=w,a=j(C("u--image"),W),v=F,g=S,b=j(C("u-number-box"),ie),h=O,V=T,z=j(C("u-popup"),q),A=j(C("u-overlay"),ee);return r(),s(v,{onTouchmove:t[3]||(t[3]=i((()=>{}),["prevent","stop"]))},{default:o((()=>[u(A,{show:B.value,onClick:H,zIndex:"490"},{default:o((()=>[u(z,{class:"popup-type",show:B.value,onClose:H,mode:"bottom",overlay:!1,zIndex:"500"},{default:o((()=>[d($).detail?(r(),s(v,{key:0,class:"p-[32rpx] relative",onTouchmove:t[2]||(t[2]=i((()=>{}),["prevent","stop"]))},{default:o((()=>[u(v,{class:"flex mb-[58rpx]"},{default:o((()=>[u(v,{class:"rounded-[8rpx] overflow-hidden"},{default:o((()=>[u(a,{width:"180rpx",height:"180rpx",src:d(y)(d($).detail.sku_image),onClick:t[0]||(t[0]=e=>(e=>{if(""===e)return!1;var t=[];t.push(y(e)),k({indicator:"number",loop:!0,urls:t})})(d($).detail.sku_image)),model:"aspectFill"},{error:o((()=>[u(l,{class:"w-[180rpx] h-[180rpx]",src:d(y)("static/resource/images/diy/shop_default.jpg"),mode:"aspectFill"},null,8,["src"])])),_:1},8,["src"])])),_:1}),u(v,{class:"flex flex-1 flex-col ml-[20rpx] py-[10rpx]"},{default:o((()=>[u(v,{class:"w-[100%]"},{default:o((()=>[u(v,{class:"text-[var(--price-text-color)] flex items-baseline"},{default:o((()=>[u(g,{class:"text-[28rpx] font-bold price-font"},{default:o((()=>[p("￥")])),_:1}),u(g,{class:"text-[48rpx] price-font"},{default:o((()=>[p(n(parseFloat(d(R)).toFixed(2).split(".")[0]),1)])),_:1}),u(g,{class:"text-[32rpx] mr-[6rpx] price-font"},{default:o((()=>[p("."+n(parseFloat(d(R)).toFixed(2).split(".")[1]),1)])),_:1})])),_:1}),u(v,{class:"text-[24rpx] leading-[32rpx] text-[#303133] mt-[12rpx]"},{default:o((()=>[p(" 库存"+n(d($).detail.stock)+n(d($).goods.unit),1)])),_:1})])),_:1}),d($).goodsSpec&&d($).goodsSpec.length?(r(),s(v,{key:0,class:"w-[100%] mt-auto",style:{"max-height":"calc(204rpx - 98rpx)",overflow:"hidden","box-sizing":"border-box"}},{default:o((()=>[u(g,{class:"text-[24rpx] leading-[30rpx] text-[#666] flex items-center h-[60rpx] mt-[10rpx]"},{default:o((()=>[p("已选规格："+n(d($).detail.sku_spec_format),1)])),_:1})])),_:1})):x("v-if",!0),x(' \t\t\t\t\t\t<view v-if="goodsDetail.goodsSpec && goodsDetail.goodsSpec.length">\r\n\t\t\t\t\t\t\t\t<text>已选规格：{{goodsDetail.detail.sku_spec_format}}</text>\r\n\t\t\t\t\t\t\t</view> ')])),_:1})])),_:1}),u(h,{class:"h-[500rpx] mb-[30rpx]","scroll-y":"true"},{default:o((()=>[(r(!0),c(_,null,f(d($).goodsSpec,((e,t)=>(r(),s(v,{class:m({"mt-[36rpx]":0!=t}),key:t},{default:o((()=>[u(v,{class:"text-[26rpx] leading-[36rpx] mb-[24rpx]"},{default:o((()=>[p(n(e.spec_name),1)])),_:2},1024),u(v,{class:"flex flex-wrap"},{default:o((()=>[(r(!0),c(_,null,f(e.values,((e,l)=>(r(),s(v,{class:m(["box-border bg-[#f2f2f2] text-[24rpx] px-[44rpx] text-center h-[56rpx] leading-[52rpx] mr-[20rpx] mb-[20rpx] border-1 border-solid rounded-[50rpx] border-[#f2f2f2]",{"!border-[var(--primary-color)] text-[var(--primary-color)] !bg-[var(--primary-color-light)]":e.selected}]),key:l,onClick:l=>((e,t)=>{I.value.name[t]=e.name,N.value=1,K()})(e,t)},{default:o((()=>[p(n(e.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)])),_:2},1032,["class"])))),128)),u(v,{class:"flex justify-between items-center mt-[30rpx]"},{default:o((()=>[u(v,{class:"text-[26rpx]"},{default:o((()=>[p("购买数量")])),_:1}),u(b,{min:1,max:d($).stock,integer:"",step:1,"input-width":"68rpx",modelValue:N.value,"onUpdate:modelValue":t[1]||(t[1]=e=>N.value=e),"input-height":"52rpx"},{minus:o((()=>[u(g,{class:m(["text-[34rpx] nc-iconfont nc-icon-jianV6xx",{"!text-[#c8c9cc]":1===N.value}])},null,8,["class"])])),input:o((()=>[u(g,{class:"text-[#303133] text-[24rpx] mx-[10rpx] min-w-[56rpx] h-[38rpx] leading-[40rpx] text-center border-[1rpx] border-solid border-[#ddd] rounded-[4rpx]"},{default:o((()=>[p(n(N.value),1)])),_:1})])),plus:o((()=>[u(g,{class:m(["text-[34rpx] nc-iconfont nc-icon-jiahaoV6xx",{"!text-[#c8c9cc]":N.value===d($).stock}])},null,8,["class"])])),_:1},8,["max","modelValue"])])),_:1})])),_:1}),d($).detail.stock>0?(r(),s(V,{key:0,class:"!h-[72rpx] leading-[72rpx] text-[26rpx] rounded-[50rpx] primary-btn-bg",type:"primary",onClick:Y},{default:o((()=>[p("确定")])),_:1})):(r(),s(V,{key:1,class:"!h-[72rpx] leading-[72rpx] text-[26rpx] text-[#fff] bg-[#ccc] rounded-[50rpx]"},{default:o((()=>[p("已售罄")])),_:1}))])),_:1})):x("v-if",!0)])),_:1},8,["show"])])),_:1},8,["show"]),x(" 强制绑定手机号 "),u(ne,{ref_key:"bindMobileRef",ref:X},null,512)])),_:1})}}}),[["__scopeId","data-v-6f82d44a"]]),ve=xe(e({__name:"detail",setup(e){const{setShare:g}=U(),ee=a(),ie=l((()=>ee.info)),xe=pe(),ve=l((()=>xe.totalNum)),ge=t(null),be=t({}),he=t(!1),ye=t(!1),ke=t(!1),we=t(!1),je=t(!1),Ce=t(0),Fe=t(""),Se=t(""),Oe=t("");z((e=>{le({goods_id:e.goods_id||"",sku_id:e.sku_id||""}).then((e=>{if(!e.data.goods||"[]"===JSON.stringify(e.data))return b({title:"找不到该商品",icon:"none"}),setTimeout((()=>{h({url:"/addon/phone_shop/pages/index",mode:"reLaunch"})}),600),!1;be.value=A(e.data),Be.value=be.value.goods.is_collect,be.value.delivery_type_list=be.value.goods.delivery_type_list?Object.values(be.value.goods.delivery_type_list).map((e=>e.name)):[],be.value.goods.goods_image=be.value.goods.goods_image_thumb_big,be.value.goods.goods_image.forEach(((e,t)=>{be.value.goods.goods_image[t]=y(e)}));let t=A(e.data);if(be.value.goods.attr_format=[],t.goods&&t.goods.attr_format){A(JSON.parse(t.goods.attr_format)).forEach(((e,t)=>{(e.attr_child_value_name&&!(e.attr_child_value_name instanceof Array)||e.attr_child_value_name instanceof Array&&e.attr_child_value_name.length)&&be.value.goods.attr_format.push(e)}))}Fe.value=be.value.goods.goods_name,Se.value="/addon/phone_shop/pages/goods/detail?sku_id="+be.value.sku_id,Oe.value=y(be.value.goods.goods_cover_thumb_mid);let l={title:be.value.goods.goods_name,desc:be.value.goods.sub_title,url:be.value.goods.goods_cover_thumb_mid};if(L({title:be.value.goods.goods_name}),g({wechat:{...l},weapp:{...l}}),Object.keys(be.value.goods).length&&be.value.goods.is_discount&&Object.keys(be.value.discount_info).length){let e=(new Date).getTime();Ce.value=1e3*be.value.discount_info.active.end_time-e.toFixed(0)}De(),Re(),et(),B((()=>{setTimeout((()=>{const e=J().in(Ke);e.select(".swiper-box").boundingClientRect((e=>{Xe=e?e.height:0})).exec(),e.select(".detail-head").boundingClientRect((e=>{e&&(Ye=e.height?e.height:0)})).exec()}),400)}))}))})),E((()=>{uni.removeStorageSync("distributionType"),xe.getList()}));const Te=e=>{be.value.skuList.forEach(((t,l)=>{t.sku_id==e&&Object.assign(be.value,t)}))},Ve=l((()=>{let e=!1;return be.value.skuList.forEach(((t,l)=>{t.sku_spec_format&&(e=!0)})),!(!e&&be.value.stock<=0)&&(!e&&be.value.stock,!0)})),ze=l((()=>{let e=!1;return(be.value.service&&be.value.service.length||be.value.goodsSpec&&be.value.goodsSpec.length||"real"==be.value.goods.goods_type&&be.value.delivery_type_list&&be.value.delivery_type_list.length||Ie.value.length)&&(e=!0),e})),Ae=e=>{ge.value.open(e)},Le=t(null),Be=t(0),Ee=()=>{if(!ie.value)return v().setLoginBack({url:"/addon/phone_shop/pages/goods/detail",param:{sku_id:be.value.sku_id}}),!1;if(uni.getStorageSync("isbindmobile"))return Le.value.open(),!1;(Be.value?re(be.value.goods_id):se(be.value.goods_id)).then((e=>{Be.value=!Be.value,Be.value?b({title:"收藏成功",icon:"none"}):b({title:"取消收藏",icon:"none"})}))},Ie=t([]),De=()=>{ue({category_id:be.value.goods.goods_category||"",goods_id:be.value.goods_id||""}).then((e=>{Ie.value=e.data.data.map((e=>(-1!=e.sum_count&&e.receive_count===e.sum_count&&(e.btnType="collected"),ie.value&&e.is_receive&&e.limit_count===e.member_receive_count?e.btnType="using":e.btnType="collecting",e)))}))},Ne=t({count:0}),Re=()=>{ae(be.value.goods_id).then((e=>{Ne.value=e.data}))},Pe=(e,t)=>{if(Array.isArray(e)){if(!e.length)return!1;k({indicator:"number",current:t,loop:!0,urls:l=e})}else{if(""===e)return!1;var l;(l=[]).push(y(e)),k({indicator:"number",loop:!0,urls:l})}},Ue=t(0),Je=()=>{we.value=!0};let Me=I().platform;const He=l((()=>{let e="";return e+="height: 100rpx;",e+="padding-right: 30rpx;",e+="padding-left: 30rpx;",e+="font-size: 32rpx;","ios"===Me?e+="font-weight: 500;":"android"===Me&&(e+="font-size: 36rpx;"),e})),$e=l((()=>{let e="";return e+="font-size: 26px;","font-size: 26px;"})),Ke=$();let Xe=0,Ye=0;const Ge=t(!1);D((e=>{if(0==Xe||0==Ye)return;let t=Xe-Ye-20;Ge.value=!1,e.scrollTop>=t&&(Ge.value=!0)}));const Qe=e=>{"number"==typeof e&&Pe(be.value.goods.goods_image,e)},We=t(null),Ze=t("");let qe={};const et=()=>{Ze.value="?sku_id="+be.value.sku_id,ie.value&&ie.value.member_id&&(Ze.value+="&mid="+ie.value.member_id)},tt=()=>{qe.sku_id=be.value.sku_id,ie.value&&ie.value.member_id&&(qe.member_id=ie.value.member_id),We.value.openShare()},lt=t(""),at=l((()=>{let e="0.00";return console.log(be.value),console.log(be.value.goods.member_discount,be.value.member_price,be.value.price),console.log(Object.keys(be.value).length&&Object.keys(be.value.goods).length&&be.value.goods.member_discount&&V()&&be.value.member_price!=be.value.price),Object.keys(be.value).length&&Object.keys(be.value.goods).length&&be.value.goods.is_discount&&be.value.sale_price!=be.value.price?(e=be.value.sale_price?be.value.sale_price:be.value.price,lt.value="discount_price",console.log(111)):Object.keys(be.value).length&&Object.keys(be.value.goods).length&&be.value.goods.member_discount&&V()&&be.value.member_price!=be.value.price?(e=be.value.member_price?be.value.member_price:be.value.price,lt.value="member_price",console.log(be.value.member_price)):(e=be.value.price,lt.value="",console.log(333)),e}));N((()=>{R()}));let rt=t([]);const st=e=>{ye.value=!1;let t={goods_category:be.value.goods.goods_category};oe(t).then((t=>{let l=t.data.data;1===Number(e.num)&&(rt.value=[]),rt.value=rt.value.concat(l),e.endSuccess(l.length)})).catch((()=>{e.endErr()}))},ot=e=>{h({url:"/addon/phone_shop/pages/goods/detail",param:{goods_id:e.goods_id}})};return(e,t)=>{const l=S,a=F,g=j(C("u-swiper"),K),b=w,k=j(C("up-count-down"),X),V=j(C("up-tag"),Y),z=j(C("u-avatar"),G),A=j(C("u-icon"),Q),L=j(C("u--image"),W),B=j(C("u-parse"),Z),E=T,I=O,D=j(C("u-popup"),q),N=j(C("u-loading-page"),te);return r(),c(_,null,[u(a,{style:P(e.themeColor())},{default:o((()=>[Object.keys(be.value).length?(r(),s(a,{key:0,class:"bg-[#f7f7f7] min-h-[100vh] relative"},{default:o((()=>[x(" 自定义头部 "),u(a,{class:m(["flex items-center fixed left-0 right-0 z-10 bg-transparent detail-head",{"!bg-[#fff]":Ge.value}]),style:P(d(He))},{default:o((()=>[u(l,{class:"nc-iconfont nc-icon-zuoV6xx",style:P(d($e)),onClick:t[0]||(t[0]=e=>{M().length>1?H({delta:1}):h({url:"/addon/phone_shop/pages/index",mode:"reLaunch"})})},null,8,["style"]),u(a,{class:m(["ml-auto !pt-[12rpx] !pb-[8rpx] p-[10rpx] bg-[rgba(255,255,255,.4)] rounded-full border-[2rpx] border-solid border-transparent box-border nc-iconfont nc-icon-fenxiangV6xx font-bold text-[#303133] text-[36rpx]",{"border-[#d8d8d8]":Ge.value}]),onClick:tt},null,8,["class"])])),_:1},8,["class","style"]),u(a,{class:"swiper-box"},{default:o((()=>[u(g,{list:be.value.goods.goods_image,indicator:be.value.goods.goods_image.length,indicatorStyle:{bottom:"50rpx"},autoplay:!0,height:"100vw",onClick:Qe},null,8,["list","indicator"])])),_:1}),"discount_price"==lt.value?(r(),s(a,{key:0,class:"-mt-[26rpx] relative flex items-center justify-between !bg-cover box-border pb-[26rpx] h-[136rpx] px-[30rpx]",style:P({background:"url("+d(y)("addon/phone_shop/detail/discount_price_bg.png")+") no-repeat"})},{default:o((()=>[u(a,{class:"flex text-[#fff]"},{default:o((()=>[u(l,{class:"text-[26rpx] mt-[18rpx] mr-[8rpx]"},{default:o((()=>[p("折扣价")])),_:1}),u(a,{class:"flex"},{default:o((()=>[u(l,{class:"text-[26rpx] mt-[18rpx] font-medium price-font"},{default:o((()=>[p("￥")])),_:1}),u(l,{class:"text-[50rpx] price-font"},{default:o((()=>[p(n(parseFloat(d(at)).toFixed(2).split(".")[0]),1)])),_:1}),u(l,{class:"text-[50rpx] price-font"},{default:o((()=>[p("."+n(parseFloat(d(at)).toFixed(2).split(".")[1]),1)])),_:1}),be.value.market_price&&parseFloat(be.value.market_price)?(r(),s(l,{key:0,class:"text-[26rpx] mt-[18rpx] ml-[10rpx] line-through price-font"},{default:o((()=>[p(" ￥"+n(be.value.market_price),1)])),_:1})):x("v-if",!0)])),_:1})])),_:1}),u(a,{class:"flex flex-col text-[#fff] items-end"},{default:o((()=>[u(b,{class:"h-[28rpx] mr-[2rpx]",src:d(y)("addon/phone_shop/detail/discount_price.png"),mode:"heightFix"},null,8,["src"]),u(a,{class:"flex items-center text-[24rpx] -mb-[10rpx]"},{default:o((()=>[u(l,{class:"mr-[4rpx]"},{default:o((()=>[p("距结束")])),_:1}),u(k,{class:"text-[#fff] text-[28rpx]",time:Ce.value,format:"HH:mm:ss"},null,8,["time"])])),_:1})])),_:1})])),_:1},8,["style"])):x("v-if",!0),u(a,{class:"bg-[#f6f6f6] rounded-[16rpx] -mt-[26rpx] relative"},{default:o((()=>[u(a,{class:m(["relative mx-[30rpx] rounded-[16rpx]",{"pt-[30rpx]":"discount_price"==lt.value,"pt-[20rpx]":"discount_price"!=lt.value}])},{default:o((()=>["discount_price"!=lt.value?(r(),s(a,{key:0,class:"text-[var(--price-text-color)] flex items-baseline mb-[16rpx]"},{default:o((()=>[u(l,{class:"text-[32rpx] font-medium price-font"},{default:o((()=>[p("￥")])),_:1}),u(l,{class:"text-[48rpx] price-font"},{default:o((()=>[p(n(parseFloat(d(at)).toFixed(2).split(".")[0]),1)])),_:1}),u(l,{class:"text-[32rpx] mr-[10rpx] price-font"},{default:o((()=>[p("."+n(parseFloat(d(at)).toFixed(2).split(".")[1]),1)])),_:1}),"member_price"==lt.value?(r(),s(b,{key:0,class:"h-[34rpx] mr-[12rpx] w-[80rpx]",src:d(y)("addon/phone_shop/VIP.png"),mode:"heightFix"},null,8,["src"])):x("v-if",!0),be.value.market_price&&parseFloat(be.value.market_price)?(r(),s(l,{key:1,class:"text-[26rpx] text-[#999] line-through price-font"},{default:o((()=>[p(" ￥"+n(be.value.market_price),1)])),_:1})):x("v-if",!0)])),_:1})):x("v-if",!0),x(' <view class="font-medium text-[32rpx] multi-hidden leading-[40rpx]">\r\n\t\t\t\t\t\t{{ goodsDetail.goods.goods_name }}\r\n\t\t\t\t\t</view> '),u(a,{class:"font-medium text-[32rpx] multi-hidden leading-[40rpx]"},{default:o((()=>[u(a,{class:"flex"},{default:o((()=>[x(" hsx - start "),u(a,{class:"flex"},{default:o((()=>[be.value.brand_info?(r(),s(V,{key:0,size:"mini",text:be.value.brand_info.brand_name,type:"warning"},null,8,["text"])):x("v-if",!0)])),_:1}),p(" "+n(be.value.goods.goods_name),1)])),_:1}),u(a,{class:"flex justify-between"},{default:o((()=>[u(a,null,{default:o((()=>[u(a,{class:"max-h-[80rpx] text-[20rpx] leading-[40rpx] truncate"},{default:o((()=>[p(n(be.value.goods.sub_title),1)])),_:1}),be.value.sku_no?(r(),s(a,{key:0,class:"max-h-[80rpx] text-[20rpx] leading-[40rpx] truncate"},{default:o((()=>[p(" sn: "+n(be.value.sku_no),1)])),_:1})):x("v-if",!0)])),_:1}),x(" hsx - end ")])),_:1})])),_:1}),u(a,{class:"flex items-start mt-[12rpx] pb-[10rpx]"},{default:o((()=>[be.value.label_info&&be.value.label_info.length?(r(),s(a,{key:0,class:"flex flex-wrap"},{default:o((()=>[(r(!0),c(_,null,f(be.value.label_info,(e=>(r(),s(a,{key:e.label_id,class:"text-[#FA6400] mb-[10rpx] leading-[36rpx] text-[22rpx] h-[40rpx] px-[10rpx] border-[2rpx] border-solid border-[#FA6400] rounded-[4rpx] mr-[15rpx] box-border truncate"},{default:o((()=>[p(n(e.label_name),1)])),_:2},1024)))),128))])),_:1})):x("v-if",!0),u(a,{class:"text-[26rpx] mt-[6rpx] text-[#666] flex items-baseline ml-auto"},{default:o((()=>[u(l,{class:"whitespace-nowrap"},{default:o((()=>[p("销量:")])),_:1}),u(l,{class:"mx-[2rpx]"},{default:o((()=>[p(n(be.value.goods.sale_num),1)])),_:1}),u(l,null,{default:o((()=>[p(n(be.value.goods.unit),1)])),_:1}),p(" | "),u(l,{class:"whitespace-nowrap"},{default:o((()=>[p("库存")])),_:1}),u(l,{class:"mx-[2rpx]"},{default:o((()=>[p(n(be.value.goods.stock),1)])),_:1}),u(l,null,{default:o((()=>[p(n(be.value.goods.unit),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["class"]),d(ze)?(r(),s(a,{key:0,class:"mt-[20rpx] bg-white sidebar-marign rounded-[16rpx] px-[20rpx] py-[16rpx]"},{default:o((()=>[be.value.service&&be.value.service.length?(r(),s(a,{key:0,onClick:t[1]||(t[1]=e=>ke.value=!ke.value),class:"flex items-center h-[64rpx]"},{default:o((()=>[u(l,{class:"text-[#666] text-[26rpx] leading-[30rpx] font-400 shrink-0"},{default:o((()=>[p("服务")])),_:1}),u(a,{class:"text-[#343434] text-[26rpx] leading-[30rpx] font-400 truncate ml-auto"},{default:o((()=>[p(n(be.value.service[0].service_name),1)])),_:1}),u(l,{class:"nc-iconfont nc-icon-youV6xx text-[26rpx] text-[#666]"})])),_:1})):x("v-if",!0),be.value.goodsSpec&&be.value.goodsSpec.length?(r(),s(a,{key:1,onClick:Ae,class:"flex items-center h-[64rpx]"},{default:o((()=>[u(l,{class:"text-[#666] text-[26rpx] leading-[30rpx] font-400 shrink-0 mr-[20rpx]"},{default:o((()=>[p("已选")])),_:1}),u(a,{class:"ml-auto text-right truncate flex-1 text-[#343434] text-[26rpx] leading-[30rpx] font-400"},{default:o((()=>[p(n(be.value.sku_spec_format),1)])),_:1}),u(l,{class:"nc-iconfont nc-icon-youV6xx text-[26rpx] text-[#666]"})])),_:1})):x("v-if",!0),"real"==be.value.goods.goods_type&&be.value.delivery_type_list&&be.value.delivery_type_list.length?(r(),s(a,{key:2,class:"flex items-center h-[64rpx]",onClick:Je},{default:o((()=>[u(l,{class:"text-[#666] text-[26rpx] leading-[30rpx] font-400 shrink-0"},{default:o((()=>[p("配送")])),_:1}),u(a,{class:"ml-auto flex items-center text-[#343434] text-[26rpx] leading-[30rpx] font-400"},{default:o((()=>[p(n(be.value.delivery_type_list[Ue.value]),1)])),_:1}),u(l,{class:"nc-iconfont nc-icon-youV6xx text-[26rpx] text-[#666]"})])),_:1})):x("v-if",!0),Ie.value.length?(r(),s(a,{key:3,onClick:t[2]||(t[2]=e=>je.value=!0),class:"flex items-center h-[64rpx]"},{default:o((()=>[u(l,{class:"text-[#666] text-[26rpx] leading-[30rpx] font-400 shrink-0 mr-[20rpx]"},{default:o((()=>[p("领券")])),_:1}),u(a,{class:"ml-auto flex-1 flex-nowrap flex items-center overflow-hidden h-[44rpx] content-between"},{default:o((()=>[(r(!0),c(_,null,f(Ie.value,((e,t)=>(r(),c(_,{key:t},[t<3?(r(),s(l,{key:0,class:m(["text-xs whitespace-nowrap rounded-sm border-[2rpx] px-[6rpx] py-[2rpx] border-solid border-[var(--primary-color)] text-[var(--primary-color)] mt-[4rpx]",{"mr-[8rpx]":Ie.value.length!=t+1&&t<2,"ml-auto":0==t}])},{default:o((()=>[p(n(e.title),1)])),_:2},1032,["class"])):x("v-if",!0)],64)))),128))])),_:1}),u(l,{class:"nc-iconfont nc-icon-youV6xx text-[26rpx] text-[#666]"})])),_:1})):x("v-if",!0)])),_:1})):x("v-if",!0),u(a,{class:"mt-[20rpx] bg-white sidebar-marign rounded-[16rpx] px-[20rpx]"},{default:o((()=>[u(a,{class:"flex items-center justify-between h-[80rpx]"},{default:o((()=>[u(l,{class:"text-[28rpx] text-[#303133] font-bold"},{default:o((()=>[p("宝贝评价("+n(Ne.value.count)+")",1)])),_:1}),Ne.value.count?(r(),s(a,{key:0,class:"h-[80rpx] flex items-center",onClick:t[3]||(t[3]=e=>(be.value.goods_id,void h({url:"/addon/phone_shop/pages/evaluate/list",param:{goods_id:be.value.goods_id}})))},{default:o((()=>[u(l,{class:"text-[24rpx] text-[#666]"},{default:o((()=>[p("查看全部")])),_:1}),u(l,{class:"nc-iconfont nc-icon-youV6xx text-[26rpx] text-[#666]"})])),_:1})):x("v-if",!0),Ne.value.count?x("v-if",!0):(r(),s(l,{key:1,class:"text-[24rpx] text-[#666]"},{default:o((()=>[p("暂无评价")])),_:1}))])),_:1}),u(a,null,{default:o((()=>[(r(!0),c(_,null,f(Ne.value.list,((e,t)=>(r(),s(a,{class:"pb-[20rpx]",key:t},{default:o((()=>[u(a,{class:"flex items-center w-full"},{default:o((()=>[u(z,{"default-url":d(y)("static/resource/images/default_headimg.png"),src:d(y)(e.member_head),size:"30rpx",leftIcon:"none"},null,8,["default-url","src"]),u(l,{class:"ml-[10rpx] text-[22rpx] text-[#999]"},{default:o((()=>[p(n(e.member_name),1)])),_:2},1024)])),_:2},1024),u(a,{class:"flex justify-between w-full mt-[10rpx]"},{default:o((()=>[u(a,{class:"flex-1 w-[540rpx] text-[26rpx] text-[#303133] max-h-[72rpx] leading-[36rpx] multi-hidden mr-[50rpx]"},{default:o((()=>[p(n(e.content),1)])),_:2},1024),u(a,{class:"w-[80rpx] shrink-0"},{default:o((()=>[e.image_mid&&e.image_mid.length?(r(),s(L,{key:0,width:"80rpx",height:"80rpx",radius:"8rpx",src:d(y)(e.image_mid[0]),model:"aspectFill",onClick:t=>Pe(e.images[0])},{error:o((()=>[u(A,{name:"photo",color:"#999",size:"50"})])),_:2},1032,["src","onClick"])):x("v-if",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),be.value.goods&&be.value.goods.attr_format&&Object.keys(be.value.goods.attr_format).length?(r(),s(a,{key:1,class:"my-[20rpx] bg-white sidebar-marign rounded-[16rpx] px-[20rpx] pb-[20rpx]"},{default:o((()=>[u(a,{class:"text-[28rpx] h-[80rpx] leading-[80rpx] font-bold"},{default:o((()=>[p("商品属性")])),_:1}),u(a,{class:"border-[2rpx] border-solid border-[#f1f1f1] border-b-0"},{default:o((()=>[(r(!0),c(_,null,f(be.value.goods.attr_format,((e,t)=>(r(),c(_,{key:t},[t<4||he.value?(r(),s(a,{key:0,class:"flex border-0 border-solid border-[#f1f1f1] border-b-[2rpx]"},{default:o((()=>[u(a,{class:"w-[30%] px-[18rpx] py-[8rpx] text-[24rpx] min-h-[70rpx] break-all box-border flex items-center border-0 border-solid border-[#f1f1f1] border-r-[2rpx] bg-[#fbfafa]"},{default:o((()=>[p(n(e.attr_value_name),1)])),_:2},1024),u(a,{class:"w-[70%] px-[18rpx] py-[8rpx] text-[24rpx] min-h-[70rpx] break-all flex items-center box-border"},{default:o((()=>[x(" {{ Array.isArray(item.attr_child_value_name) ? item.attr_child_value_name.join(',')\r\n\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\titem.attr_child_value_name }} "),Array.isArray(e.attr_child_value_name)?(r(),s(a,{key:1},{default:o((()=>[(r(!0),c(_,null,f(e.attr_child_value_name,(e=>(r(),s(l,{class:"mr-1",style:P("color:"+e.color)},{default:o((()=>[p(n(e.name),1)])),_:2},1032,["style"])))),256))])),_:2},1024)):(r(),s(l,{key:0,style:P("color:"+e.attr_child_value_color)},{default:o((()=>[p(n(e.attr_child_value_name),1)])),_:2},1032,["style"]))])),_:2},1024)])),_:2},1024)):x("v-if",!0)],64)))),128)),be.value.goods.attr_format.length>4?(r(),s(a,{key:0,class:"flex items-center justify-center h-[70rpx] border-0 border-solid border-[#f1f1f1] border-b-[2rpx]",onClick:t[4]||(t[4]=e=>he.value=!he.value)},{default:o((()=>[u(l,{class:"text-[24rpx] mr-[10rpx]"},{default:o((()=>[p(n(he.value?"收起":"展开"),1)])),_:1}),u(l,{class:m(["nc-iconfont !text-[22rpx]",{"nc-icon-xiaV6xx":!he.value,"nc-icon-shangV6xx-1":he.value}])},null,8,["class"])])),_:1})):x("v-if",!0)])),_:1})])),_:1})):x("v-if",!0),u(a,{class:"my-[20rpx] bg-white sidebar-marign rounded-[16rpx] px-[20rpx] pb-[20rpx]"},{default:o((()=>[u(a,{class:"text-[28rpx] h-[80rpx] leading-[80rpx] font-bold"},{default:o((()=>[p("商品详情")])),_:1}),u(a,{class:"u-content"},{default:o((()=>[u(B,{content:be.value.goods.goods_desc,tagStyle:{img:"vertical-align: top;",p:"overflow: hidden;word-break:break-word;"}},null,8,["content"])])),_:1})])),_:1}),u(a,{class:"my-[20rpx] bg-white mx-[20rpx] rounded-[16rpx] pd-[10px]"},{default:o((()=>[u(a,{class:"text-[28rpx] h-[80rpx] leading-[80rpx] font-bold px-[20rpx]"},{default:o((()=>[p("同类推荐")])),_:1}),u(_e,{ref:"mescrollRef",top:"20rpx",bottom:"20px",onUp:st,style:{"min-height":"auto"}},{default:o((()=>[d(rt).length?(r(),s(a,{key:0,class:m(["px-[20rpx]",e.listType?"":"flex justify-between flex-wrap"])},{default:o((()=>[(r(!0),c(_,null,f(d(rt),((t,i)=>(r(),c(_,null,[e.listType?(r(),s(a,{key:0,class:m(["bg-white flex p-[20rpx] rounded-[16rpx] overflow-hidden mt-[20rpx]",{"mb-[20rpx]":i+1==d(rt).length}]),onClick:e=>ot(t.goods_id)},{default:o((()=>[u(L,{class:"rounded-[10rpx] overflow-hidden",width:"190rpx",height:"190rpx",src:d(y)(t.goods_cover_thumb_mid?t.goods_cover_thumb_mid:""),model:"aspectFill"},{error:o((()=>[u(A,{name:"photo",color:"#999",size:"50"})])),_:2},1032,["src"]),u(a,{class:"flex-1 flex flex-col ml-[20rpx] py-[6rpx]"},{default:o((()=>[u(a,{class:"text-[28rpx] text-[#303133] leading-[40rpx] multi-hidden mb-[10rpx]"},{default:o((()=>[p(n(t.goods_name),1)])),_:2},1024),u(a,{class:"text-[28rpx] text-[#303133] leading-[40rpx] multi-hidden mb-[10rpx]"},{default:o((()=>[p(n(t.sub_title),1)])),_:2},1024),u(a,{class:"mt-auto flex justify-between items-baseline"},{default:o((()=>[u(a,{class:"text-[var(--price-text-color)] price-font flex items-baseline"},{default:o((()=>[u(l,{class:"text-[26rpx] font-500"},{default:o((()=>[p("￥")])),_:1}),u(l,{class:"text-[36rpx] font-500"},{default:o((()=>[p(n(parseFloat(t.goodsSku.price).toFixed(2).split(".")[0]),1)])),_:2},1024),u(l,{class:"text-[24rpx] font-500"},{default:o((()=>[p("."+n(parseFloat(t.goodsSku.price).toFixed(2).split(".")[1]),1)])),_:2},1024)])),_:2},1024),x('                      <text class="text-[24rpx] text-[#999]">已售{{ item.sale_num }}{{ item.unit }}</text>')])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])):(r(),s(a,{key:1,class:"w-[324rpx] flex flex-col bg-[#fff] box-border rounded-[12rpx] overflow-hidden mt-[20rpx]",onClick:e=>ot(t)},{default:o((()=>[u(L,{width:"334rpx",height:"334rpx",src:d(y)(t.goods_cover_thumb_mid?t.goods_cover_thumb_mid:""),model:"aspectFill"},{error:o((()=>[u(A,{name:"photo",color:"#999",size:"50"})])),_:2},1032,["src"]),u(a,{class:"px-[16rpx] flex-1 pt-[16rpx] pb-[20rpx] flex flex-col justify-between"},{default:o((()=>[u(a,{class:"text-[#303133] leading-[40rpx] text-[28rpx] multi-hidden"},{default:o((()=>[p(n(t.goods_name),1)])),_:2},1024),u(a,{class:"text-[22rpx] text-[#303133] leading-[40rpx] multi-hidden mb-[10rpx]"},{default:o((()=>[p(n(t.sub_title),1)])),_:2},1024),u(a,{class:"flex justify-between items-baseline mt-[16rpx]"},{default:o((()=>[u(a,{class:"text-[var(--price-text-color)] price-font flex items-baseline"},{default:o((()=>[x('\t\t\t\t\t\t\t\t\t\t<text class="text-[20rpx]  mr-[4rpx]">￥</text>'),x('\t\t\t\t\t\t\t\t\t\t<text class="text-[36rpx] font-500">{{ item.goodsSku.price }}</text>'),u(l,{class:"text-[26rpx] font-500"},{default:o((()=>[p("￥")])),_:1}),u(l,{class:"text-[36rpx] font-500"},{default:o((()=>[p(n(parseFloat(t.goodsSku.price).toFixed(2).split(".")[0]),1)])),_:2},1024),u(l,{class:"text-[24rpx] font-500"},{default:o((()=>[p("."+n(parseFloat(t.goodsSku.price).toFixed(2).split(".")[1]),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]))],64)))),256))])),_:1},8,["class"])):x("v-if",!0),!d(rt).length&&ye.value?(r(),s(a,{key:1,class:"mx-[30rpx] mt-[20rpx] bg-[#fff] rounded-[16rpx] noData flex items-center justify-center"},{default:o((()=>[u(fe,{option:{tip:"暂无商品"}})])),_:1})):x("v-if",!0)])),_:1},512)])),_:1}),u(a,{class:"tab-bar-placeholder"}),u(a,{class:"w-[100%] flex justify-between px-[27rpx] bg-[#fff] box-border fixed left-0 bottom-0 tab-bar z-1"},{default:o((()=>[u(a,{class:"flex items-center"},{default:o((()=>[u(a,{class:"flex flex-col justify-center items-center mr-[39rpx]",onClick:t[5]||(t[5]=e=>d(h)({url:"/addon/phone_shop/pages/index",mode:"reLaunch"}))},{default:o((()=>[u(a,{class:"iconfont iconshouye1 text-[42rpx]"}),u(l,{class:"text-[18rpx] mt-1"},{default:o((()=>[p("首页")])),_:1})])),_:1}),u(a,{class:"flex flex-col justify-center items-center mr-[39rpx]",onClick:tt},{default:o((()=>[u(a,{class:"iconfont iconfenxiang3 text-[42rpx]"}),u(l,{class:"text-[18rpx] mt-1"},{default:o((()=>[p("分享")])),_:1})])),_:1}),u(a,{class:"flex flex-col justify-center items-center",onClick:t[6]||(t[6]=e=>d(h)({url:"/addon/phone_shop/pages/goods/cart"}))},{default:o((()=>[u(a,{class:"relative flex items-center"},{default:o((()=>[u(l,{class:"iconfont icongouwuche3 text-[40rpx]"}),d(ve)?(r(),s(a,{key:0,class:m(["absolute left-[26rpx] top-0 rounded-[25rpx] h-[25rpx] min-w-[25rpx] text-center leading-[25rpx] bg-[#FF4646] text-[#fff] text-[20rpx] font-500 box-border",d(ve)>9?"px-[10rpx]":""])},{default:o((()=>[p(n(d(ve)),1)])),_:1},8,["class"])):x("v-if",!0)])),_:1}),u(l,{class:"text-[18rpx] mt-1"},{default:o((()=>[p("购物车")])),_:1})])),_:1})])),_:1}),1==be.value.goods.status?(r(),s(a,{key:0,class:"flex"},{default:o((()=>["real"==be.value.goods.goods_type||"virtual"==be.value.goods.goods_type&&"verify"!=be.value.goods.virtual_receive_type?(r(),s(E,{key:0,class:"!w-[200rpx] !h-[72rpx] text-[26rpx] !text-[#fff] !m-0 !mr-[20rpx] leading-[72rpx] rounded-full remove-border",style:{background:"linear-gradient(127deg, #FFB000 0%, #FFA029 100%)"},onClick:t[7]||(t[7]=e=>Ae("join_cart"))},{default:o((()=>[p(" 加入购物车")])),_:1})):x("v-if",!0),d(Ve)?(r(),s(E,{key:1,style:P({width:"real"==be.value.goods.goods_type||"virtual"==be.value.goods.goods_type&&"verify"!=be.value.goods.virtual_receive_type?"200rpx":"420rpx!important"}),class:"!h-[72rpx] text-[26rpx] !text-[#fff] !bg-[#FF4646] !m-0 leading-[72rpx] rounded-full remove-border",onClick:t[8]||(t[8]=e=>Ae("buy_now"))},{default:o((()=>[p("立即购买")])),_:1},8,["style"])):(r(),s(E,{key:2,style:P({width:"real"==be.value.goods.goods_type||"virtual"==be.value.goods.goods_type&&"verify"!=be.value.goods.virtual_receive_type?"200rpx":"420rpx!important"}),class:"!h-[72rpx] text-[26rpx] !text-[#fff] !bg-[#ccc] !m-0 leading-[72rpx] rounded-full remove-border"},{default:o((()=>[p("已售罄")])),_:1},8,["style"]))])),_:1})):(r(),s(a,{key:1,class:"flex flex-1 ml-[40rpx]"},{default:o((()=>[u(E,{class:"w-[100%] !h-[72rpx] text-[26rpx] !text-[#fff] !bg-[#ccc] !m-0 leading-[72rpx] rounded-full remove-border"},{default:o((()=>[p("该商品已下架")])),_:1})])),_:1}))])),_:1})])),_:1}),u(a,{class:"tab-bar-placeholder"}),u(a,{class:"w-[100%] flex justify-between px-[27rpx] bg-[#fff] box-border fixed left-0 bottom-0 tab-bar z-1 items-center"},{default:o((()=>[u(a,{class:"flex items-center ml-[10rpx]"},{default:o((()=>[u(a,{class:"flex flex-col justify-center items-center mr-[39rpx]",onClick:t[9]||(t[9]=e=>d(h)({url:"/addon/phone_shop/pages/index",mode:"reLaunch"}))},{default:o((()=>[u(a,{class:"nc-iconfont nc-icon-shouyeV6xx text-[36rpx]"}),u(l,{class:"text-[20rpx] mt-[10rpx]"},{default:o((()=>[p("首页")])),_:1})])),_:1}),u(a,{class:"flex flex-col justify-center items-center mr-[39rpx]",onClick:tt},{default:o((()=>[u(a,{class:"nc-iconfont nc-icon-fenxiangV6xx text-[36rpx]"}),u(l,{class:"text-[20rpx] mt-[10rpx]"},{default:o((()=>[p("分享")])),_:1})])),_:1}),u(a,{class:"flex flex-col justify-center items-center",onClick:Ee},{default:o((()=>[u(l,{class:m(["nc-iconfont text-[36rpx]",{"text-[#ff0000] nc-icon-xihuanV6mm":Be.value,"text-[#303133] nc-icon-guanzhuV6xx":!Be.value}])},null,8,["class"]),u(l,{class:"text-[20rpx] mt-[10rpx]"},{default:o((()=>[p("收藏")])),_:1})])),_:1})])),_:1}),1==be.value.goods.status?(r(),s(a,{key:0,class:"flex"},{default:o((()=>["real"==be.value.goods.goods_type||"virtual"==be.value.goods.goods_type&&"verify"!=be.value.goods.virtual_receive_type?(r(),s(E,{key:0,class:"!w-[200rpx] !h-[72rpx] text-[26rpx] !text-[#fff] !m-0 !mr-[20rpx] leading-[72rpx] rounded-full remove-border",style:{background:"linear-gradient(127deg, #FFB000 0%, #FFA029 100%)"},onClick:t[10]||(t[10]=e=>Ae("join_cart"))},{default:o((()=>[p(" 加入购物车")])),_:1})):x("v-if",!0),d(Ve)?(r(),s(E,{key:1,style:P({width:"real"==be.value.goods.goods_type||"virtual"==be.value.goods.goods_type&&"verify"!=be.value.goods.virtual_receive_type?"200rpx":"420rpx!important"}),class:"!h-[72rpx] text-[26rpx] !text-[#fff] primary-btn-bg !m-0 leading-[72rpx] rounded-full remove-border",onClick:t[11]||(t[11]=e=>Ae("buy_now"))},{default:o((()=>[p("立即购买")])),_:1},8,["style"])):(r(),s(E,{key:2,style:P({width:"real"==be.value.goods.goods_type||"virtual"==be.value.goods.goods_type&&"verify"!=be.value.goods.virtual_receive_type?"200rpx":"420rpx!important"}),class:"!h-[72rpx] text-[26rpx] !text-[#fff] !bg-[#ccc] !m-0 leading-[72rpx] rounded-full remove-border"},{default:o((()=>[p("已售罄")])),_:1},8,["style"]))])),_:1})):(r(),s(a,{key:1,class:"flex flex-1 ml-[40rpx]"},{default:o((()=>[u(E,{class:"w-[100%] !h-[72rpx] text-[26rpx] !text-[#fff] !bg-[#ccc] !m-0 leading-[72rpx] rounded-full remove-border"},{default:o((()=>[p("该商品已下架")])),_:1})])),_:1}))])),_:1})])),_:1})):x("v-if",!0),x(" 服务 "),u(a,{onTouchmove:t[14]||(t[14]=i((()=>{}),["prevent","stop"]))},{default:o((()=>[u(D,{class:"popup-type",show:ke.value,onClose:t[13]||(t[13]=e=>ke.value=!1)},{default:o((()=>[u(a,{class:"min-h-[480rpx]",onTouchmove:t[12]||(t[12]=i((()=>{}),["prevent","stop"]))},{default:o((()=>[u(a,{class:"flex items-center justify-center py-[34rpx] relative"},{default:o((()=>[u(l,{class:"text-[32rpx] leading-[36rpx] font-500"},{default:o((()=>[p("商品服务")])),_:1})])),_:1}),u(I,{class:"h-[520rpx]","scroll-y":"true"},{default:o((()=>[u(a,{class:"pl-[22rpx] py-[28rpx] pr-[37rpx]"},{default:o((()=>[(r(!0),c(_,null,f(be.value.service,((e,t)=>(r(),s(a,{class:"flex mb-[28rpx]"},{default:o((()=>[u(b,{class:"max-w-[34rpx] max-h-[34rpx] mr-[14rpx]",src:d(y)(e.image||"addon/phone_shop/icon_service.png"),mode:"aspectFit"},null,8,["src"]),u(a,{class:"flex-1"},{default:o((()=>[u(a,{class:"text-[26rpx] leading-[36rpx] text-[#222] mb-[4rpx] w-[643rpx]"},{default:o((()=>[p(n(e.service_name),1)])),_:2},1024),u(a,{class:"text-[22rpx] leading-[36rpx] text-[#888] w-[643rpx]"},{default:o((()=>[p(n(e.desc),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])])),_:1}),x(" 配送 "),u(a,{onTouchmove:t[17]||(t[17]=i((()=>{}),["prevent","stop"]))},{default:o((()=>[u(D,{class:"popup-type",show:we.value,onClose:t[16]||(t[16]=e=>we.value=!1)},{default:o((()=>[u(a,{class:"min-h-[360rpx]",onTouchmove:t[15]||(t[15]=i((()=>{}),["prevent","stop"]))},{default:o((()=>[u(a,{class:"flex items-center justify-center py-[34rpx] relative"},{default:o((()=>[u(l,{class:"text-[32rpx] leading-[36rpx] font-500"},{default:o((()=>[p("配送方式")])),_:1})])),_:1}),u(I,{class:"h-[520rpx]","scroll-y":"true"},{default:o((()=>[u(a,{class:"pl-[22rpx] pt-[28rpx] pr-[37rpx]"},{default:o((()=>[(r(!0),c(_,null,f(be.value.delivery_type_list,((e,t)=>(r(),s(a,{class:"flex mb-[28rpx]",onClick:l=>((e,t)=>{Ue.value=t,we.value=!1,uni.setStorageSync("distributionType",e)})(e,t)},{default:o((()=>[u(b,{class:"w-[34rpx] h-[34rpx] mr-[14rpx]",src:d(y)("addon/phone_shop/icon_service.png"),mode:"aspectFit"},null,8,["src"]),u(a,{class:"flex-1"},{default:o((()=>[u(a,{class:"text-[26rpx] leading-[36rpx] text-[#222] mb-[4rpx]"},{default:o((()=>[p(n(e),1)])),_:2},1024),u(a,{class:"text-[22rpx] leading-[36rpx] text-[#888]"},{default:o((()=>[p(n(e),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])])),_:1}),x(" 优惠券 "),u(a,{onTouchmove:t[21]||(t[21]=i((()=>{}),["prevent","stop"]))},{default:o((()=>[u(D,{class:"popup-type",show:je.value,onClose:t[20]||(t[20]=e=>je.value=!1)},{default:o((()=>[u(a,{class:"min-h-[480rpx]",onTouchmove:t[19]||(t[19]=i((()=>{}),["prevent","stop"]))},{default:o((()=>[u(a,{class:"flex items-center justify-center py-[34rpx] relative"},{default:o((()=>[u(l,{class:"text-[32rpx] leading-[36rpx] font-500"},{default:o((()=>[p("优惠券")])),_:1})])),_:1}),u(I,{class:"h-[520rpx]","scroll-y":"true"},{default:o((()=>[u(a,{class:"px-[20rpx]"},{default:o((()=>[(r(!0),c(_,null,f(Ie.value,((e,t)=>(r(),s(a,{class:"mb-[30rpx] flex items-center border-[2rpx] border-solid border-[rgba(0,0,0,.1)] rounded",key:t},{default:o((()=>[u(a,{class:"flex flex-col items-center py-[20rpx] w-[240rpx] border-0 border-r-[2rpx] border-dashed border-[rgba(0,0,0,.1)]"},{default:o((()=>[u(a,{class:"text-xs price-font"},{default:o((()=>[u(l,{class:"text-[28rpx]"},{default:o((()=>[p("￥")])),_:1}),u(l,{class:"text-[48rpx]"},{default:o((()=>[p(n(e.price),1)])),_:2},1024)])),_:2},1024),u(l,{class:"text-xs mt-[12rpx]"},{default:o((()=>[p(n(Number(e.min_condition_money)?"满"+e.min_condition_money+"元可以使用":"无门槛优惠券"),1)])),_:2},1024)])),_:2},1024),u(a,{class:"ml-[20rpx] flex-1 flex flex-col py-[20rpx]"},{default:o((()=>[u(l,{class:"text-xs"},{default:o((()=>[p(n(e.title),1)])),_:2},1024),u(l,{class:"text-xs text-[#ABABAB] mt-[12rpx]"},{default:o((()=>[p(n(1==e.valid_type&&"领取之日起"+e.length+"天内有效"||2==e.valid_type&&"领取之日起至"+e.valid_end_time),1)])),_:2},1024)])),_:2},1024),"collecting"===e.btnType?(r(),s(l,{key:0,class:"bg-[var(--primary-color)] rounded-2xl text-[#fff] text-xs mr-[20rpx] py-[8rpx] px-[16rpx]",onClick:t=>{return l=e,ie.value?uni.getStorageSync("isbindmobile")?(Le.value.open(),!1):void de({coupon_id:l.id||"",number:1}).then((e=>{De()})):(v().setLoginBack({url:"/addon/phone_shop/pages/goods/detail",param:{sku_id:be.value.sku_id}}),!1);var l}},{default:o((()=>[p("领取")])),_:2},1032,["onClick"])):(r(),s(l,{key:1,class:"!bg-[#fff] rounded-2xl text-[#ABABAB] text-xs mr-[20rpx] py-[8rpx] px-[16rpx]"},{default:o((()=>[p(n("collected"===e.btnType?"已领完":"已领取"),1)])),_:2},1024))])),_:2},1024)))),128))])),_:1})])),_:1}),u(a,{class:"px-[32rpx] pb-[67rpx] pt-[42rpx]"},{default:o((()=>[u(E,{class:"!w-[100%] !h-[72rpx] text-[26rpx] !bg-[var(--primary-color)] !text-[#fff] !m-0 rounded-full leading-[72rpx]",onClick:t[18]||(t[18]=e=>je.value=!1)},{default:o((()=>[p("确定")])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])])),_:1}),u(me,{ref_key:"goodsSkuRef",ref:ge,"goods-detail":be.value,onChange:Te},null,8,["goods-detail"]),u(ce,{ref_key:"sharePosterRef",ref:We,posterType:"phone_shop_goods",posterId:be.value.goods.poster_id,posterParam:d(qe),copyUrlParam:Ze.value},null,8,["posterId","posterParam","copyUrlParam"])])),_:1},8,["style"]),u(N,{"bg-color":"rgb(248,248,248)",loading:ye.value,loadingText:"",fontSize:"16",color:"#303133"},null,8,["loading"]),x(" 强制绑定手机号 "),u(ne,{ref_key:"bindMobileRef",ref:Le},null,512)],64)}}}),[["__scopeId","data-v-bb0fa277"]]);export{ve as default};
