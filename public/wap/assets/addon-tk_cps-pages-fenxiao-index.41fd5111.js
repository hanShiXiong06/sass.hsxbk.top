import{bG as a,d as s,j as e,r as l,l as t,p as u,o,U as c,u as n,c as r,w as d,b as i,n as f,y as _,z as p,f as m,V as g,H as x,i as b,cq as v,B as y,g as k,h,E as j,a7 as w,a as F,_ as z}from"./index-71c7df08.js";import{s as P}from"./share-poster.aefc8367.js";import{_ as I}from"./tabbar.a37cc2d9.js";import{_ as C}from"./pay.6aa36878.js";import"./cloneDeep.77735539.js";import"./pay.4cfa8889.js";const S=z(s({__name:"index",setup(s){const z=e((()=>q.info));let S=l(null),R=l(""),U={};const B=l(0),D=l();(async()=>{const s=await a.get("tk_cps/fenxiao/getfenxiaofnfo");D.value=s.data})();const L=()=>{if(!z.value)return x().setLoginBack({url:"/addon/tk_cps/pages/diy"}),!1;z.value&&z.value.member_id&&(U.member_id=z.value.member_id),z.value&&z.value.member_id&&(R.value+="?mid="+z.value.member_id),S.value.openShare()},q=t();e((()=>q.info));let E={};const G=e((()=>({backgroundImage:"url("+j("static/resource/images/member/commission/commission_bg.png")+") ",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"})));return e((()=>Object.keys(E).length?2*Number(E.height)+2*E.top+530+16+"rpx":"530rpx")),u((s=>{let e=uni.getStorageSync("pid");var l;e&&e>0&&(l={pid:e},a.post("tk_cps/checkfenxiao",l))})),(a,s)=>{const e=b,l=v,t=y,u=k(h("share-poster"),P),x=k(h("tabbar"),I),z=k(h("pay"),C);return o(),c(g,null,[n(q).info?(o(),r(e,{key:0,class:"bg-[#F6F6F6] min-h-[100vh] w-full",style:f(a.themeColor())},{default:d((()=>[i(e,{class:"reseller fixed w-full z-2 !bg-[#F6F6F6]"},{default:d((()=>[i(e,{class:"top mt-[-44rpx]",style:f({...n(G),backgroundImage:"url("+n(j)("addon/tk_cps/fenxiao/bjfx.png")+")"})},{default:d((()=>[i(e,{class:"top1"},{default:d((()=>[i(e,{class:"num1",style:{}},{default:d((()=>[i(e,null,{default:d((()=>[_("当前佣金")])),_:1}),i(e,{style:{"font-size":"25px"}},{default:d((()=>[_(p(n(q).info?n(w)(n(q).info.commission):0),1)])),_:1})])),_:1}),i(e,{class:"jilu"},{default:d((()=>[i(l,{url:"/app/pages/member/detailed_account?type=commission"},{default:d((()=>[i(e,{class:"jl"},{default:d((()=>[_("分销佣金")])),_:1})])),_:1})])),_:1}),i(e,{class:"fx",onClick:s[0]||(s[0]=a=>L())},{default:d((()=>[i(t,{class:"icon1",src:n(j)("addon/tk_cps/fenxiao/fenxiang.png"),mode:"aspectFit"},null,8,["src"]),i(e,{class:"fxwz"},{default:d((()=>[_("分享")])),_:1})])),_:1})])),_:1}),i(e,{class:"top1"},{default:d((()=>[i(e,{class:"num"},{default:d((()=>[i(e,null,{default:d((()=>[_("累计收益")])),_:1}),i(e,{class:"txc"},{default:d((()=>{var a;return[_(p(n(w)(null==(a=n(q).info)?void 0:a.commission_get)||"0.00"),1)]})),_:1})])),_:1}),D.value?(o(),r(e,{key:0,class:"num"},{default:d((()=>[i(e,null,{default:d((()=>[_("累计订单")])),_:1}),i(e,{class:"txc"},{default:d((()=>[_(p(D.value.first_order_num+D.value.second_order_num),1)])),_:1})])),_:1})):m("v-if",!0),i(e,{class:"num"},{default:d((()=>[i(e,null,{default:d((()=>[_("正在提现")])),_:1}),i(e,null,{default:d((()=>{var a;return[_(p(n(w)(null==(a=n(q).info)?void 0:a.commission_cash_outing)||"0.00"),1)]})),_:1})])),_:1})])),_:1}),i(e,{class:"tixian",onClick:s[1]||(s[1]=a=>n(F)({url:"/app/pages/member/apply_cash_out"}))},{default:d((()=>[i(e,{class:"btn",style:{"font-size":"16px"}},{default:d((()=>[_("立即提现")])),_:1})])),_:1})])),_:1},8,["style"]),D.value?(o(),r(e,{key:0,class:"icon"},{default:d((()=>[i(e,{class:"ico"},{default:d((()=>[i(e,{class:"tubiao"},{default:d((()=>[i(t,{class:"img",src:n(j)("addon/tk_cps/fenxiao/yifx.png")},null,8,["src"])])),_:1}),i(e,{class:"tt"},{default:d((()=>[i(e,{class:"text_r"},{default:d((()=>[_(p(D.value.first_num),1)])),_:1}),i(e,{class:"text"},{default:d((()=>[_("一级总数(人)")])),_:1})])),_:1})])),_:1}),i(e,{class:"ico"},{default:d((()=>[i(e,{class:"tubiao"},{default:d((()=>[i(t,{class:"img",src:n(j)("addon/tk_cps/fenxiao/fxtd.png")},null,8,["src"])])),_:1}),i(e,{class:"tt"},{default:d((()=>[i(e,{class:"text_r"},{default:d((()=>[_(p(D.value.second_num),1)])),_:1}),i(e,{class:"text"},{default:d((()=>[_("二级总数(人)")])),_:1})])),_:1})])),_:1}),i(e,{class:"ico"},{default:d((()=>[i(e,{class:"tubiao"},{default:d((()=>[i(t,{class:"img",src:n(j)("addon/tk_cps/fenxiao/yidd.png")},null,8,["src"])])),_:1}),i(e,{class:"tt"},{default:d((()=>[i(e,{class:"text_r"},{default:d((()=>[_(p(D.value.first_order_num),1)])),_:1}),i(e,{class:"text"},{default:d((()=>[_("一级订单")])),_:1})])),_:1})])),_:1}),i(e,{class:"ico"},{default:d((()=>[i(e,{class:"tubiao"},{default:d((()=>[i(t,{class:"img",src:n(j)("addon/tk_cps/fenxiao/erdd.png")},null,8,["src"])])),_:1}),i(e,{class:"tt"},{default:d((()=>[i(e,{class:"text_r"},{default:d((()=>[_(p(D.value.second_order_num),1)])),_:1}),i(e,{class:"text"},{default:d((()=>[_("二级订单")])),_:1})])),_:1})])),_:1})])),_:1})):m("v-if",!0),i(e,{class:"kong"})])),_:1})])),_:1},8,["style"])):m("v-if",!0),i(u,{ref_key:"sharePosterRef",ref:S,posterType:"tk_cps_bwc",posterId:B.value,posterParam:n(U),copyUrlParam:n(R)},null,8,["posterId","posterParam","copyUrlParam"]),i(x,{addon:"tk_cps"}),i(z,{ref:"payRef",onClose:s[2]||(s[2]=s=>a.payLoading=!1)},null,512)],64)}}}),[["__scopeId","data-v-b932833a"]]);export{S as default};
