import{d as e,r as s,o as a,c as l,w as t,b as o,U as n,ad as d,u as r,V as c,f as u,n as i,ae as m,af as _,i as f,y as p,z as y,E as g,a as h,D as v,B as w,_ as k}from"./index-71c7df08.js";import{M as D}from"./mescroll-body.49de0f6f.js";import{M as x}from"./mescroll-empty.95b8c17e.js";import{u as b}from"./useMescroll.26ccf5de.js";import{J as C}from"./tourism.86990a9a.js";import"./mescroll-i18n.00218d15.js";/* empty css                                                                       */const M=k(e({__name:"record",setup(e){let k=s([]),M=s(!1);const{mescrollInit:j,downCallback:I,getMescroll:E}=b(_,m),O=e=>{M.value=!1;let s={page:e.num,limit:e.size};C(s).then((s=>{let a=s.data.data;1==e.num&&(k.value=[]),k.value=k.value.concat(a),e.endSuccess(a.length),M.value=!0})).catch((()=>{M.value=!0,e.endErr()}))},z=(e,s)=>{let a,l;-1!=e.indexOf("/")?a=e.split("/"):-1!=e.indexOf("-")&&(a=e.split("-"));const t=new Date(e).getDay();return l="yearMonthDay"==s?a[0]+"年"+a[1]+"月"+a[2]+"日":"yearMonthDayWeek"==s?a[0]+"年"+a[1]+"月"+a[2]+"日 "+["周日","周一","周二","周三","周四","周五","周六"][t]:a[1]+"月"+a[2]+"日",l},R=e=>{h({url:"/addon/tourism/pages/verify/detail",param:{code:e.verify_code}})};return(e,s)=>{const m=v,_=f,h=w;return a(),l(_,{class:"bg-[#f8f8f8] min-h-screen overflow-hidden",style:i(e.themeColor())},{default:t((()=>[o(D,{ref:"mescrollRef",top:"20rpx",onInit:r(j),down:{use:!1},onUp:O},{default:t((()=>[o(_,{class:"goods-wrap"},{default:t((()=>[(a(!0),n(c,null,d(r(k),((e,s)=>(a(),n(c,{key:e.order_id},["hotel"==e.order_type?(a(),l(_,{key:0,class:"goods-item",onClick:s=>R(e)},{default:t((()=>[o(_,{class:"goods-head"},{default:t((()=>[o(m,null,{default:t((()=>[p("核销时间："+y(e.verify_time),1)])),_:2},1024)])),_:2},1024),o(_,{class:"goods-content"},{default:t((()=>[o(h,{class:"w-[40rpx]",src:r(g)("addon/tourism/tourism/member/hotel.png")},null,8,["src"]),o(_,null,{default:t((()=>[o(_,{class:"name-wrap"},{default:t((()=>[o(_,{class:"multi-hidden"},{default:t((()=>[p(y(e.hotel.hotel_name),1)])),_:2},1024)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(e.goods_name),1)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(z(e.start_time,"monthDay"))+"(入住)-"+y(z(e.end_time,"monthDay"))+"(离店)"+y(e.days)+"晚上/"+y(e.num)+"间",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])):u("v-if",!0),"way"==e.order_type?(a(),l(_,{key:1,class:"goods-item",onClick:s=>R(e)},{default:t((()=>[o(_,{class:"goods-head"},{default:t((()=>[o(m,null,{default:t((()=>[p("核销时间："+y(e.verify_time),1)])),_:2},1024)])),_:2},1024),o(_,{class:"goods-content"},{default:t((()=>[o(h,{class:"w-[40rpx]",src:r(g)("addon/tourism/tourism/member/way.png")},null,8,["src"]),o(_,null,{default:t((()=>[o(_,{class:"name-wrap"},{default:t((()=>[o(_,{class:"multi-hidden"},{default:t((()=>[p(y(e.way.way_name),1)])),_:2},1024)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(e.goods_name),1)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(e.num)+"张 "+y(z(e.start_time,"monthDay"))+"（出游）",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])):u("v-if",!0),"scenic"==e.order_type?(a(),l(_,{key:2,class:"goods-item",onClick:s=>R(e)},{default:t((()=>[o(_,{class:"goods-head"},{default:t((()=>[o(m,null,{default:t((()=>[p("核销时间："+y(z(e.start_time,"yearMonthDayWeek")),1)])),_:2},1024)])),_:2},1024),o(_,{class:"goods-content"},{default:t((()=>[o(h,{class:"w-[40rpx]",src:r(g)("addon/tourism/tourism/member/scenic.png")},null,8,["src"]),o(_,null,{default:t((()=>[o(_,{class:"name-wrap"},{default:t((()=>[o(_,{class:"multi-hidden"},{default:t((()=>[p(y(e.scenic.scenic_name),1)])),_:2},1024)])),_:2},1024),o(_,{class:"desc"},{default:t((()=>[p(y(e.num)+"人 "+y(z(e.start_time,"yearMonthDay"))+"出发（"+y(e.goods_name)+"）",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])):u("v-if",!0)],64)))),128))])),_:1}),!r(k).length&&r(M)?(a(),l(x,{key:0,option:{icon:r(g)("static/resource/images/empty.png")}},null,8,["option"])):u("v-if",!0)])),_:1},8,["onInit"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-b962f1e9"]]);export{M as default};
