import{X as e,Y as a,Z as t,o as s,c as l,w as r,a3 as o,i,d,r as n,p as c,bn as u,F as p,b as f,O as m,ah as x,P as v,f as h,y as _,z as g,u as b,n as y,a as k,g as C,h as w,C as j,ag as A,bo as S,bp as D,D as P}from"./index-ef55c51f.js";import{_ as F}from"./u-swipe-action-item.8524d591.js";import{_ as O}from"./_plugin-vue_export-helper.1b428a4d.js";import{M as z}from"./mescroll-empty.c0f31c46.js";import"./u-icon.ea2e3f36.js";import"./mescroll-i18n.6c3e7d31.js";const B=O({name:"u-swipe-action",mixins:[a,t,{props:{autoClose:{type:Boolean,default:()=>e.swipeAction.autoClose}}}],data:()=>({}),provide(){return{swipeAction:this}},computed:{parentData(){return[this.autoClose]}},watch:{parentData(){this.children.length&&this.children.map((e=>{"function"==typeof e.updateParentData&&e.updateParentData()}))}},created(){this.children=[]},methods:{closeOther(e){this.autoClose&&this.children.map(((a,t)=>{e!==a&&a.closeHandler()}))}}},[["render",function(e,a,t,d,n,c){const u=i;return s(),l(u,{class:"u-swipe-action"},{default:r((()=>[o(e.$slots,"default")])),_:3})}]]),E=O(d({__name:"address",setup(e){const a=n(!0),t=n(0),o=n([]),d=n([]),O=n(""),E=n("");c((e=>{O.value=e.type||"",E.value=e.source||"",e.type&&(t.value="address"==e.type?0:1),uni.getStorageSync("selectAddressCallback")&&uni.removeStorage({key:"selectAddressCallback"})})),u({}).then((({data:e})=>{const s=[],l=[];e.forEach((e=>{"address"==e.type?s.push(e):l.push(e)})),E.value?o.value=0==t.value?s:l:o.value=e,a.value=!1})).catch((()=>{a.value=!1}));const H=()=>{k({url:"/app/pages/member/address_edit",param:{source:E.value}})},I=n([{text:p("delete"),style:{backgroundColor:"#F56C6C"}}]);return(e,n)=>{const c=i,u=P,O=C(w("u-swipe-action-item"),F),M=C(w("u-swipe-action"),B),T=j,V=A;return a.value?h("v-if",!0):(s(),l(c,{key:0,class:"address bg-[var(--page-bg-color)] min-h-[100vh]",style:y(e.themeColor())},{default:r((()=>[f(V,{"scroll-y":"true"},{default:r((()=>[o.value.length?(s(),l(c,{key:0,class:"sidebar-marign pt-[var(--top-m)]"},{default:r((()=>[f(M,null,{default:r((()=>[(s(!0),m(v,null,x(o.value,((e,a)=>(s(),l(c,{class:"mb-[var(--top-m)] card-template"},{default:r((()=>[f(O,{options:I.value,onClick:e=>(e=>{const a=t.value?d:o,s=a.value[e];D(s.id).then((()=>{a.value.splice(e,1)})).catch()})(a)},{default:r((()=>[f(c,{class:"flex items-center"},{default:r((()=>[f(c,{class:"flex-1 line-feed mr-[20rpx]",onClick:a=>(e=>{const a=uni.getStorageSync("selectAddressCallback");a&&(a.address_id=e.id,uni.setStorage({key:"selectAddressCallback",data:a,success(){k({url:a.back,mode:"redirectTo"})}}))})(e)},{default:r((()=>[f(c,{class:"flex items-center"},{default:r((()=>[f(c,{class:"text-[#333] text-[30rpx] leading-[34rpx] font-500"},{default:r((()=>[_(g(e.name),1)])),_:2},1024),f(u,{class:"text-[#333] text-[30rpx] ml-[10rpx]"},{default:r((()=>[_(g(b(S)(e.mobile)),1)])),_:2},1024),1==e.is_default?(s(),l(c,{key:0,class:"bg-primary-light !text-[var(--primary-color)] border-[2rpx] border-solid border-[var(--primary-color)] !text-[22rpx] px-[10rpx] h-[36rpx] ml-[10rpx] tag-item"},{default:r((()=>[_(g(b(p)("default")),1)])),_:1})):h("v-if",!0)])),_:2},1024),f(c,{class:"mt-[16rpx] text-[26rpx] line-feed text-[var(--text-color-light9)] leading-[1.4]"},{default:r((()=>[_(g(e.full_address),1)])),_:2},1024)])),_:2},1032,["onClick"]),f(u,{class:"nc-iconfont nc-icon-xiugaiV6xx shrink-0 text-[32rpx]",onClick:a=>{return t=e.id,void k({url:"/app/pages/member/address_edit",param:{id:t,source:E.value}});var t}},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})):h("v-if",!0),o.value.length?h("v-if",!0):(s(),l(z,{key:1,option:{tip:"暂无收货地址"}})),f(c,{class:"w-full footer"},{default:r((()=>[f(c,{class:"py-[30rpx] px-[var(--sidebar-m)] footer w-full fixed bottom-0 left-0 right-0 box-border"},{default:r((()=>[f(T,{"hover-class":"none",class:"primary-btn-bg text-[#fff] h-[80rpx] leading-[80rpx] rounded-[100rpx] text-[26rpx] font-500",onClick:H},{default:r((()=>[_(g(b(p)("createAddress")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"]))}}}),[["__scopeId","data-v-dd70567e"]]);export{E as default};
