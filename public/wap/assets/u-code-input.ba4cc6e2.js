import{al as e,am as t,an as o,aX as i,bA as n,o as a,c as s,w as d,I as l,K as u,J as r,n as p,y as c,z as h,f as m,b as g,i as y,D as b,a1 as f}from"./index-d8a8f699.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";const x=_({name:"u-code-input",mixins:[t,o,{props:{adjustPosition:{type:Boolean,default:()=>e.codeInput.adjustPosition},maxlength:{type:[String,Number],default:()=>e.codeInput.maxlength},dot:{type:Boolean,default:()=>e.codeInput.dot},mode:{type:String,default:()=>e.codeInput.mode},hairline:{type:Boolean,default:()=>e.codeInput.hairline},space:{type:[String,Number],default:()=>e.codeInput.space},modelValue:{type:[String,Number],default:()=>e.codeInput.value},focus:{type:Boolean,default:()=>e.codeInput.focus},bold:{type:Boolean,default:()=>e.codeInput.bold},color:{type:String,default:()=>e.codeInput.color},fontSize:{type:[String,Number],default:()=>e.codeInput.fontSize},size:{type:[String,Number],default:()=>e.codeInput.size},disabledKeyboard:{type:Boolean,default:()=>e.codeInput.disabledKeyboard},borderColor:{type:String,default:()=>e.codeInput.borderColor},disabledDot:{type:Boolean,default:()=>e.codeInput.disabledDot}}}],data(){return{inputValue:"",isFocus:this.focus}},watch:{modelValue:{immediate:!0,handler(e){this.inputValue=String(e).substring(0,this.maxlength)}}},computed:{codeLength(){return new Array(Number(this.maxlength))},itemStyle(){return e=>{const t={width:i(this.size),height:i(this.size)};return"box"===this.mode&&(t.border=`${this.hairline?.5:1}px solid ${this.borderColor}`,0===n(this.space)&&(0===e&&(t.borderTopLeftRadius="3px",t.borderBottomLeftRadius="3px"),e===this.codeLength.length-1&&(t.borderTopRightRadius="3px",t.borderBottomRightRadius="3px"),e!==this.codeLength.length-1&&(t.borderRight="none"))),e!==this.codeLength.length-1?t.marginRight=i(this.space):t.marginRight=0,t}},codeArray(){return String(this.inputValue).split("")},lineStyle(){const e={};return e.height=this.hairline?"2px":"4px",e.width=i(this.size),e.backgroundColor=this.borderColor,e}},emits:["change","finish","update:modelValue"],methods:{addUnit:i,inputHandler(e){const t=e.detail.value;this.inputValue=t,this.disabledDot&&this.$nextTick((()=>{this.inputValue=t.replace(".","")})),this.$emit("change",t),this.$emit("update:modelValue",t),String(t).length>=Number(this.maxlength)&&this.$emit("finish",t)}}},[["render",function(e,t,o,i,n,_){const x=y,I=b,S=f;return a(),s(x,{class:"u-code-input"},{default:d((()=>[(a(!0),l(u,null,r(_.codeLength,((t,o)=>(a(),s(x,{class:"u-code-input__item",style:p([_.itemStyle(o)]),key:o},{default:d((()=>[e.dot&&_.codeArray.length>o?(a(),s(x,{key:0,class:"u-code-input__item__dot"})):(a(),s(I,{key:1,style:p({fontSize:_.addUnit(e.fontSize),fontWeight:e.bold?"bold":"normal",color:e.color})},{default:d((()=>[c(h(_.codeArray[o]),1)])),_:2},1032,["style"])),"line"===e.mode?(a(),s(x,{key:2,class:"u-code-input__item__line",style:p([_.lineStyle])},null,8,["style"])):m("v-if",!0),n.isFocus&&_.codeArray.length===o?(a(),s(x,{key:3,style:p({backgroundColor:e.color}),class:"u-code-input__item__cursor"},null,8,["style"])):m("v-if",!0)])),_:2},1032,["style"])))),128)),g(S,{disabled:e.disabledKeyboard,type:"number",focus:e.focus,value:n.inputValue,maxlength:e.maxlength,adjustPosition:e.adjustPosition,class:"u-code-input__input",onInput:_.inputHandler,style:p({height:_.addUnit(e.size)}),onFocus:t[0]||(t[0]=e=>n.isFocus=!0),onBlur:t[1]||(t[1]=e=>n.isFocus=!1)},null,8,["disabled","focus","value","maxlength","adjustPosition","onInput","style"])])),_:1})}],["__scopeId","data-v-fa14b542"]]);export{x as _};
