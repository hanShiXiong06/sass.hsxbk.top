import{d as e,r as a,o as t,c as l,w as s,n as r,u as o,b as n,y as d,z as x,f as p,K as c,a as f,B as u,D as i,i as m,g as _,h as v,C as g,E as h,a7 as b,M as y,_ as k}from"./index-71c7df08.js";import{_ as w}from"./loading-page.vue_vue_type_script_setup_true_lang.c7dc2256.js";import{c as C,d as j,f as z}from"./fenxiao.04341d50.js";const B=k(e({__name:"promote",setup(e){const k=a(!0),B=a({}),D=a(0);C().then((e=>{D.value=e.data.length||0})).catch((()=>{D.value=0}));const E=a(0);j().then((e=>{E.value=e.data.direct.length+e.data.indirect.length||0})).catch((()=>{E.value=0}));const I=a({});k.value=!0,z().then((e=>{I.value=e.data,k.value=!1}));c("fenxiao_poster").then((e=>{B.value=e.data.content}));const K=()=>{f({url:"/addon/shop_fenxiao/pages/promote_code",param:{id:I.value.member_id}})};return(e,a)=>{const c=u,C=i,j=m,z=_(v("u-parse"),y),M=g,S=_(v("loading-page"),w);return t(),l(j,{class:"min-h-[100vh]",style:r(e.themeColor())},{default:s((()=>[k.value?p("v-if",!0):(t(),l(j,{key:0,class:"min-h-[100vh] px-[var(--sidebar-m)] pt-[30rpx] pb-[160rpx] box-border",style:r({background:"url("+o(h)("addon/shop_fenxiao/index/promote_bg.png")+") #ff2d46 left top /100% no-repeat"})},{default:s((()=>[n(j,{class:"mt-[230rpx] bg-[#fff] rounded-[var(--rounded-big)]"},{default:s((()=>[n(j,{class:"flex flex-col justify-center rounded-[var(--rounded-big)]"},{default:s((()=>[n(c,{class:"w-[384rpx] h-[74rpx] m-auto -mt-[20rpx]",src:o(h)("addon/shop_fenxiao/index/my_earnings.png"),mode:""},null,8,["src"]),n(j,{class:"flex flex-col items-center justify-center text-[24rpx] pt-[50rpx] pb-[20rpx]"},{default:s((()=>[n(j,{class:"inline-block mb-[14rpx]"},{default:s((()=>[n(C,{class:"font-500 text-[26rpx]"},{default:s((()=>[d("￥")])),_:1}),I.value.member?(t(),l(C,{key:0,class:"text-[40rpx] ml-[4rpx] price-font"},{default:s((()=>[d(x(o(b)(I.value.member.commission_get||0)),1)])),_:1})):p("v-if",!0)])),_:1}),n(j,{class:"flex items-center"},{default:s((()=>[n(c,{class:"w-[40rpx] h-[40rpx]",src:o(h)("addon/shop_fenxiao/index/money.png"),mode:""},null,8,["src"]),n(j,{class:"text-[var(--text-color-light6)]"},{default:s((()=>[d("累计收益")])),_:1})])),_:1})])),_:1})])),_:1}),n(j,{class:"flex justify-around pt-[30rpx] pb-[60rpx]"},{default:s((()=>[n(j,{class:"flex items-center flex-col",onClick:a[0]||(a[0]=e=>o(f)({url:"/addon/shop_fenxiao/pages/team"}))},{default:s((()=>[n(C,{class:"text-[#303133] text-[36rpx] font-500"},{default:s((()=>[d(x(E.value),1)])),_:1}),n(C,{class:"text-[26rpx] text-[var(--text-color-light6)] mt-[20rpx]"},{default:s((()=>[d("我的团队人数")])),_:1})])),_:1}),n(j,{class:"flex items-center flex-col",onClick:a[1]||(a[1]=e=>o(f)({url:"/addon/shop_fenxiao/pages/child_fenxiao"}))},{default:s((()=>[n(C,{class:"text-[#303133] text-[36rpx] font-500"},{default:s((()=>[d(x(D.value),1)])),_:1}),n(C,{class:"text-[26rpx] text-[var(--text-color-light6)] mt-[20rpx]"},{default:s((()=>[d("分销商人数")])),_:1})])),_:1})])),_:1})])),_:1}),n(j,{class:"mt-[100rpx] bg-[#fff] rounded-[var(--rounded-big)] flex flex-col px-[var(--pad-sidebar-m)] pb-[50rpx]"},{default:s((()=>[n(c,{class:"w-[384rpx] h-[74rpx] m-auto -mt-[20rpx] mb-[30rpx]",src:o(h)("addon/shop_fenxiao/index/activity_rules.png"),mode:""},null,8,["src"]),B.value?(t(),l(j,{key:0,class:"content"},{default:s((()=>[n(z,{content:B.value,tagStyle:{img:"vertical-align: top;",p:"overflow: hidden;word-break:break-word;"}},null,8,["content"]),p(' <rich-text :nodes="promoteContent"></rich-text> ')])),_:1})):(t(),l(j,{key:1,class:"rules-empty"},{default:s((()=>[d("暂无活动规则")])),_:1}))])),_:1}),n(j,{class:"fixed left-[var(--sidebar-m)] bottom-[30rpx] right-[var(--sidebar-m)] flex items-center z-10"},{default:s((()=>[n(M,{class:"w-[100%] h-[80rpx] flex-center level-wrap font-500 text-[#985400] rounded-[90rpx] text-[26rpx]",onClick:K},{default:s((()=>[d("邀请好友")])),_:1})])),_:1})])),_:1},8,["style"])),n(S,{loading:k.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-10589e2d"]]);export{B as default};
