import{d as e,r as a,p as s,t as o,a as t,s as l,H as n,bx as i,E as u,o as d,c as p,w as r,O as _,b as c,f as m,y as f,P as g,n as v,Y as h,B as y,i as b,C as j,g as w,h as x}from"./index-9317da28.js";import{_ as k}from"./u-popup.1f2ebcae.js";import{_ as C}from"./loading-page.vue_vue_type_script_setup_true_lang.c92b07c2.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-transition.65be38eb.js";import"./u-icon.5e775659.js";import"./u-safe-bottom.3546c5bb.js";import"./u-loading-page.de89bca9.js";import"./u-loading-icon.aabe3d05.js";/* empty css                                                                       */const B=S(e({__name:"promote_code",setup(e){const S=a(!1),B=a(!0),L=()=>{S.value=!1};a(null);const{setShare:O}=h();s((e=>{if(!e.id)return o({title:"缺少参数id",icon:"none"}),void setTimeout((()=>{t({url:"/addon/shop/pages/index",mode:"reLaunch"})}),1e3);if(!l())return void n().setLoginBack({url:"/addon/shop_fenxiao/pages/promote_code",param:{id:e.id,mid:e.mid}});E(e.id);let a={title:"分销推广",desc:"分销推广"};O({wechat:{...a},weapp:{...a}})}));const z=a(""),E=e=>{B.value=!0,i({type:"fenxiao",param:{member_id:e}}).then((e=>{z.value=e.data&&u(e.data)||"",B.value=!1}))};return(e,a)=>{const s=y,o=b,t=j,l=w(x("u-popup"),k),n=w(x("loading-page"),C);return d(),p(o,{class:"container",style:v(e.themeColor())},{default:r((()=>[B.value?m("v-if",!0):(d(),_(g,{key:0},[c(o,{class:"poster-wrap"},{default:r((()=>[z.value?(d(),p(s,{key:0,src:z.value,mode:"widthFix","show-menu-by-longpress":!0},null,8,["src"])):m("v-if",!0)])),_:1}),c(o,{class:"tips"},{default:r((()=>[f("长按识别图中二维码")])),_:1}),c(l,{show:S.value,onClose:a[0]||(a[0]=e=>S.value=!1),mode:"center",round:"var(--rounded-big)","safe-area-inset-bottom":!1,customStyle:{overflow:"hidden"}},{default:r((()=>[c(o,{class:"dialog-popup"},{default:r((()=>[c(o,{class:"title"},{default:r((()=>[f("提示")])),_:1}),c(o,{class:"message"},{default:r((()=>[f("您拒绝了保存图片到相册的授权请求，无法保存图片到相册，如需正常使用，请授权之后再进行操作。")])),_:1}),c(o,{class:"action-wrap"},{default:r((()=>[c(o,{onClick:L},{default:r((()=>[f("取消")])),_:1}),c(o,{class:"flex items-end"},{default:r((()=>[c(t,{type:"default",class:"authorization-btn","open-type":"openSetting",onOpensetting:L,"hover-class":"none"},{default:r((()=>[f("立即授权")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["show","round"])],64)),c(n,{loading:B.value},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-9fa673a4"]]);export{B as default};
