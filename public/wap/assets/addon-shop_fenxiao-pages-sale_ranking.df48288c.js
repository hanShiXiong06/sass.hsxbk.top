import{d as e,r,j as a,m as l,o as s,c as t,w as o,u as x,E as d,b as p,n,x as c,y as u,G as i,F as m,f,i as h,N as _,g,h as b,C as v,a4 as w,V as y,$ as k,H as j}from"./index-905183d4.js";import{_ as F}from"./u--image.b5d65e0e.js";import{_ as z}from"./u-loading-page.7aa0a449.js";import{c as E,d as C}from"./sale.94f1890c.js";import{_ as N}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-image.44c969ef.js";import"./u-icon.86a2aad0.js";import"./u-transition.dbaca185.js";import"./u-loading-icon.c376267d.js";const B=N(e({__name:"sale_ranking",setup(e){const N=r({}),B=r([]);a((e=>{I(Number(e.id)),$(Number(e.id))}));let D=r(!0);const I=e=>{E(e).then((e=>{N.value=e.data.member,N.value.order_money=e.data.order_money,N.value.currentRanking=0})).catch((()=>{D.value=!1}))},$=e=>{C(e).then((e=>{B.value=e.data,D.value=!1})).catch((()=>{D.value=!1}))},G=l((()=>{let e=null;return B.value.forEach(((r,a)=>{r.member.member_id===N.value.member_id&&(e=a+1)})),e}));return(e,r)=>{const a=h,l=_,E=g(b("u--image"),F),C=v,I=w,$=g(b("u-loading-page"),z);return s(),t(a,{class:"min-h-[100vh]",style:n(e.themeColor())},{default:o((()=>[x(D)?f("v-if",!0):(s(),d(i,{key:0},[p(a,{class:"w-[100%] h-[500rpx] relative background-size box-border",style:n({backgroundImage:"url("+x(y)("addon/shop_fenxiao/sale-ranking.png")+")"})},null,8,["style"]),p(a,{class:"bg-[#f8f8f8] relative z-2 rounded-tl-[20rpx] rounded-tr-[20rpx] mt-[-24rpx] py-[20rpx] px-[24rpx] h-[calc(100vh-476rpx)] flex flex-col box-border"},{default:o((()=>[p(a,{class:"bg-[#fff] rounded-[10rpx] py-[30rpx] px-[24rpx] flex"},{default:o((()=>[p(a,{class:"w-[88rpx] h-[88rpx] flex-shrink-0"},{default:o((()=>[p(E,{width:"88rpx",height:"88rpx",src:x(y)(N.value.headimg||""),model:"aspectFill",shape:"circle",class:"w-[88rpx] h-[88rpx] mr-[20rpx] rounded-[50%] overflow-hidden"},{error:o((()=>[p(l,{class:"w-[88rpx] h-[88rpx] rounded-[50%] overflow-hidden",src:x(y)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:1},8,["src"])])),_:1}),p(a,{class:"flex flex-1 flex-col justify-between ml-[30px]"},{default:o((()=>[p(a,{class:"text-[32rpx] font-600"},{default:o((()=>[c(u(N.value.nickname||N.value.username),1)])),_:1}),p(a,{class:"text-[26rpx]"},{default:o((()=>[p(C,{class:"text-[#999]"},{default:o((()=>[c("排名：")])),_:1}),p(C,{class:"font-600 text-[30rpx]"},{default:o((()=>[c(u(x(G)||"-"),1)])),_:1}),p(C,{class:"text-[#999] ml-[10rpx]"},{default:o((()=>[c("团队销售额: ")])),_:1}),p(C,{class:"font-600 text-[30rpx]"},{default:o((()=>[c("￥"+u(x(k)(N.value.order_money)),1)])),_:1})])),_:1})])),_:1})])),_:1}),p(I,{class:"h-[calc(100%-170rpx)] mt-[20rpx]","scroll-y":!0},{default:o((()=>[p(a,{class:"rounded-[10rpx] bg-[#fff]"},{default:o((()=>[(s(!0),d(i,null,m(B.value,((e,r)=>(s(),t(a,{key:r,class:"flex items-center p-[24rpx] pt-[54rpx]"},{default:o((()=>[p(a,{class:"w-[35rpx] flex-shrink-0"},{default:o((()=>[p(a,{class:j(["text-center text-[40rpx] font-600",{"text-[#F0D232]":0===r,"text-[#B9D1E9]":1===r,"text-[#EECCB5]":2===r}])},{default:o((()=>[c(u(r+1),1)])),_:2},1032,["class"]),p(a,{class:"h-[4rpx] rounded-[2rpx] bg-[#e9e9eb] mt-[10rpx]"})])),_:2},1024),r<3?(s(),t(a,{key:0,class:"w-[88rpx] h-[88rpx] relative ml-[84rpx] flex-shrink-0"},{default:o((()=>[p(E,{width:"88rpx",height:"88rpx",src:x(y)(e.member.headimg||""),model:"aspectFill",shape:"circle",class:"w-[88rpx] h-[88rpx] rounded-[50%] absolute z-10 right-[4rpx] bottom-[4rpx]"},{error:o((()=>[p(l,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:x(y)("addon/shop_fenxiao/index/head.png"),mode:"aspectFill"},null,8,["src"])])),_:2},1032,["src"]),p(l,{class:"w-[120rpx] h-[120rpx] absolute z-5 right-0 bottom-0",src:x(y)(`addon/shop_fenxiao/ranking${r+1}.png`),mode:"widthFix"},null,8,["src"])])),_:2},1024)):(s(),t(a,{key:1,class:"w-[88rpx] h-[88rpx] ml-[84rpx]"},{default:o((()=>[p(l,{class:"w-[88rpx] h-[88rpx] rounded-[50%]",src:x(y)(e.member.headimg||""),mode:"aspectFill"},null,8,["src"])])),_:2},1024)),p(a,{class:"text-[26rpx] font-600 ml-[24rpx] flex-1"},{default:o((()=>[c(u(e.member.nickname||e.member.username),1)])),_:2},1024),p(a,{class:"text-[30rpx] font-600 ml-[24rpx]"},{default:o((()=>[c("￥"+u(x(k)(e.order_money)),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})],64)),p($,{"bg-color":"rgb(248,248,248)",loading:x(D),loadingText:"",fontSize:"16",color:"#333"},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-5f3bdaef"]]);export{B as default};
