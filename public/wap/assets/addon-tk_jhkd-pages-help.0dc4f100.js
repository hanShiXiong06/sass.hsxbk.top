import{P as e,Q as t,R as a,b_ as n,ar as i,aq as l,aj as o,ca as s,bi as r,g as c,h as d,o as u,c as p,w as m,b as h,aW as f,x as b,y as _,f as v,C as g,i as y,d as k,r as I,E as x,G as j,F as w,u as D,a5 as $,a6 as C}from"./index-e6ce9fbf.js";import{_ as B}from"./u-icon.c5d9cd81.js";import{_ as S}from"./u-cell.058e8a2e.js";import{_ as P}from"./u-line.ebbd60c6.js";import{_ as A}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as L}from"./tabbar.2cc8e58f.js";import{h as R}from"./tkjhkd.d6e0286f.js";import{M as z}from"./mescroll-body.dc3de07c.js";import{M}from"./mescroll-empty.b423055b.js";import{u as q}from"./useMescroll.26ccf5de.js";import"./u-badge.7d0ca9d8.js";import"./u-tabbar.2615c204.js";import"./u-safe-bottom.1ba5bfba.js";import"./mescroll-uni-option.2f7b06f4.js";import"./mescroll-i18n.6025c811.js";/* empty css                                                                       */const E=A({name:"u-collapse-item",mixins:[t,a,{props:{title:{type:String,default:()=>e.collapseItem.title},value:{type:String,default:()=>e.collapseItem.value},label:{type:String,default:()=>e.collapseItem.label},disabled:{type:Boolean,default:()=>e.collapseItem.disabled},isLink:{type:Boolean,default:()=>e.collapseItem.isLink},clickable:{type:Boolean,default:()=>e.collapseItem.clickable},border:{type:Boolean,default:()=>e.collapseItem.border},align:{type:String,default:()=>e.collapseItem.align},name:{type:[String,Number],default:()=>e.collapseItem.name},icon:{type:String,default:()=>e.collapseItem.icon},duration:{type:Number,default:()=>e.collapseItem.duration}}}],data:()=>({elId:n(),animationData:{},expanded:!1,showBorder:!1,animating:!1,parentData:{accordion:!1,border:!1}}),watch:{expanded(e){clearTimeout(this.timer),this.timer=null,this.timer=setTimeout((()=>{this.showBorder=e}),e?10:290)}},mounted(){this.init()},methods:{async init(){if(this.updateParentData(),!this.parent)return i();const{value:e,accordion:t,children:a=[]}=this.parent;if(t){if(l.array(e))return i();this.expanded=this.name==e}else{if(!l.array(e)&&null!==e)return i();this.expanded=(e||[]).some((e=>e==this.name))}await o(),this.setContentAnimate()},updateParentData(){this.getParentData("u-collapse")},async setContentAnimate(){const e=await this.queryRect(),t=this.expanded?e.height:0;this.animating=!0;const a=s({timingFunction:"ease-in-out"});a.height(t).step({duration:this.duration}).step(),this.animationData=a.export(),r(this.duration).then((()=>{this.animating=!1}))},clickHandler(){this.disabled&&this.animating||this.parent&&this.parent.onChange(this)},queryRect(){return new Promise((e=>{this.$uGetRect(`#${this.elId}`).then((t=>{e(t)}))}))}}},[["render",function(e,t,a,n,i,l){const o=g,s=c(d("u-icon"),B),r=c(d("u-cell"),S),k=y,I=c(d("u-line"),P);return u(),p(k,{class:"u-collapse-item"},{default:m((()=>[h(r,{title:e.$slots.title?"":e.title,value:e.value,label:e.label,icon:e.icon,isLink:e.isLink,clickable:e.clickable,border:i.parentData.border&&i.showBorder,onClick:l.clickHandler,arrowDirection:i.expanded?"up":"down",disabled:e.disabled},{title:m((()=>[f(e.$slots,"title",{},(()=>[!e.$slots.title&&e.title?(u(),p(o,{key:0},{default:m((()=>[b(_(e.title),1)])),_:1})):v("v-if",!0)]),!0)])),icon:m((()=>[f(e.$slots,"icon",{},(()=>[!e.$slots.icon&&e.icon?(u(),p(s,{key:0,size:22,name:e.icon},null,8,["name"])):v("v-if",!0)]),!0)])),value:m((()=>[f(e.$slots,"value",{},(()=>[!e.$slots.value&&e.value?(u(),p(o,{key:0},{default:m((()=>[b(_(e.value),1)])),_:1})):v("v-if",!0)]),!0)])),"right-icon":m((()=>[e.$slots["right-icon"]?v("v-if",!0):(u(),p(s,{key:0,size:16,name:"arrow-right"})),f(e.$slots,"right-icon",{},void 0,!0)])),_:3},8,["title","value","label","icon","isLink","clickable","border","onClick","arrowDirection","disabled"]),h(k,{class:"u-collapse-item__content",animation:i.animationData,ref:"animation"},{default:m((()=>[h(k,{class:"u-collapse-item__content__text content-class",id:i.elId,ref:i.elId},{default:m((()=>[f(e.$slots,"default",{},void 0,!0)])),_:3},8,["id"])])),_:3},8,["animation"]),i.parentData.border?(u(),p(I,{key:0})):v("v-if",!0)])),_:3})}],["__scopeId","data-v-b0e459d6"]]);const F=A({name:"u-collapse",mixins:[t,a,{props:{value:{type:[String,Number,Array,null],default:()=>e.collapse.value},accordion:{type:Boolean,default:()=>e.collapse.accordion},border:{type:Boolean,default:()=>e.collapse.border}}}],watch:{needInit(){this.init()},parentData(){this.children.length&&this.children.map((e=>{"function"==typeof e.updateParentData&&e.updateParentData()}))}},created(){this.children=[]},computed:{needInit(){return[this.accordion,this.value]}},emits:["open","close","change"],methods:{init(){this.children.map((e=>{e.init()}))},onChange(e){let t=[];this.children.map(((a,n)=>{this.accordion?(a.expanded=a===e&&!e.expanded,a.setContentAnimate()):a===e&&(a.expanded=!a.expanded,a.setContentAnimate()),t.push({name:a.name||n,status:a.expanded?"open":"close"})})),this.$emit("change",t),this.$emit(e.expanded?"open":"close",e.name)}}},[["render",function(e,t,a,n,i,l){const o=c(d("u-line"),P),s=y;return u(),p(s,{class:"u-collapse"},{default:m((()=>[e.border?(u(),p(o,{key:0})):v("v-if",!0),f(e.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-0f894625"]]),G=A(k({__name:"help",setup(e){const{mescrollInit:t,downCallback:a,getMescroll:n}=q(C,$),i=I();let l=I(!1);const o=e=>{let t=I({});l.value=!1,t.value.page=e.num,t.value.page_size=e.size,R(t.value).then((t=>{let a=t.data.data;e.endSuccess(a.length),1==e.num&&(i.value=[]),i.value=i.value.concat(a),l.value=!0})).catch((t=>{console.log("erro",t),l.value=!0,e.endErr()}))};return(e,n)=>{const l=g,s=c(d("u-collapse-item"),E),r=c(d("u-collapse"),F),f=c(d("tabbar"),L);return u(),x(j,null,[h(z,{ref:"mescrollRef",onInit:D(t),onDown:D(a),onUp:o},{default:m((()=>[h(r,{onChange:e.change,onClose:e.close,onOpen:e.open},{default:m((()=>[(u(!0),x(j,null,w(i.value,((e,t)=>(u(),p(s,{title:e.title},{default:m((()=>[h(l,{class:"u-collapse-content"},{default:m((()=>[b(_(e.content),1)])),_:2},1024)])),_:2},1032,["title"])))),256))])),_:1},8,["onChange","onClose","onOpen"]),i.value?v("v-if",!0):(u(),p(M,{key:0,option:{tip:"没有地址数据"}}))])),_:1},8,["onInit","onDown"]),h(f,{addon:"tk_jhkd"})],64)}}}),[["__scopeId","data-v-c9f41fb4"]]);export{G as default};
