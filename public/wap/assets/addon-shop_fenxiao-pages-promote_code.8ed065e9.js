import{d as a,r as e,j as s,X as o,B as t,bw as l,V as n,o as i,c as r,w as p,u,E as d,b as c,f as m,x as f,aN as _,G as g,n as h,U as b,N as v,i as w,ab as j,g as x,h as y}from"./index-905183d4.js";import{_ as S}from"./u-popup.e3f6594b.js";import{_ as k}from"./u-loading-page.7aa0a449.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-transition.dbaca185.js";import"./u-icon.86a2aad0.js";import"./u-safe-bottom.e94b03c1.js";import"./u-loading-icon.c376267d.js";const z=C(a({__name:"promote_code",setup(a){let C=e(!1),z=e(!0);const B=()=>{C.value=!1},{setShare:N,onShareAppMessage:T,onShareTimeline:A}=b();T(),A(),s((a=>{if(!o())return void t().setLoginBack({url:"/addon/shop_fenxiao/pages/promote_code",param:{id:a.id,mid:a.mid}});F(a.id);let e={title:"分销推广",desc:"分销推广"};N({wechat:{...e},weapp:{...e}})}));let E=e("");const F=a=>{z.value=!0,l({type:"fenxiao",param:{member_id:a}}).then((a=>{E.value=a.data&&n(a.data)||"",z.value=!1}))};return(a,e)=>{const s=v,o=w,t=j,l=x(y("u-popup"),S),n=x(y("u-loading-page"),k);return i(),r(o,{class:"container",style:h(a.themeColor())},{default:p((()=>[u(z)?m("v-if",!0):(i(),d(g,{key:0},[c(o,{class:"poster-wrap"},{default:p((()=>[u(E)?(i(),r(s,{key:0,src:u(E),mode:"widthFix","show-menu-by-longpress":!0},null,8,["src"])):m("v-if",!0)])),_:1}),c(o,{class:"tips"},{default:p((()=>[f("长按识别图中二维码")])),_:1}),c(l,{show:u(C),onClose:e[0]||(e[0]=a=>_(C)?C.value=!1:C=!1),mode:"center",round:10,closeable:!0,"safe-area-inset-bottom":!1},{default:p((()=>[c(o,{class:"dialog-popup"},{default:p((()=>[c(o,{class:"title"},{default:p((()=>[f("提示")])),_:1}),c(o,{class:"message"},{default:p((()=>[f("您拒绝了保存图片到相册的授权请求，无法保存图片到相册，如需正常使用，请授权之后再进行操作。")])),_:1}),c(o,{class:"action-wrap"},{default:p((()=>[c(o,{onClick:B},{default:p((()=>[f("取消")])),_:1}),c(o,null,{default:p((()=>[c(t,{type:"default",class:"authorization-btn","open-type":"openSetting",onOpensetting:B,"hover-class":"none"},{default:p((()=>[f("立即授权")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])],64)),c(n,{"bg-color":"rgb(248,248,248)",loading:u(z),loadingText:"",fontSize:"16",color:"#333"},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-3a384f52"]]);export{z as default};
