import{d as e,r as t,j as a,o as l,c as r,w as s,I as u,b as d,f as x,y as i,n,u as o,z as m,K as _,a as p,D as f,i as c,Q as v,g as b,h as k,l as g,Z as y,x as h}from"./index-d8a8f699.js";import{_ as w}from"./u-loading-page.c740ef13.js";import{b as j}from"./task.707c3c43.js";import{t as D}from"./topTabbar.a37f79d9.js";import{_ as T}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-loading-icon.6808ae8c.js";import"./u-transition.db07fff7.js";const F=T(e({__name:"task_detail",setup(e){D().setTopTabbarParam({title:"任务奖励详情"});const T=t({});a((e=>{z(Number(e.id))}));let F=t(!0);const z=e=>{j(e).then((e=>{T.value=e.data,1===T.value.status?(T.value.time=new Date(T.value.start_time).getTime()-(new Date).getTime(),T.value.time=T.value.time<0?"":T.value.time):2===T.value.status&&(2!=T.value.time_type?(T.value.time=new Date(T.value.end_time).getTime()-(new Date).getTime(),T.value.time=T.value.time<0?"":T.value.time):T.value.time=""),F.value=!1})).catch((()=>{F.value=!1}))};t({});const I=()=>{p({url:"/addon/shop_fenxiao/pages/task_rewards_detail",param:{id:T.value.id}})};return(e,t)=>{const a=f,p=c,j=v,D=b(k("u-loading-page"),w);return l(),r(p,{class:"bg-[#f8f8f8] min-h-[100vh] box-border",style:n(e.themeColor())},{default:s((()=>[Object.keys(T.value).length?(l(),u(_,{key:0},[d(p,{class:"w-[100%] h-[375rpx] relative background-size box-border p-[24rpx]",style:n({backgroundImage:"url("+o(g)("addon/shop_fenxiao/task_detail_wechat.png")+")",height:e.headerHeight})},{default:s((()=>[x(" 跳转个任务奖励明细 "),d(p,{class:"absolute bottom-[304rpx] right-[0rpx] bg-[rgba(202,111,0,0.3)] pl-[16rpx] pr-[14rpx] py-[4rpx] leading-[34rpx] rounded-tl-[20rpx] rounded-bl-[20rpx]",onClick:I},{default:s((()=>[d(a,{class:"iconfont iconlishijiluV6xx text-[24rpx] text-[#fff] mr-[6rpx]"}),d(a,{class:"text-[24rpx] text-[#fff]"},{default:s((()=>[i("奖励明细")])),_:1})])),_:1})])),_:1},8,["style"]),d(p,{class:"px-[var(--sidebar-m)] pb-[20rpx] mt-[-75rpx]"},{default:s((()=>[x(" 活动未开始 "),1===T.value.status?(l(),r(p,{key:0,class:"bg-[#fff] rounded-[16rpx] py-[48rpx] text-center relative mb-[20rpx]"},{default:s((()=>[d(p,{class:"text-[#626779] text-[32rpx] font-500 leading-[46rpx] mb-[10rpx]"},{default:s((()=>[i("该任务还未开始")])),_:1}),d(p,{class:"text-[#8288A2] text-[26rpx] leading-[36rpx]"},{default:s((()=>[i("请您耐心等待...")])),_:1})])),_:1})):x("v-if",!0),1!==T.value.status?(l(),r(p,{key:1,class:"bg-[#fff] rounded-[16rpx] px-[30rpx] pt-[40rpx] pb-[30rpx] relative"},{default:s((()=>[d(p,{class:"text-[32rpx] font-bold text-[#333] leading-[45rpx] multi-hidden text-center mb-[77rpx]"},{default:s((()=>[i(m(T.value.name),1)])),_:1}),x(" 进度条 "),d(p,{class:"relative pb-[58rpx] mb-[30rpx] mr-[30rpx]"},{default:s((()=>[d(p,{class:"w-full h-[24rpx] rounded-[12rpx] bg-[#FFF2D0] flex"},{default:s((()=>[x(" 进度条 "),d(p,{class:"h-[24rpx] rounded-[12rpx] bg-linear flex overflow-hidden",style:n({width:T.value.task_member?T.value.task_member.task_data.show_progress.rate+"%":0})},{default:s((()=>[d(p,{class:"mr-[10rpx] h-[24rpx] flex-1 flex items-center justify-end box-border"},{default:s((()=>[d(a,{class:"w-[4rpx] h-[4rpx] rounded-full bg-[#fff] mr-[6rpx]"}),d(a,{class:"w-[6rpx] h-[6rpx] rounded-full bg-[#fff] mr-[6rpx]"}),d(a,{class:"w-[8rpx] h-[8rpx] rounded-full bg-[#fff]"})])),_:1})])),_:1},8,["style"]),x(" 总进度图标 "),d(j,{class:"w-[52rpx] h-[52rpx] align-middle absolute right-0 top-[12rpx] transform -translate-y-1/2",mode:"widthFix",src:o(g)("addon/shop_fenxiao/task_icon.png")},null,8,["src"]),x(" 总进度金额 "),d(p,{class:"money px-[8rpx] bg-[var(--primary-color)] text-[#fff] absolute right-[26rpx] top-[-56rpx] transform translate-x-1/2 rounded-[16rpx] z-10 flex items-center"},{default:s((()=>[d(a,{class:"text-[16rpx] leading-[22rpx]"},{default:s((()=>[i("￥")])),_:1}),d(a,{class:"text-[24rpx] leading-[34rpx]"},{default:s((()=>{var e;return[i(m(null==(e=T.value.rules[0].reward)?void 0:e.commission),1)]})),_:1})])),_:1})])),_:1}),x(" 当前完成进度文字 "),T.value.task_member&&100!=T.value.task_member.task_data.show_progress.rate?(l(),r(p,{key:0,ref:"mytext",class:"absolute text-[26rpx] bottom-0 transform -translate-x-1/2 leading-[34rpx] text-[var(--primary-color)]",style:n({left:T.value.task_member?T.value.task_member.task_data.show_progress.rate+"%":0})},{default:s((()=>[i(m(T.value.task_member.task_data.now_data+T.value.task_member.task_data.util),1)])),_:1},8,["style"])):x("v-if",!0),x(" 需完成的总进度完成 "),d(p,{ref:"overallText",class:"absolute text-[26rpx] bottom-0 right-0"},{default:s((()=>[i(m(T.value.task_member?("元"==T.value.task_member.task_data.util?o(y)(T.value.task_member.task_data.end_data):T.value.task_member.task_data.end_data)+T.value.task_member.task_data.util:("元"==T.value.task_data.util?o(y)(T.value.task_data.end_data):T.value.task_data.end_data)+T.value.task_data.util),1)])),_:1},512)])),_:1}),T.value.task_member?(l(),r(p,{key:0,class:"bg-[#FFF8EF] rounded-[16rpx] px-[30rpx] py-[20rpx]"},{default:s((()=>[d(p,{class:"text-center text-[28rpx] leading-[40rpx] font-500 mb-[30rpx]"},{default:s((()=>[i("完成进度")])),_:1}),d(p,{class:"flex items-center mb-[20rpx]"},{default:s((()=>[d(p,{class:"text-[26rpx] flex-1 w-[615rpx] break-all flex items-center"},{default:s((()=>[d(a,{class:"text-[#823D19]"},{default:s((()=>[i(m("元"==T.value.task_member.task_data.util?"完成金额：":"单"==T.value.task_member.task_data.util?"完成单数：":"推广人数"),1)])),_:1}),d(p,{class:"text-[26rpx] text-[#333]"},{default:s((()=>[i(m(T.value.task_member.task_data.title)+"已达",1),d(a,{class:"text-[var(--primary-color)]"},{default:s((()=>[i(m("元"==T.value.task_member.task_data.util?o(y)(T.value.task_member.task_data.now_data):T.value.task_member.task_data.now_data),1)])),_:1}),i(m(T.value.task_member.task_data.util),1)])),_:1})])),_:1})])),_:1}),d(p,{class:"flex items-center mb-[20rpx]"},{default:s((()=>[d(p,{class:"text-[26rpx] flex-1 w-[615rpx] break-all flex items-center"},{default:s((()=>[d(a,{class:"text-[#823D19]"},{default:s((()=>[i("完成次数：")])),_:1}),d(p,{class:"text-[26rpx] text-[#333]"},{default:s((()=>[d(a,{class:"text-[var(--primary-color)]"},{default:s((()=>[i(m(T.value.task_member.complete_num),1)])),_:1}),d(a,null,{default:s((()=>[i("/"+m(T.value.times?T.value.times+"次":"不限次"),1)])),_:1})])),_:1})])),_:1})])),_:1}),d(p,{class:"flex items-center"},{default:s((()=>[d(p,{class:"text-[26rpx] flex-1 w-[615rpx] break-all flex items-center"},{default:s((()=>[d(a,{class:"text-[#823D19]"},{default:s((()=>[i("领取奖励：")])),_:1}),d(a,{class:"text-[#333]"},{default:s((()=>{var e;return[i("累计领取"+m(T.value.task_member.complete_num)+"次奖励共计"+m(o(y)(T.value.task_member.complete_num*(null==(e=T.value.rules[0].reward)?void 0:e.commission)))+"元",1)]})),_:1})])),_:1})])),_:1})])),_:1})):x("v-if",!0)])),_:1})):x("v-if",!0),x(" 任务信息 "),d(p,{class:"bg-[#fff] rounded-[16rpx] overflow-hidden mt-[20rpx] px-[30rpx] py-[20rpx]"},{default:s((()=>[d(p,{class:"text-[32rpx] font-bold mb-[30rpx] leading-[45rpx]"},{default:s((()=>[i("任务信息")])),_:1}),d(p,{class:"flex items-center mb-[20rpx]"},{default:s((()=>[d(p,{class:"text-[26rpx] flex-1 w-[615rpx] break-all flex items-center"},{default:s((()=>[d(a,{class:"text-[#626779]"},{default:s((()=>[i("任务内容：")])),_:1}),T.value.task_member?(l(),r(p,{key:1,class:"text-[26rpx] text-[#333]"},{default:s((()=>{var e,t,a,l,r;return[i(m(T.value.task_member.task_data.title)+"达"+m((null==(e=T.value.rules[0].condition)?void 0:e.type.includes("order_num"))?null==(t=T.value.rules[0].condition)?void 0:t.order_num:(null==(a=T.value.rules[0].condition)?void 0:a.type.includes("order_money"))?null==(l=T.value.rules[0].condition)?void 0:l.order_money:null==(r=T.value.rules[0].condition)?void 0:r.child_num)+m(T.value.task_member.task_data.util),1)]})),_:1})):(l(),r(p,{key:0,class:"text-[26rpx] text-[#333]"},{default:s((()=>{var e,t,a,l,r;return[i(m(T.value.task_data.title)+"达"+m((null==(e=T.value.rules[0].condition)?void 0:e.type.includes("order_num"))?null==(t=T.value.rules[0].condition)?void 0:t.order_num:(null==(a=T.value.rules[0].condition)?void 0:a.type.includes("order_money"))?null==(l=T.value.rules[0].condition)?void 0:l.order_money:null==(r=T.value.rules[0].condition)?void 0:r.child_num)+m(T.value.task_data.util),1)]})),_:1}))])),_:1})])),_:1}),d(p,{class:"flex items-center mb-[20rpx]"},{default:s((()=>[d(p,{class:"text-[26rpx] flex-1 w-[615rpx] break-all"},{default:s((()=>[d(a,{class:"text-[#626779]"},{default:s((()=>[i("任务奖励：")])),_:1}),d(a,{class:"text-[#333]"},{default:s((()=>{var e;return[i(m(o(y)(null==(e=T.value.rules[0].reward)?void 0:e.commission))+"元",1)]})),_:1})])),_:1})])),_:1}),d(p,{class:"flex items-center mb-[20rpx]"},{default:s((()=>[1===T.value.type?(l(),r(p,{key:0,class:"text-[26rpx] flex-1 w-[615rpx] break-all"},{default:s((()=>[d(a,{class:"text-[#626779]"},{default:s((()=>[i("参与次数：")])),_:1}),d(a,{class:"text-[#333]"},{default:s((()=>[i(m(T.value.times?T.value.times+"次":"不限次"),1)])),_:1})])),_:1})):x("v-if",!0)])),_:1}),d(p,{class:"flex items-center mb-[20rpx]"},{default:s((()=>[d(p,{class:"text-[26rpx] flex-1 w-[615rpx] break-all flex items-center"},{default:s((()=>[d(a,{class:"text-[#626779]"},{default:s((()=>[i("活动时间：")])),_:1}),d(p,{class:"text-[#333]"},{default:s((()=>[i(m(T.value.start_time?T.value.start_time.substring(0,10):"--")+" 至 "+m(1==T.value.time_type?T.value.end_time.substring(0,10):"长期有效")+"（"+m(1===T.value.status?"未开始":2===T.value.status?"已开始":"已结束")+"） ",1)])),_:1})])),_:1})])),_:1})])),_:1}),x(" 奖励规则 "),d(p,{class:"bg-[#fff] rounded-[16rpx] overflow-hidden mt-[20rpx] p-[30rpx]"},{default:s((()=>[d(p,{class:"text-[32rpx] font-bold mb-[30rpx] leading-[45rpx]"},{default:s((()=>[i(m(o(h)("rewardRules")),1)])),_:1}),d(p,{class:"flex mb-[20rpx]"},{default:s((()=>[d(p,{class:"text-[26rpx] flex-1 w-[615rpx] break-all"},{default:s((()=>[d(a,{class:"text-[#626779]"},{default:s((()=>[i("参与等级：")])),_:1}),d(a,{class:"text-[#333]"},{default:s((()=>[i(m(1==T.value.level_type?"全部等级":2==T.value.level_type&&Object.values(T.value.level_data).toString()),1)])),_:1})])),_:1})])),_:1}),d(p,{class:"flex items-center mb-[20rpx]"},{default:s((()=>[d(p,{class:"text-[26rpx] flex-1 w-[615rpx] break-all"},{default:s((()=>[d(a,{class:"text-[#626779]"},{default:s((()=>[i("奖励指标：")])),_:1}),d(a,{class:"text-[#333]"},{default:s((()=>[i(m(T.value.task_member?T.value.task_member.task_data.title:T.value.task_data.title),1)])),_:1})])),_:1})])),_:1}),d(p,{class:"flex items-center"},{default:s((()=>[T.value.task_member?(l(),r(p,{key:1,class:"text-[26rpx] flex-1 w-[615rpx] break-all"},{default:s((()=>[d(a,{class:"text-[#626779]"},{default:s((()=>[i("奖励说明：")])),_:1}),d(a,{class:"text-[#333]"},{default:s((()=>{var e,t,a,l,r,s;return[i(m(T.value.task_member.task_data.title)+"达"+m((null==(e=T.value.rules[0].condition)?void 0:e.type.includes("order_num"))?null==(t=T.value.rules[0].condition)?void 0:t.order_num:(null==(a=T.value.rules[0].condition)?void 0:a.type.includes("order_money"))?null==(l=T.value.rules[0].condition)?void 0:l.order_money:null==(r=T.value.rules[0].condition)?void 0:r.child_num)+m(T.value.task_member.task_data.util)+"即可获得"+m(o(y)(null==(s=T.value.rules[0].reward)?void 0:s.commission))+"元佣金 ",1)]})),_:1})])),_:1})):(l(),r(p,{key:0,class:"text-[26rpx] flex-1 w-[615rpx] break-all"},{default:s((()=>[d(a,{class:"text-[#626779]"},{default:s((()=>[i("奖励说明：")])),_:1}),d(a,{class:"text-[#333]"},{default:s((()=>{var e,t,a,l,r,s;return[i(m(T.value.task_data.title)+"达"+m((null==(e=T.value.rules[0].condition)?void 0:e.type.includes("order_num"))?null==(t=T.value.rules[0].condition)?void 0:t.order_num:(null==(a=T.value.rules[0].condition)?void 0:a.type.includes("order_money"))?null==(l=T.value.rules[0].condition)?void 0:l.order_money:null==(r=T.value.rules[0].condition)?void 0:r.child_num)+m(T.value.task_data.util)+"即可获得"+m(o(y)(null==(s=T.value.rules[0].reward)?void 0:s.commission))+"元佣金",1)]})),_:1})])),_:1}))])),_:1})])),_:1}),x(" 任务说明 "),T.value.remark?(l(),r(p,{key:2,class:"bg-[#fff] rounded-[10rpx] overflow-hidden mt-[30rpx] p-[24rpx]"},{default:s((()=>[d(p,{class:"text-[30rpx] font-600 mt-[24rpx]"},{default:s((()=>[i(m(o(h)("taskSpecification")),1)])),_:1}),d(p,{class:"text-[#999] text-[26rpx] mt-[24rpx]"},{default:s((()=>[i(m(T.value.remark),1)])),_:1})])),_:1})):x("v-if",!0)])),_:1})],64)):x("v-if",!0),d(D,{"bg-color":"rgb(248,248,248)",loading:o(F),loadingText:"",fontSize:"16",color:"#333"},null,8,["loading"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-c62e7f27"]]);export{F as default};
