import{d as e,r as t,o as l,c as a,w as s,I as u,b as r,y as x,z as d,u as f,f as n,K as i,n as c,H as o,x as p,i as m,g as _,h as y,D as v,a as g,l as h}from"./index-d8a8f699.js";import{_ as w}from"./u-button.aa0eb212.js";import{_ as b}from"./u-input.9468a367.js";import{_ as k}from"./u-empty.41eb000a.js";import{_ as j}from"./u-loading-page.c740ef13.js";import{G as T,H as I,I as C}from"./tourism.93d35d7c.js";import"./u-loading-icon.6808ae8c.js";import"./_plugin-vue_export-helper.1b428a4d.js";import"./u-icon.5ba98c98.js";import"./u-transition.db07fff7.js";const N=e({__name:"index",setup(e){const N=t(!0),V=t(!1),S=t(""),R=t(!1),U=t(null);T().then((()=>{V.value=!0,N.value=!1})).catch((()=>{N.value=!1}));const z=()=>{uni.$u.test.isEmpty(S.value)?o({title:p("inputPlaceholder"),icon:"none"}):I(S.value).then((e=>{Object.values(e.data).length?(U.value=e.data,S.value=""):o({title:p("notSearchResult"),icon:"none"})})).catch((()=>{o({title:p("notSearchResult"),icon:"none"})}))},E=()=>{R.value||(R.value=!0,C(U.value.verify_code).then((()=>{U.value=null,R.value=!1})).catch((()=>{R.value=!1})))};return(e,t)=>{const o=m,T=_(y("u-button"),w),I=_(y("u-input"),b),C=v,R=_(y("u-empty"),k),H=_(y("u-loading-page"),j);return l(),a(o,{style:c(e.themeColor())},{default:s((()=>[N.value?n("v-if",!0):(l(),u(i,{key:0},[V.value?(l(),a(o,{key:0,class:"bg-[#f7f7f7] min-h-screen overflow-hidden"},{default:s((()=>[r(o,{class:"h-[30rpx]"}),U.value?(l(),a(o,{key:0,class:"mx-[30rpx]"},{default:s((()=>[r(o,{class:"bg-white px-[30rpx] py-[40rpx] rounded"},{default:s((()=>[r(o,{class:"text-center font-bold"},{default:s((()=>[x(d(U.value.verify_code),1)])),_:1}),r(o,{class:"text-center font-bold text-[#f00] mt-[10rpx] text-sm"},{default:s((()=>[x(d(U.value.verify_time?f(p)("used"):f(p)("waitUse")),1)])),_:1})])),_:1}),"way"==U.value.order_type?(l(),a(o,{key:0,class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[r(o,{class:"flex text-sm"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("wayInfo"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.way.way_name),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("reserveTime"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.start_time),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("touristNum"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.num),1)])),_:1})])),_:1})])),_:1})):n("v-if",!0),"scenic"==U.value.order_type?(l(),a(o,{key:1,class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[r(o,{class:"flex text-sm"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("scenicInfo"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.scenic.scenic_name),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("ticketInfo"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.goods_name),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("reserveTime"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.start_time),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("touristNum"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.num),1)])),_:1})])),_:1})])),_:1})):n("v-if",!0),"hotel"==U.value.order_type?(l(),a(o,{key:2,class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[r(o,{class:"flex text-sm"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("orderNo"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.hotel.hotel_name),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("roomInfo"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.goods_name),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("hotelStartTime"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.start_time),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("hotelEndTime"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.end_time),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("hoteltNum"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.num),1)])),_:1})])),_:1})])),_:1})):n("v-if",!0),r(o,{class:"bg-white px-[30rpx] py-[30rpx] rounded mt-[20rpx]"},{default:s((()=>[r(o,{class:"flex text-sm"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("orderNo"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.order_no),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("createTime"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.create_time),1)])),_:1})])),_:1}),r(o,{class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("payTime"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.pay_time),1)])),_:1})])),_:1}),0!=U.value.verify_time?(l(),a(o,{key:0,class:"flex text-sm mt-[20rpx]"},{default:s((()=>[r(o,{class:"text-gray-400 w-[150rpx]"},{default:s((()=>[x(d(f(p)("verifyTime"))+"：",1)])),_:1}),r(o,null,{default:s((()=>[x(d(U.value.verify_time),1)])),_:1})])),_:1})):n("v-if",!0)])),_:1}),0==U.value.verify_time?(l(),a(o,{key:3,class:"mt-[30rpx]"},{default:s((()=>[r(T,{text:f(p)("confirmVerify"),type:"primary",shape:"circle",onClick:E},null,8,["text"])])),_:1})):n("v-if",!0),r(o,{class:"mt-[30rpx]"},{default:s((()=>[r(T,{text:f(p)("verifyOther"),type:"primary",shape:"circle",onClick:t[0]||(t[0]=e=>U.value=null),plain:!0},null,8,["text"])])),_:1})])),_:1})):(l(),a(o,{key:1,class:"bg-white px-[30rpx] py-[50rpx] mx-[30rpx] rounded"},{default:s((()=>[r(o,{class:"text-center mt-[30rpx]"},{default:s((()=>[x(d(f(p)("verifyTitle")),1)])),_:1}),r(o,{class:"my-[60rpx]"},{default:s((()=>[r(I,{placeholder:f(p)("inputPlaceholder"),border:"surround",inputAlign:"center",modelValue:S.value,"onUpdate:modelValue":t[1]||(t[1]=e=>S.value=e)},null,8,["placeholder","modelValue"])])),_:1}),r(T,{text:f(p)("search"),type:"primary",shape:"circle",disabled:!S.value,onClick:z},null,8,["text","disabled"])])),_:1})),r(o,{class:"text-center mt-[20rpx]"},{default:s((()=>[r(o,{onClick:t[2]||(t[2]=e=>f(g)({url:"/addon/tourism/pages/verify/record"}))},{default:s((()=>[r(C,{class:"text-primary text-sm"},{default:s((()=>[x(d(f(p)("verifyRecord")),1)])),_:1})])),_:1})])),_:1})])),_:1})):(l(),a(o,{key:1,class:"w-screen h-screen flex flex-col justify-center items-center"},{default:s((()=>[r(R,{icon:f(h)("static/resource/images/order_empty.png"),text:f(p)("notIsVerifier")},null,8,["icon","text"])])),_:1}))],64)),r(H,{loading:N.value,"loading-text":"",loadingColor:"var(--primary-color)",iconSize:"35"},null,8,["loading"])])),_:1},8,["style"])}}});export{N as default};
