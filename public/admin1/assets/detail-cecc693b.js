import{d as Q,x as U,f as G,r as h,h as l,c as n,a as e,u as a,t,q as o,P as H,s as f,w as d,e as r,B as _,F as C,Q as I,A as J,i as T,_ as M,K as W,ag as X,ah as Y,aa as Z,ac as ee,a0 as te,a4 as se,L as oe,U as ae,p as le,g as ie}from"./index-17984968.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css                *//* empty css                 *//* empty css                    *//* empty css               */import"./el-tooltip-4ed993c7.js";/* empty css                  *//* empty css                     *//* empty css                        *//* empty css               *//* empty css               */import"./el-form-item-4ed993c7.js";import{k as ne,l as de,m as re}from"./order-fc033573.js";import{_ as _e}from"./delivery-action.vue_vue_type_style_index_0_lang-54c0f0a2.js";import{_ as ce}from"./order-notes.vue_vue_type_style_index_0_lang-a077d836.js";import{_ as pe}from"./delivery-package.vue_vue_type_style_index_0_lang-8477b4d7.js";import{_ as ue}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   *//* empty css                  *//* empty css                 *//* empty css                  *//* empty css                  *//* empty css                       *//* empty css                 *//* empty css                 */import"./delivery-9c7fac72.js";import"./weapp-cc74ef2e.js";const E=y=>(le("data-v-a659aec1"),y=y(),ie(),y),xe={class:"main-container"},me={class:"detail-head"},ve=E(()=>e("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1)),he={class:"ml-[1px]"},fe=E(()=>e("span",{class:"adorn"},"|",-1)),ye={class:"right"},be={class:"panel-title"},ge={class:"input-width"},ke={class:"input-width"},we={class:"input-width"},Fe={class:"input-width"},De={class:"input-width"},Ce={key:0},Te={class:"input-width"},Ee={class:"input-width"},Ne={class:"input-width"},Be={key:1},Ie={class:"input-width"},Me={class:"input-width"},$e={class:"input-width"},Se={class:"input-width"},Ae={class:"input-width line-feed"},Re={class:"input-width line-feed"},je={class:"panel-title"},Le={class:"mb-[20px]"},Ve={class:"ml-[30px] text-[14px] mr-[20px]"},Pe={class:"text-[14px]"},qe={class:"flex mt-[10px]"},ze={key:3,class:"flex"},Ke=["onClick"],Oe={class:"flex ml-[30px] mt-[15px]"},Qe={class:"text-[14px] text-[#ff7f5b]"},Ue={class:"ml-[10px]"},Ge={class:"text-[14px] text-[#a4a4a4]"},He={class:"text-[14px] text-[#a4a4a4]"},Je={class:"text-[14px] text-[#a4a4a4]"},We={class:"panel-title"},Xe={class:"flex"},Ye={class:"flex items-center shrink-0"},Ze=["src"],et={class:"flex flex-col"},tt={class:"multi-hidden text-[14px]"},st={class:"text-[12px] text-[#999]"},ot={class:"flex flex-col"},at={key:0},lt={key:0},it={key:1,class:"text-[13px]"},nt={class:"text-[13px] mt-[5px]"},dt={class:"py-[12px] px-[16px] border-b border-color flex justify-end"},rt={class:"w-[310px] flex flex-col text-right"},_t={class:"flex mb-[10px]"},ct={class:"text-base flex-1"},pt={class:"text-base flex-1 pl-[30px]"},ut={key:0,class:"text-[14px]"},xt={key:0},mt={key:1,class:"text-[14px]"},vt={class:"flex mb-[10px]"},ht={class:"text-base flex-1"},ft={class:"text-base flex-1 pl-[30px]"},yt={class:"flex mb-[10px]"},bt={class:"text-base flex-1"},gt={class:"text-base flex-1 pl-[30px]"},kt={class:"flex"},wt={class:"text-base flex-1"},Ft={class:"text-base flex-1 pl-[30px] text-[red]"},Dt={key:0,class:"text-[14px]"},Ct={key:0},Tt={key:1,class:"text-[14px]"},Et={key:0,class:"mt-[50px] mb-[20px]"},Nt={key:1,class:"mb-[100px]",style:{"min-height":"100px"}},Bt={class:"mr-[20px]"},It={class:"leading-[1] w-full text-[14px] w-[100px] flex justify-end"},Mt={class:"leading-[1] w-full text-[14px] w-[100px] flex justify-end mt-[15px]"},$t=E(()=>e("div",{class:"w-[16px] h-[16px] flex items-center bg-[#D1EBFF] border-[1px] border-[#0091FF] rounded-[999px]"},[e("div",{class:"w-[8px] h-[8px] mx-auto bg-[#0091FF] rounded-[999px]"})],-1)),St={key:0,class:"w-[2px] h-[50px] bg-[#D1EBFF] mx-auto"},At={class:"leading-[1] ml-[20px] text-[14px]"},Rt={class:"leading-[1] ml-[20px] text-[14px] mt-[15px]"},jt=Q({__name:"detail",setup(y){const N=U(),$=G(),S=N.meta.title,u=parseInt(N.query.order_id),x=h(!0),s=h(null),m=async(b=0)=>{x.value=!0,s.value=null,await ne(b).then(({data:p})=>{s.value=p}).catch(()=>{}),x.value=!1};u?m(u):x.value=!1;const A=()=>{M.confirm(o("orderCloseTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{de(u).then(()=>{m(u)})})},g=h(null),R=()=>{g.value.setFormData(s.value),g.value.showDialog=!0},k=h(null),j=()=>{k.value.setFormData(s.value),k.value.showDialog=!0},L=()=>{M.confirm(o("orderFinishTips"),o("warning"),{confirmButtonText:o("confirm"),cancelButtonText:o("cancel"),type:"warning"}).then(()=>{re(u).then(()=>{m(u)})})},w=h(null),V=(b,p)=>{w.value.setFormData(b,p),w.value.showDialog=!0};return(b,p)=>{const c=W,F=X,P=Y,D=Z,q=ee,B=te,z=se,K=oe,O=ae;return l(),n("div",xe,[e("div",me,[e("div",{class:"left",onClick:p[0]||(p[0]=i=>a($).push({path:"/shop/order/index"}))},[ve,e("span",he,t(a(o)("returnToPreviousPage")),1)]),fe,e("span",ye,t(a(S)),1)]),H((l(),f(K,{model:s.value,"label-width":"100px",ref:"formRef",class:"page-form","label-position":"left"},{default:d(()=>[s.value?(l(),f(B,{key:0,class:"box-card !border-none relative",shadow:"never"},{default:d(()=>[e("h3",be,t(a(o)("orderInfo")),1),r(P,{class:"row-bg px-[30px] mb-[20px]",gutter:20},{default:d(()=>[r(F,{span:8},{default:d(()=>[r(c,{label:a(o)("orderNo")},{default:d(()=>[e("div",ge,t(s.value.order_no),1)]),_:1},8,["label"]),r(c,{label:a(o)("orderForm")},{default:d(()=>[e("div",ke,t(s.value.order_from_name),1)]),_:1},8,["label"]),s.value.out_trade_no?(l(),f(c,{key:0,label:a(o)("outTradeNo")},{default:d(()=>[e("div",we,t(s.value.out_trade_no),1)]),_:1},8,["label"])):_("",!0),s.value.pay?(l(),f(c,{key:1,label:a(o)("payType")},{default:d(()=>[e("div",Fe,t(s.value.pay.type_name),1)]),_:1},8,["label"])):_("",!0)]),_:1}),r(F,{span:8},{default:d(()=>[r(c,{label:a(o)("deliveryType")},{default:d(()=>[e("div",De,t(s.value.delivery_type_name),1)]),_:1},8,["label"]),s.value.delivery_type=="express"||s.value.delivery_type=="local_delivery"?(l(),n("div",Ce,[r(c,{label:a(o)("takerName")},{default:d(()=>[e("div",Te,t(s.value.taker_name),1)]),_:1},8,["label"]),r(c,{label:a(o)("takerMobile")},{default:d(()=>[e("div",Ee,t(s.value.taker_mobile),1)]),_:1},8,["label"]),r(c,{label:a(o)("takerFullAddress")},{default:d(()=>[e("div",Ne,t(s.value.taker_full_address),1)]),_:1},8,["label"])])):_("",!0),s.value.delivery_type=="store"?(l(),n("div",Be,[r(c,{label:a(o)("storeName")},{default:d(()=>[e("div",Ie,t(s.value.store.store_name),1)]),_:1},8,["label"]),r(c,{label:a(o)("storeAddress")},{default:d(()=>[e("div",Me,t(s.value.store.full_address),1)]),_:1},8,["label"]),r(c,{label:a(o)("storeMobile")},{default:d(()=>[e("div",$e,t(s.value.store.store_mobile),1)]),_:1},8,["label"]),r(c,{label:a(o)("tradeTime")},{default:d(()=>[e("div",Se,t(s.value.store.trade_time),1)]),_:1},8,["label"])])):_("",!0)]),_:1}),r(F,{span:8},{default:d(()=>[r(c,{label:a(o)("memberRemark")},{default:d(()=>[e("div",Ae,t(s.value.member_remark??"--"),1)]),_:1},8,["label"]),r(c,{label:a(o)("notes")},{default:d(()=>[e("div",Re,t(s.value.shop_remark??"--"),1)]),_:1},8,["label"])]),_:1})]),_:1}),e("h3",je,t(a(o)("orderStatus")),1),e("div",Le,[e("p",null,[e("span",Ve,t(a(o)("orderStatus"))+"：",1),e("span",Pe,t(s.value.status_name.name),1)]),e("div",qe,[e("span",{class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#ff7f5b] bg-[#fff0e5] cursor-pointer",onClick:j},t(a(o)("notes")),1),s.value.status==2?(l(),n("span",{key:0,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:R},t(a(o)("delivery")),1)):_("",!0),s.value.status==1?(l(),n("span",{key:1,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:A},t(a(o)("close")),1)):_("",!0),s.value.status==3?(l(),n("span",{key:2,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#5c96fc] bg-[#ebf3ff] cursor-pointer",onClick:L},t(a(o)("finish")),1)):_("",!0),s.value.order_delivery?(l(),n("div",ze,[(l(!0),n(C,null,I(s.value.order_delivery,(i,v)=>(l(),n(C,{key:v},[i.delivery_type=="express"&&i.sub_delivery_type=="express"?(l(),n("span",{key:0,class:"text-[14px] px-[15px] py-[5px] ml-[30px] text-[#ff7f5b] bg-[#fff0e5] cursor-pointer",onClick:Lt=>V(i.id,s.value.taker_mobile)},t(a(o)("package"))+t(v+1),9,Ke)):_("",!0)],64))),128))])):_("",!0)]),e("div",Oe,[e("span",Qe,t(a(o)("remind"))+"：",1),e("div",Ue,[e("p",Ge,t(a(o)("remindTips1")),1),e("p",He,t(a(o)("remindTips2")),1),e("p",Je,t(a(o)("remindTips3")),1)])])]),e("h3",We,t(a(o)("goodsDetail")),1),r(q,{data:s.value.order_goods,size:"large"},{default:d(()=>[r(D,{label:a(o)("goodsName"),align:"left",width:"300"},{default:d(({row:i})=>[e("div",Xe,[e("div",Ye,[e("img",{class:"w-[50px] h-[50px] mr-[10px]",src:a(J)(i.goods_image)},null,8,Ze)]),e("div",et,[e("p",tt,t(i.goods_name),1),e("span",st,t(i.sku_name),1)])])]),_:1},8,["label"]),r(D,{label:a(o)("price"),"min-width":"50",align:"left"},{default:d(({row:i})=>[e("div",ot,[s.value.activity_type=="exchange"?(l(),n("span",at,[T(t(i.extend.point)+t(a(o)("point"))+" ",1),parseFloat(i.price)?(l(),n("span",lt,"+￥"+t(i.price),1)):_("",!0)])):(l(),n("span",it,"￥"+t(i.price),1)),e("span",nt,t(i.num)+t(a(o)("piece")),1)])]),_:1},8,["label"]),r(D,{prop:"num",label:a(o)("num"),"min-width":"50",align:"right"},null,8,["label"])]),_:1},8,["data"]),e("div",dt,[e("div",rt,[e("div",_t,[e("div",ct,t(a(o)("goodsMoney")),1),e("div",pt,[s.value.activity_type=="exchange"?(l(),n("span",ut,[T(t(s.value.point)+t(a(o)("point"))+" ",1),parseFloat(s.value.goods_money)?(l(),n("span",xt,"+￥"+t(s.value.goods_money),1)):_("",!0)])):(l(),n("span",mt,"￥"+t(s.value.goods_money),1))])]),e("div",vt,[e("div",ht,t(a(o)("discountMoney")),1),e("div",ft,t(s.value.discount_money),1)]),e("div",yt,[e("div",bt,t(a(o)("deliveryMoney")),1),e("div",gt,t(s.value.delivery_money),1)]),e("div",kt,[e("div",wt,t(a(o)("orderMoney")),1),e("div",Ft,[s.value.activity_type=="exchange"?(l(),n("span",Dt,[T(t(s.value.point)+t(a(o)("point"))+" ",1),parseFloat(s.value.order_money)?(l(),n("span",Ct,"+￥"+t(s.value.order_money),1)):_("",!0)])):(l(),n("span",Tt,"￥"+t(s.value.order_money),1))])])])]),s.value.order_log.length>0?(l(),n("h3",Et,t(a(o)("operateLog")),1)):_("",!0),s.value.order_log.length>0?(l(),n("div",Nt,[(l(!0),n(C,null,I(s.value.order_log,(i,v)=>(l(),n("div",{class:"flex",key:v},[e("div",Bt,[e("div",It,t(i.create_time&&i.create_time.split(" ")[0]),1),e("div",Mt,t(i.create_time&&i.create_time.split(" ")[1]),1)]),e("div",null,[$t,v+1!=s.value.order_log.length?(l(),n("div",St)):_("",!0)]),e("div",null,[e("div",At,t(i.main_type_name)+t(i.main_name),1),e("div",Rt,t(i.type_name),1)])]))),128))])):_("",!0)]),_:1})):_("",!0),!x.value&&!s.value?(l(),f(B,{key:1,class:"box-card !border-none relative",shadow:"never"},{default:d(()=>[r(z,{description:a(o)("orderInfoEmpty")},null,8,["description"])]),_:1})):_("",!0)]),_:1},8,["model"])),[[O,x.value]]),r(_e,{ref_key:"deliveryActionDialog",ref:g,onComplete:p[1]||(p[1]=i=>m(a(u)))},null,512),r(ce,{ref_key:"orderNotesDialog",ref:k,onComplete:p[2]||(p[2]=i=>m(a(u)))},null,512),r(pe,{ref_key:"packageDialog",ref:w},null,512)])}}});const vs=ue(jt,[["__scopeId","data-v-a659aec1"]]);export{vs as default};
