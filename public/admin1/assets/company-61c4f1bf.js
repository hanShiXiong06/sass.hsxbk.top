import{d as S,x as j,f as L,n as R,r as x,h as f,c as b,e as t,w as i,a as r,u as o,t as p,q as a,i as u,P as U,s as M,A as q,B as A,_ as J,E as K,J as G,K as H,L as O,a0 as Q,aa as W,ac as X,T as Y,U as Z,p as ee,g as te}from"./index-17984968.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                  */import{g as ae,d as oe}from"./delivery-9c7fac72.js";import{_ as ne}from"./company-edit.vue_vue_type_style_index_0_lang-9c83e454.js";import{_ as le}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                  *//* empty css                   */import"./index-0ce1f7fc.js";/* empty css                        */import"./index.vue_vue_type_style_index_0_lang-c5bcb8a9.js";import"./attachment-a816d3ef.js";import"./index.vue_vue_type_script_setup_true_lang-8693344a.js";/* empty css                 *//* empty css                 *//* empty css               *//* empty css               *//* empty css                    *//* empty css                         */import"./index.vue_vue_type_script_setup_true_lang-5615c67a.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-8e50df98.js";/* empty css                */import"./sortable.esm-be94e56d.js";const C=g=>(ee("data-v-4f877c94"),g=g(),te(),g),ie={class:"main-container"},re={class:"flex justify-between items-center"},se={class:"detail-head !m-0"},pe=C(()=>r("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1)),me={class:"ml-[1px]"},ce=C(()=>r("span",{class:"adorn"},"|",-1)),de={class:"right"},_e={class:"mt-[10px]"},ue=["src"],ge={class:"mt-[16px] flex justify-end"},fe=S({__name:"company",setup(g){const w=j(),k=L(),E=w.meta.title,e=R({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{company_name:"",logo:"",url:"",create_time:"",modify_time:""}}),y=x(),m=(s=1)=>{e.loading=!0,e.page=s,ae({page:e.page,limit:e.limit,...e.searchParam}).then(n=>{e.loading=!1,e.data=n.data.data,e.total=n.data.total}).catch(()=>{e.loading=!1})};m();const d=x(null),D=()=>{d.value.setFormData(),d.value.showDialog=!0},P=s=>{d.value.setFormData(s),d.value.showDialog=!0},T=s=>{J.confirm(a("companyDeleteTips"),a("warning"),{confirmButtonText:a("confirm"),cancelButtonText:a("cancel"),type:"warning"}).then(()=>{oe(s).then(()=>{m()}).catch(()=>{})})},B=s=>{s&&(s.resetFields(),m())};return(s,n)=>{const _=K,N=G,h=H,F=O,v=Q,c=W,z=X,V=Y,$=Z;return f(),b("div",ie,[t(v,{class:"box-card !border-none",shadow:"never"},{default:i(()=>[r("div",re,[r("div",se,[r("div",{class:"left",onClick:n[0]||(n[0]=l=>o(k).push("/shop/order/delivery"))},[pe,r("span",me,p(o(a)("returnToPreviousPage")),1)]),ce,r("span",de,p(o(E)),1)]),t(_,{type:"primary",onClick:D},{default:i(()=>[u(p(o(a)("addCompany")),1)]),_:1})]),t(v,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:i(()=>[t(F,{inline:!0,model:e.searchParam,ref_key:"searchFormRef",ref:y},{default:i(()=>[t(h,{label:o(a)("companyName"),prop:"company_name"},{default:i(()=>[t(N,{modelValue:e.searchParam.company_name,"onUpdate:modelValue":n[1]||(n[1]=l=>e.searchParam.company_name=l),modelModifiers:{trim:!0},placeholder:o(a)("companyNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(h,null,{default:i(()=>[t(_,{type:"primary",onClick:n[2]||(n[2]=l=>m())},{default:i(()=>[u(p(o(a)("search")),1)]),_:1}),t(_,{onClick:n[3]||(n[3]=l=>B(y.value))},{default:i(()=>[u(p(o(a)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),r("div",_e,[U((f(),M(z,{data:e.data,size:"large"},{empty:i(()=>[r("span",null,p(e.loading?"":o(a)("emptyData")),1)]),default:i(()=>[t(c,{prop:"company_name",label:o(a)("companyName"),"min-width":"120"},null,8,["label"]),t(c,{prop:"logo",label:o(a)("logo"),"min-width":"120"},{default:i(({row:l})=>[l.logo?(f(),b("img",{key:0,class:"w-[50px] h-[50px]",src:o(q)(l.logo)},null,8,ue)):A("",!0)]),_:1},8,["label"]),t(c,{prop:"url",label:o(a)("url"),"min-width":"120"},null,8,["label"]),t(c,{prop:"express_no",label:o(a)("expressNo"),"min-width":"120"},null,8,["label"]),t(c,{prop:"create_time",label:o(a)("createTime"),"min-width":"120"},null,8,["label"]),t(c,{label:o(a)("operation"),fixed:"right",align:"right","min-width":"120"},{default:i(({row:l})=>[t(_,{type:"primary",link:"",onClick:I=>P(l)},{default:i(()=>[u(p(o(a)("edit")),1)]),_:2},1032,["onClick"]),t(_,{type:"danger",link:"",onClick:I=>T(l.company_id)},{default:i(()=>[u(p(o(a)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[$,e.loading]]),r("div",ge,[t(V,{"current-page":e.page,"onUpdate:current-page":n[4]||(n[4]=l=>e.page=l),"page-size":e.limit,"onUpdate:page-size":n[5]||(n[5]=l=>e.limit=l),layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:n[6]||(n[6]=l=>m()),onCurrentChange:m},null,8,["current-page","page-size","total"])])]),t(ne,{ref_key:"editCompanyDialog",ref:d,onComplete:m},null,512)]),_:1})])}}});const tt=le(fe,[["__scopeId","data-v-4f877c94"]]);export{tt as default};
