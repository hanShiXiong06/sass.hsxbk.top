import{d as B,x as F,n as $,r as j,f as M,h as y,c as W,e as o,w as s,a as r,t as n,u as t,i as d,q as l,P as I,s as h,A as L,B as C,E as R,J as S,K as Y,bN as H,L as q,a0 as A,aa as J,ac as K,T as G,U as O}from"./index-17984968.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                *//* empty css                       *//* empty css                  */import"./el-form-item-4ed993c7.js";import{a6 as Q,a7 as X}from"./tourism-ed22e76b.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const ee={class:"main-container"},te={class:"flex justify-between items-center"},ae={class:"text-page-title"},le={class:"mt-[10px]"},oe={class:"flex items-center cursor-pointer"},ie={class:"min-w-[60px] h-[60px] flex items-center justify-center"},se=["src"],ne=["title"],re={class:"mt-[16px] flex justify-end"},de=B({__name:"list",setup(me){const k=F().meta.title,a=$({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{way_name:"",start_city:"",end_city:"",create_time:""}}),g=j(),c=(m=1)=>{a.loading=!0,a.page=m,Q({page:a.page,limit:a.limit,...a.searchParam}).then(i=>{a.loading=!1,a.data=i.data.data,a.total=i.data.total}).catch(()=>{a.loading=!1})};c();const b=M(),P=()=>{b.push("/tourism/product/way/edit")},V=m=>{b.push("/tourism/product/way/edit?id="+m.way_id)},E=m=>{m&&(m.resetFields(),c())},w=(m,i)=>{X({way_status:m,way_id:i}).then(()=>{c()})};return(m,i)=>{const u=R,f=S,_=Y,N=H,T=q,v=A,p=J,D=K,U=G,z=O;return y(),W("div",ee,[o(v,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[r("div",te,[r("span",ae,n(t(k)),1),o(u,{type:"primary",class:"w-[100px]",onClick:P},{default:s(()=>[d(n(t(l)("addTourismWay")),1)]),_:1})]),o(v,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:s(()=>[o(T,{inline:!0,model:a.searchParam,ref_key:"searchFormRef",ref:g},{default:s(()=>[o(_,{label:t(l)("wayName"),prop:"way_name"},{default:s(()=>[o(f,{modelValue:a.searchParam.way_name,"onUpdate:modelValue":i[0]||(i[0]=e=>a.searchParam.way_name=e),modelModifiers:{trim:!0},placeholder:t(l)("wayNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(_,{label:t(l)("startCity"),prop:"start_city"},{default:s(()=>[o(f,{modelValue:a.searchParam.start_city,"onUpdate:modelValue":i[1]||(i[1]=e=>a.searchParam.start_city=e),modelModifiers:{trim:!0},placeholder:t(l)("startCityPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(_,{label:t(l)("endCity"),prop:"end_city"},{default:s(()=>[o(f,{modelValue:a.searchParam.end_city,"onUpdate:modelValue":i[2]||(i[2]=e=>a.searchParam.end_city=e),modelModifiers:{trim:!0},placeholder:t(l)("endCityPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(_,{label:t(l)("createTime"),prop:"create_time"},{default:s(()=>[o(N,{modelValue:a.searchParam.create_time,"onUpdate:modelValue":i[3]||(i[3]=e=>a.searchParam.create_time=e),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":t(l)("startDate"),"end-placeholder":t(l)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),o(_,null,{default:s(()=>[o(u,{type:"primary",onClick:i[4]||(i[4]=e=>c())},{default:s(()=>[d(n(t(l)("search")),1)]),_:1}),o(u,{onClick:i[5]||(i[5]=e=>E(g.value))},{default:s(()=>[d(n(t(l)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),r("div",le,[I((y(),h(D,{data:a.data,size:"large"},{empty:s(()=>[r("span",null,n(a.loading?"":t(l)("emptyData")),1)]),default:s(()=>[o(p,{label:t(l)("wayInfo"),"min-width":"240",align:"left","show-overflow-tooltip":""},{default:s(({row:e})=>[r("div",oe,[r("div",ie,[r("img",{class:"max-w-[60px] max-h-[60px]",src:t(L)(e.goods.cover_thumb_small)},null,8,se)]),r("a",{href:"javascript:;",title:e.way_name,class:"multi-hidden ml-2"},n(e.way_name),9,ne)])]),_:1},8,["label"]),o(p,{label:t(l)("wayCity"),"min-width":"200",align:"left"},{default:s(({row:e})=>[r("div",null,[r("span",null,n(t(l)("startCity"))+"："+n(e.start_city),1)]),r("div",null,[r("span",null,n(t(l)("endCity"))+"："+n(e.end_city),1)])]),_:1},8,["label"]),o(p,{label:t(l)("price"),"min-width":"120",align:"left"},{default:s(({row:e})=>[d(n(e.goods.price),1)]),_:1},8,["label"]),o(p,{label:t(l)("stock"),"min-width":"120",align:"left"},{default:s(({row:e})=>[d(n(e.goods.stock),1)]),_:1},8,["label"]),o(p,{label:t(l)("saleNum"),"min-width":"120",align:"left"},{default:s(({row:e})=>[d(n(e.sell_sum),1)]),_:1},8,["label"]),o(p,{label:t(l)("createTime"),"min-width":"180",align:"center"},{default:s(({row:e})=>[d(n(e.create_time||""),1)]),_:1},8,["label"]),o(p,{prop:"status_name",label:t(l)("wayStatus"),"min-width":"120"},null,8,["label"]),o(p,{label:t(l)("operation"),fixed:"right","min-width":"120",align:"right"},{default:s(({row:e})=>[e.way_status==1?(y(),h(u,{key:0,type:"primary",link:"",onClick:x=>w(0,e.way_id)},{default:s(()=>[d(n(t(l)("down")),1)]),_:2},1032,["onClick"])):C("",!0),e.way_status==0?(y(),h(u,{key:1,type:"primary",link:"",onClick:x=>w(1,e.way_id)},{default:s(()=>[d(n(t(l)("up")),1)]),_:2},1032,["onClick"])):C("",!0),o(u,{type:"primary",link:"",onClick:x=>V(e)},{default:s(()=>[d(n(t(l)("edit")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[z,a.loading]]),r("div",re,[o(U,{"current-page":a.page,"onUpdate:current-page":i[6]||(i[6]=e=>a.page=e),"page-size":a.limit,"onUpdate:page-size":i[7]||(i[7]=e=>a.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:i[8]||(i[8]=e=>c()),onCurrentChange:c},null,8,["current-page","page-size","total"])])])]),_:1})])}}});const ze=Z(de,[["__scopeId","data-v-a1630b6b"]]);export{ze as default};
