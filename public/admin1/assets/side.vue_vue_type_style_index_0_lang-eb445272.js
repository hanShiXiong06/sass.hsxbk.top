import{d as $,D as A,j as q,r as y,a7 as S,a5 as z,h as n,s as x,w as l,e as _,a as d,u as c,c as r,A as H,Q as C,F as g,t as M,B as k,x as L,f as Q,bD as U,d8 as G,d3 as J,S as K,M as O,z as P}from"./index-17984968.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./el-sub-menu-4ed993c7.js";import{_ as T}from"./index.vue_vue_type_script_setup_true_lang-8e50df98.js";import{_ as W}from"./icon-addon-339e16d0.js";import{_ as X}from"./menu-item.vue_vue_type_style_index_0_lang-a48dc0e7.js";const Y={class:"w-[64px] bg-[#282c34] h-screen one-menu"},Z={key:0,class:"logo flex items-center m-auto h-[64px]"},I=["src"],ee={key:1,class:"max-h-[40px] max-w-[40px] rounded-full",src:W,alt:""},ae={key:1,class:"logo flex items-center justify-center h-[64px]"},te=d("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),se=[te],ne={key:0,class:"w-[16px] h-[16px] relative flex justify-center"},oe={class:"relative"},le={class:"ml-[10px] text-[15px]"},ce=d("div",{class:"h-[48px]"},null,-1),re={class:"w-[190px] h-[64px] flex items-center justify-center text-[16px] border-0 border-b-[1px] border-solid border-[#eee]"},de=d("div",{class:"h-[48px]"},null,-1),ke=$({__name:"side",setup(ue){const w=A(),f=q(),s=L(),R=Q(),e=f.siteInfo,j=f.routers,B=f.addonIndexRoute,i=y([]),u=y([]),h={};if(j.forEach(a=>{a.original_name=a.name,a.meta.addon==""?(a.children&&a.children.length&&(a.name=S(a.children)),i.value.push(a)):a.meta.addon!=""&&(e==null?void 0:e.apps.length)<=1&&(e==null?void 0:e.apps[0].key)==a.meta.addon?a.children?(a.children.forEach(t=>{t.original_name=t.name,t.children&&t.children.length&&(t.name=S(t.children))}),i.value.unshift(...a.children)):i.value.unshift(a):h[a.meta.addon]=a}),(e==null?void 0:e.apps.length)>1){const a=[];e==null||e.apps.forEach(t=>{var m;a.push({path:h[t.key]?h[t.key].path:"",meta:{icon:((m=h[t.key])==null?void 0:m.meta.icon)||"element-Setting",addon:t.key,title:t.title,app:t.app,show:!0},original_name:t.key,name:B[t.key]})}),i.value.unshift(...a)}const p=y(s.matched[1].name);return z(s,()=>{(e==null?void 0:e.apps.length)>1?(u.value=s.matched[1].children,p.value=s.matched[1].name):s.meta.addon==""?(p.value=s.matched[1].name,u.value=s.matched[1].children??[]):s.meta.addon&&s.meta.addon!=(e==null?void 0:e.apps[0].key)?(p.value="/site/app",u.value=s.matched[1].children??[]):(p.value=s.matched[2].name,u.value=s.matched[2].children??[])},{immediate:!0}),(a,t)=>{const m=U,D=T,V=G,b=J,E=K,F=O,N=P;return n(),x(N,{class:"w-100 h-screen"},{default:l(()=>[_(F,{class:"p-0 flex"},{default:l(()=>[d("div",Y,[_(m,{class:"logo-wrap"},{default:l(()=>[c(w).menuIsCollapse?(n(),r("div",ae,se)):(n(),r("div",Z,[c(e).logo?(n(),r("img",{key:0,class:"max-h-[40px] max-w-[40px] rounded-full",src:c(H)(c(e).logo),alt:""},null,8,I)):(n(),r("img",ee))]))]),_:1}),_(E,{class:"h-[calc( 100vh - 64px )]"},{default:l(()=>[_(b,{"default-active":p.value,router:!0,class:"aside-menu","unique-opened":"true"},{default:l(()=>[(n(!0),r(g,null,C(i.value,(o,v)=>(n(),r(g,{key:v},[o.meta.show?(n(),x(V,{key:0,index:o.original_name,onClick:_e=>c(R).push({name:o.name})},{title:l(()=>[d("div",oe,[d("span",le,M(o.meta.short_title||o.meta.title),1)])]),default:l(()=>[o.meta.icon?(n(),r("div",ne,[_(D,{name:o.meta.icon,class:"absolute top-[50%] -translate-y-[50%]"},null,8,["name"])])):k("",!0)]),_:2},1032,["index","onClick"])):k("",!0)],64))),128))]),_:1},8,["default-active"]),ce]),_:1})]),u.value.length?(n(),x(E,{key:0,class:"two-menu w-[190px]"},{default:l(()=>[d("div",re,M(c(s).matched[1].meta.title),1),_(b,{"default-active":c(s).name,router:!0,class:"aside-menu",collapse:c(w).menuIsCollapse},{default:l(()=>[(n(!0),r(g,null,C(u.value,(o,v)=>(n(),x(X,{routes:o,"route-path":o.path,key:v},null,8,["routes","route-path"]))),128))]),_:1},8,["default-active","collapse"]),de]),_:1})):k("",!0)]),_:1})]),_:1})}}});export{ke as _};
