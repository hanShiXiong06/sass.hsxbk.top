import{d as V,x as C,f as D,r as d,l as E,n as B,h as y,c as R,a as r,t as k,u as _,P as F,s as N,w as o,e as t,i as q,q as A,aj as I,a0 as P,J as U,K as j,E as L,L as S,U as J}from"./index-17984968.js";/* empty css                   *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                *//* empty css                 */import{g as K,s as T}from"./config-d823d860.js";const $={class:"main-container"},z={class:"flex ml-[18px] justify-between items-center mt-[20px]"},G={class:"text-[20px]"},H=r("a",{href:"https://api.crmeb.com/",target:"_blank"},"打开一号通后台",-1),M={class:"fixed-footer-wrap"},O={class:"fixed-footer"},ne=V({__name:"set",setup(Q){const g=C();D();const v=g.meta.title;d();const a=d(!0),m=d(),h=E(()=>({access_key:[{required:!0,message:"access_key必须填写",trigger:"blur"}],secret_key:[{required:!0,message:"secret_key必须填写",trigger:"blur"}]})),s=B({...{access_key:"",secret_key:""}});(async()=>{a.value=!0;const l=await K();for(const e in s)s[e]=l.data[e];a.value=!1})();const b=async l=>{a.value||!l||await l.validate(async e=>{e&&(a.value=!0,T(s).then(c=>{a.value=!1}).catch(()=>{a.value=!1}))})};return(l,e)=>{const u=I,c=P,p=U,i=j,f=L,w=S,x=J;return y(),R("div",$,[r("div",z,[r("span",G,k(_(v)),1)]),F((y(),N(w,{model:s,"label-width":"140px",ref_key:"formRef",ref:m,rules:_(h),class:"page-form"},{default:o(()=>[t(c,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[t(c,{class:"!border-none",shadow:"never",style:{width:"640px"}},{default:o(()=>[t(u,{type:"warning",title:"1、应用于本插件接口/方法调用 2、后续适配相关驱动快速配置",closable:!1,"show-icon":""})]),_:1}),t(i,{label:"access_key",prop:"access_key"},{default:o(()=>[t(p,{modelValue:s.access_key,"onUpdate:modelValue":e[0]||(e[0]=n=>s.access_key=n),placeholder:"access_key一号通后台应用管理获得APPID",class:"input-width",clearable:""},null,8,["modelValue"])]),_:1}),t(i,{label:"secret_key",prop:"secret_key"},{default:o(()=>[t(p,{modelValue:s.secret_key,"onUpdate:modelValue":e[1]||(e[1]=n=>s.secret_key=n),placeholder:"secret_key一号通后台应用管理获得AppSecret",class:"input-width",clearable:""},null,8,["modelValue"])]),_:1}),t(i,{label:"管理后台"},{default:o(()=>[t(f,null,{default:o(()=>[H]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[x,a.value]]),r("div",M,[r("div",O,[t(f,{type:"primary",loading:a.value,onClick:e[2]||(e[2]=n=>b(m.value))},{default:o(()=>[q(k(_(A)("confirm")),1)]),_:1},8,["loading"])])])])}}});export{ne as default};
