import{d as D,x as B,f as E,r as p,n as S,P as C,u as t,h as n,c as l,e as _,w as r,cW as P,q as o,a,t as s,s as y,A as I,B as d,F as R,Q as A,cS as V,cX as q,a0 as J,K as M,I as U,L as $,U as H}from"./index-17984968.js";/* empty css                   *//* empty css                *//* empty css                 *//* empty css                        */import"./el-form-item-4ed993c7.js";/* empty css                *//* empty css                   *//* empty css                       */import{_ as h}from"./goods_default-665e448a.js";import{a as K}from"./task-3bace6e5.js";import{h as Q}from"./level-113119c0.js";const W={class:"main-container"},X=a("div",{class:"image-slot"},[a("img",{class:"w-[100px] h-[100px]",src:h,fit:"contain"})],-1),j={key:1,class:"w-[100px] h-[100px]",src:h,fit:"contain"},z={class:"flex items-center"},G=a("span",{class:"mx-[10px]"},"至",-1),Y={key:0},Z={key:1},ee={key:0},te={key:1,class:"flex"},se={class:"flex flex-col"},ae={key:0,class:"flex items-center mt-[2px]"},oe={class:"mr-[5px]"},ie={class:"text-[var(--el-color-primary)]"},ne={class:"ml-[5px]"},le={key:1,class:"flex items-center mt-[2px]"},re={class:"mr-[5px]"},_e={class:"text-[var(--el-color-primary)]"},me={class:"ml-[5px]"},de={key:2,class:"flex items-center mt-[2px]"},ce={class:"mr-[5px]"},pe={class:"text-[var(--el-color-primary)]"},ue={class:"ml-[5px]"},xe={class:"flex items-center"},fe={key:0},ve={key:1},ye={class:"flex items-center"},he={class:"mr-[5px]"},ke={class:"text-[var(--el-color-primary)]"},be={class:"ml-[5px]"},ge={class:"w-[750px]"},Ve=D({__name:"detail",setup(Fe){const u=B();E();const k=u.meta.title;p(!1);let b=p();const e=S({...{id:"",name:"",time_type:"1",start_time:"",end_time:"",level_type:"1",level:["1"],level_data:[],times:"",rules:[{condition:{type:[]},reward:{commission:""}}],remark:"",type_name:"",type:""}});e.id=p(u.query.id);let g=p([]);(()=>{Q().then(c=>{g.value=c.data})})();let x=p(!0);const F=()=>{K({id:e.id}).then(c=>{let i=JSON.parse(JSON.stringify(c.data));i&&(e.name=i.name,e.time_type=i.time_type,e.start_time=i.start_time,e.end_time=i.end_time,e.level_type=i.level_type,e.level=i.level,e.times=i.times.toString(),e.rules=i.rules,e.remark=i.remark,e.type_name=i.type_name,e.type=i.type,e.level_data=i.level_data,e.cover_thumb_mid=i.cover_thumb_mid,e.send_time_type=i.send_time_type,e.send_time=i.send_time_type==1?V(i.send_time):i.send_time),x.value=!1})};return e.id&&F(),(c,i)=>{const w=q,f=J,m=M,N=U,T=$,L=H;return C((n(),l("div",W,[_(f,{class:"card !border-none",shadow:"never"},{default:r(()=>[_(w,{content:t(k),icon:t(P),onBack:i[0]||(i[0]=v=>c.$router.back())},null,8,["content","icon"])]),_:1}),_(f,{class:"card mt-[15px] !border-none",shadow:"never"},{default:r(()=>[_(T,{class:"page-form",model:e,"label-width":"120px",ref_key:"taskFormRef",ref:b},{default:r(()=>[_(m,{label:t(o)("taskNam"),prop:"name"},{default:r(()=>[a("div",null,s(e.name),1)]),_:1},8,["label"]),_(m,{label:t(o)("cover")},{default:r(()=>[e.cover_thumb_mid?(n(),y(N,{key:0,class:"w-[100px] h-[100px]",src:t(I)(e.cover_thumb_mid)||"",fit:"contain"},{error:r(()=>[X]),_:1},8,["src"])):(n(),l("img",j))]),_:1},8,["label"]),_(m,{label:t(o)("taskTime")},{default:r(()=>[a("div",z,[a("span",null,s(e.start_time),1),G,e.time_type==2?(n(),l("span",Y,"长期有效")):(n(),l("span",Z,s(e.end_time),1))])]),_:1},8,["label"]),e.type===1?(n(),y(m,{key:0,label:t(o)("articipation")},{default:r(()=>[a("div",null,s(e.times!=0?e.times+t(o)("timesNext"):t(o)("timesUnlimited")),1)]),_:1},8,["label"])):d("",!0),_(m,{label:t(o)("level")},{default:r(()=>[e.level_type=="1"?(n(),l("div",ee,s(t(o)("allLevel")),1)):d("",!0),e.level_type=="2"&&e.level_data?(n(),l("div",te,[(n(!0),l(R,null,A(e.level_data,(v,O)=>(n(),l("span",{key:O,class:"border-solid border-[1px] border-[var(--el-color-primary)] text-[var(--el-color-primary)] px-[5px] mr-[15px] h-[25px] leading-[25px] rounded text-[12px]"},s(v),1))),128))])):d("",!0)]),_:1},8,["label"]),_(m,{label:t(o)("taskIndex"),prop:"type"},{default:r(()=>[a("div",se,[e.rules[0].condition.type.indexOf("order_num")>-1?(n(),l("div",ae,[a("span",oe,s(t(o)("conditionOrderNumTips1")),1),a("span",ie,s(e.rules[0].condition.order_num),1),a("span",ne,s(t(o)("conditionOrderNumTips2")),1)])):d("",!0),e.rules[0].condition.type.indexOf("order_money")>-1?(n(),l("div",le,[a("span",re,s(t(o)("conditionOrderMoneyTips1")),1),a("span",_e,s(e.rules[0].condition.order_money),1),a("span",me,s(t(o)("conditionOrderMoneyTips2")),1)])):d("",!0),e.rules[0].condition.type.indexOf("fenxiao_num")>-1?(n(),l("div",de,[a("span",ce,s(t(o)("conditionFenxiaoNumTips1")),1),a("span",pe,s(e.rules[0].condition.fenxiao_num),1),a("span",ue,s(t(o)("conditionFenxiaoNumTips2")),1)])):d("",!0)])]),_:1},8,["label"]),_(m,{label:t(o)("awardTime")},{default:r(()=>[a("div",xe,[e.send_time_type==1?(n(),l("span",fe,s(e.send_time),1)):d("",!0),e.send_time_type==2?(n(),l("span",ve,s(t(o)("taskAttainment"))+s(e.send_time)+s(t(o)("taskAttainment1")),1)):d("",!0)])]),_:1},8,["label"]),_(m,{label:t(o)("taskContent")},{default:r(()=>[a("div",ye,[a("span",he,s(t(o)("return")),1),a("span",ke,s(e.rules[0].reward.commission),1),a("span",be,s(t(o)("brokerage")),1)])]),_:1},8,["label"]),_(m,{label:t(o)("remark")},{default:r(()=>[a("div",ge,s(e.remark),1)]),_:1},8,["label"])]),_:1},8,["model"])]),_:1})])),[[L,t(x)]])}}});export{Ve as default};
