import{d as P,x as S,r as h,m as C,n as g,q as o,h as w,c as I,e as t,w as n,a as r,t as u,u as a,P as V,s as v,a6 as B,B as D,i as T,cs as F,ct as R,cu as j,D as q,j as W,J as L,K as A,a0 as J,L as K,E as M,U as O}from"./index-17984968.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                */import $ from"./index-0ce1f7fc.js";import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                        */import"./index.vue_vue_type_style_index_0_lang-c5bcb8a9.js";/* empty css                  *//* empty css                   */import"./attachment-a816d3ef.js";import"./index.vue_vue_type_script_setup_true_lang-8693344a.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css               *//* empty css                    *//* empty css                         */import"./index.vue_vue_type_script_setup_true_lang-5615c67a.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-8e50df98.js";/* empty css                */import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const z={class:"main-container"},G={class:"flex justify-between items-center"},H={class:"text-page-title"},Q={class:"panel-title !text-sm"},X={class:"text-[12px] text-[#a9a9a9]"},Y={class:"text-[12px] text-[#a9a9a9]"},Z={class:"panel-title !text-sm"},ee={class:"panel-title !text-sm"},le={class:"fixed-footer-wrap"},te={class:"fixed-footer"},Le=P({__name:"system",setup(oe){const x=S().meta.title,m=h(!0),f=h(C()),e=g({site_name:"",logo:"",desc:"",latitude:"",keywords:"",longitude:"",province_id:"",city_id:"",district_id:"",address:"",full_address:"",business_hours:"",phone:"",front_end_name:"",front_end_logo:"",front_end_icon:"",icon:"",wechat_code:"",enterprise_wechat:"",tel:""});(async(p=0)=>{const l=await(await F()).data;Object.keys(e).forEach(d=>{l[d]!=null&&(e[d]=l[d])});const i=await(await R()).data;e.wechat_code=i.wechat_code,e.enterprise_wechat=i.enterprise_wechat,e.tel=i.tel,m.value=!1})();const b=h(),y=g({site_name:[{required:!0,message:o("siteNamePlaceholder"),trigger:"blur"}],front_end_name:[{required:!0,message:o("frontEndNamePlaceholder"),trigger:"blur"}]}),U=async p=>{m.value||!p||await p.validate(async l=>{l&&(m.value=!0,j(e).then(()=>{m.value=!1,f.value=="admin"?q().getWebsiteInfo():W().getSiteInfo()}).catch(()=>{m.value=!1}))})};return(p,l)=>{const i=L,d=A,c=$,_=J,E=K,N=M,k=O;return w(),I("div",z,[t(_,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[r("div",G,[r("span",H,u(a(x)),1)]),V((w(),v(E,{model:e,"label-width":"150px",ref_key:"formRef",ref:b,rules:y,class:"page-form"},{default:n(()=>[t(_,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[r("h3",Q,u(a(o)("websiteInfo")),1),t(d,{label:a(o)("siteName"),prop:"site_name"},{default:n(()=>[t(i,{modelValue:e.site_name,"onUpdate:modelValue":l[0]||(l[0]=s=>e.site_name=s),modelModifiers:{trim:!0},placeholder:a(o)("siteNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(d,{label:a(o)("logo")},{default:n(()=>[r("div",null,[t(c,{modelValue:e.logo,"onUpdate:modelValue":l[1]||(l[1]=s=>e.logo=s)},null,8,["modelValue"]),r("p",X,u(a(o)("logoPlaceholder")),1)])]),_:1},8,["label"]),t(d,{label:a(o)("icon")},{default:n(()=>[r("div",null,[t(c,{modelValue:e.icon,"onUpdate:modelValue":l[2]||(l[2]=s=>e.icon=s)},null,8,["modelValue"]),r("p",Y,u(a(o)("iconPlaceholder")),1)])]),_:1},8,["label"]),t(d,{label:a(o)("keywords")},{default:n(()=>[t(i,{modelValue:e.keywords,"onUpdate:modelValue":l[3]||(l[3]=s=>e.keywords=s),placeholder:a(o)("keywordsPlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(d,{label:a(o)("desc")},{default:n(()=>[t(i,{modelValue:e.desc,"onUpdate:modelValue":l[4]||(l[4]=s=>e.desc=s),type:"textarea",rows:"4",clearable:"",placeholder:a(o)("descPlaceholder"),class:"input-width",maxlength:"100","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),V(t(_,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[r("h3",Z,u(a(o)("frontEndInfo")),1),t(d,{label:a(o)("frontEndName")},{default:n(()=>[t(i,{modelValue:e.front_end_name,"onUpdate:modelValue":l[5]||(l[5]=s=>e.front_end_name=s),placeholder:a(o)("frontEndNamePlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(d,{label:a(o)("logo")},{default:n(()=>[t(c,{modelValue:e.front_end_logo,"onUpdate:modelValue":l[6]||(l[6]=s=>e.front_end_logo=s)},null,8,["modelValue"])]),_:1},8,["label"]),t(d,{label:a(o)("icon")},{default:n(()=>[t(c,{modelValue:e.front_end_icon,"onUpdate:modelValue":l[7]||(l[7]=s=>e.front_end_icon=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},512),[[B,f.value=="site"]]),f.value=="admin"?(w(),v(_,{key:0,class:"box-card !border-none",shadow:"never"},{default:n(()=>[r("h3",ee,u(a(o)("serviceInformation")),1),t(d,{label:a(o)("contactsTel")},{default:n(()=>[t(i,{modelValue:e.tel,"onUpdate:modelValue":l[8]||(l[8]=s=>e.tel=s),placeholder:a(o)("contactsTelPlaceholder"),class:"input-width",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(d,{label:a(o)("wechatCode")},{default:n(()=>[t(c,{modelValue:e.wechat_code,"onUpdate:modelValue":l[9]||(l[9]=s=>e.wechat_code=s)},null,8,["modelValue"])]),_:1},8,["label"]),t(d,{label:a(o)("customerServiceCode")},{default:n(()=>[t(c,{modelValue:e.enterprise_wechat,"onUpdate:modelValue":l[10]||(l[10]=s=>e.enterprise_wechat=s)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})):D("",!0)]),_:1},8,["model","rules"])),[[k,m.value]])]),_:1}),r("div",le,[r("div",te,[t(N,{type:"primary",loading:m.value,onClick:l[11]||(l[11]=s=>U(b.value))},{default:n(()=>[T(u(a(o)("save")),1)]),_:1},8,["loading"])])])])}}});export{Le as default};
