import{d as D,x as R,f as T,r as h,n as N,h as _,c as k,e as a,w as l,u as n,cW as U,q as s,i as p,t as i,P as A,s as y,a as d,A as S,bs as j,cX as q,a0 as M,J as H,K as J,E as K,L as W,I as X,aa as G,ac as O,T as Q,U as Y}from"./index-17984968.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                 *//* empty css                        *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                *//* empty css                   *//* empty css                       */import{_ as Z}from"./default_headimg-a897263d.js";import{i as ee}from"./task-3bace6e5.js";const te={class:"main-container"},ae={class:"flex items-center"},oe={key:1,class:"w-[50px] h-[50px] mr-[10px]",src:Z,alt:""},le={class:"flex flex-col"},ne={class:"text-[14px]"},se={class:"text-[14px] text-[#666]"},re={class:"mt-[16px] flex justify-end"},$e=D({__name:"reward_list",setup(ie){const b=R(),w=T(),C=b.meta.title,x=h();h(!1);let E=h(b.query.id)||0;const P=r=>{r&&(t.searchParam.search="",r.resetFields(),u())},t=N({page:1,limit:10,total:0,loading:!1,data:[],searchParam:{search:""}}),u=(r=1)=>{t.loading=!0,t.page=r;const o=j(t.searchParam);ee({page:t.page,limit:t.limit,task_id:E.value,...o}).then(c=>{t.data=c.data.data,t.total=c.data.total,t.loading=!1})};u();const F=r=>{w.push("/shop_fenxiao/task/reward_detail?id="+r.id)};return(r,o)=>{const c=q,f=M,I=H,v=J,g=K,z=W,B=X,m=G,L=O,V=Q,$=Y;return _(),k("div",te,[a(f,{class:"card !border-none",shadow:"never"},{default:l(()=>[a(c,{content:n(C),icon:n(U),onBack:o[0]||(o[0]=e=>r.$router.back())},null,8,["content","icon"])]),_:1}),a(f,{class:"card mt-[15px] !border-none",shadow:"never"},{default:l(()=>[a(f,{class:"card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:l(()=>[a(z,{inline:!0,model:t.searchParam,ref_key:"searchFormRef",ref:x},{default:l(()=>[a(v,{label:n(s)("memberInfo")},{default:l(()=>[a(I,{modelValue:t.searchParam.search,"onUpdate:modelValue":o[1]||(o[1]=e=>t.searchParam.search=e),placeholder:n(s)("memberInfoPlaceholder"),maxlength:"60"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(v,null,{default:l(()=>[a(g,{type:"primary",onClick:o[2]||(o[2]=e=>u())},{default:l(()=>[p(i(n(s)("search")),1)]),_:1}),a(g,{onClick:o[3]||(o[3]=e=>P(x.value))},{default:l(()=>[p(i(n(s)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),A((_(),y(L,{data:t.data,size:"large",ref:"tableRef"},{empty:l(()=>[d("span",null,i(t.loading?"":n(s)("emptyData")),1)]),default:l(()=>[a(m,{prop:"name",label:n(s)("taskInfo"),"min-width":"150"},{default:l(({row:e})=>[d("div",ae,[e.member.headimg?(_(),y(B,{key:0,class:"w-[50px] h-[50px] mr-[10px]",src:n(S)(e.member.headimg),fit:"contain"},null,8,["src"])):(_(),k("img",oe)),d("div",le,[d("span",ne,i(e.member.nickname||e.member.username),1),d("span",se,i(e.mobile||"--"),1)])])]),_:1},8,["label"]),a(m,{prop:"total_reward_money",label:n(s)("totalMoney"),"min-width":"100"},null,8,["label"]),a(m,{label:n(s)("schedule"),"min-width":"100"},{default:l(({row:e})=>[p(i(e.progress)+"% ",1)]),_:1},8,["label"]),a(m,{prop:"status_name",label:n(s)("status"),"min-width":"100"},{default:l(({row:e})=>[p(i(e.task.status_name),1)]),_:1},8,["label"]),a(m,{prop:"create_time",label:n(s)("accomplishStatus"),"min-width":"100"},{default:l(({row:e})=>[p(i(e.complete_num>1?"已完成":"未完成"),1)]),_:1},8,["label"]),a(m,{label:n(s)("operation"),fixed:"right",align:"right","min-width":"120"},{default:l(({row:e})=>[a(g,{type:"primary",link:"",onClick:me=>F(e)},{default:l(()=>[p(i(n(s)("detail")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[$,t.loading]]),d("div",re,[a(V,{"current-page":t.page,"onUpdate:current-page":o[4]||(o[4]=e=>t.page=e),"page-size":t.limit,"onUpdate:page-size":o[5]||(o[5]=e=>t.limit=e),layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:o[6]||(o[6]=e=>r.getAgentListFn()),onCurrentChange:r.getAgentListFn},null,8,["current-page","page-size","total","onCurrentChange"])])]),_:1})])}}});export{$e as default};
