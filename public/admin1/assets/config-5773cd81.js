import{d as k,x as z,r as b,Y as A,h as c,c as C,a as i,t as s,u as o,P as G,s as E,w as a,e as t,q as l,bZ as y,i as _,F as q,Q as J,v as M,B,J as Q,K as X,aB as Y,a0 as Z,az as H,aA as W,X as ee,E as le,c7 as te,L as oe,U as ne}from"./index-17984968.js";/* empty css                   *//* empty css                *//* empty css                          *//* empty css                  *//* empty css                *//* empty css                       *//* empty css                 *//* empty css                *//* empty css                    */import"./el-form-item-4ed993c7.js";/* empty css                 */import{i as ae,j as se}from"./order-fc033573.js";const ie={class:"main-container pt-[20px]"},re={class:"flex ml-[18px] justify-between items-center"},ue={class:"text-page-title"},de={class:"panel-title !text-sm pl-[15px]"},_e={class:"!text-sm"},pe={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},me={class:"panel-title !text-sm pl-[15px]"},fe={class:"!text-sm"},ve={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},ce={class:"panel-title !text-sm pl-[15px]"},he={class:"!text-sm"},xe={class:"text-[12px] text-[#a9a9a9] leading-normal mt-[5px]"},ge={class:"panel-title !text-sm pl-[15px]"},be={class:"panel-title !text-sm pl-[15px]"},Ve={class:"flex"},we={class:"mx-[10px]"},Ce={class:"mr-[10px]"},Ee={key:0,class:"fixed-footer-wrap"},ye={class:"fixed-footer"},qe=k({__name:"config",setup(Ie){const N=z().meta.title,n=b({close_length:"10",finish_length:"1",invoice_content:[""],invoice_type:[],is_close:"1",is_finish:"1",is_invoice:"1",no_allow_refund:"1",refund_length:"1",is_evaluate:1,evaluate_is_to_examine:1,evaluate_is_show:1}),R=b({close_length:[{validator:(p,e,u)=>n.value.is_close!="2"?e==""?u(new Error(l("CloseLengthPlaceholder"))):Number(e)>=10&&Number(e)<=1440?u():u(new Error(l("closeOrderInfoBottom"))):u(),trigger:"blur"}],finish_length:[{validator:(p,e,u)=>n.value.is_finish!="2"?e==""?u(new Error(l("finishLengthPlaceholder"))):Number(e)>=1&&Number(e)<=30?u():u(new Error(l("confirmBottom"))):u(),trigger:"blur"}],refund_length:[{validator:(p,e,u)=>n.value.no_allow_refund!="2"?e==""?u(new Error(l("validRefundLengthPlaceholder"))):Number(e)>=1&&Number(e)<=30?u():u(new Error(l("refundBottom"))):u(),trigger:"blur"}],invoice_type:[{validator:(p,e,u)=>n.value.is_invoice==="1"?e.length?u():u(new Error(l("invoiceTypePlaceholder"))):u(),trigger:"change"}]}),f=b(!1),I=()=>{f.value=!0,ae().then(p=>{Object.values(p.data).forEach(e=>{n.value=Object.assign(n.value,e)}),n.value.invoice_content.length||n.value.invoice_content.push(""),f.value=!1}).catch(()=>{f.value=!1})},O=()=>{n.value.invoice_content.push("")},F=p=>{n.value.invoice_content.splice(p,1)};I();const L=b(),P=async p=>{await p.validate(async e=>{e&&(f.value=!0,se(n.value).then(u=>{I()}).catch(()=>{f.value=!1}))})};return(p,e)=>{const u=Q,d=X,h=Y,x=Z,m=H,g=W,T=A("CircleCloseFilled"),j=ee,U=le,K=te,D=oe,S=ne;return c(),C("div",ie,[i("div",re,[i("span",ue,s(o(N)),1)]),G((c(),E(D,{model:n.value,"label-width":"95",ref_key:"formRef",ref:L,rules:R.value,class:"page-form"},{default:a(()=>[t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",de,s(o(l)("closeOrderInfo")),1),t(d,{prop:"close_length"},{default:a(()=>[i("div",null,[i("p",_e,[i("span",null,s(o(l)("closeOrderInfoLeft")),1),t(u,{modelValue:n.value.close_length,"onUpdate:modelValue":e[0]||(e[0]=r=>n.value.close_length=r),class:"!w-[120px] mx-[10px]",onKeyup:e[1]||(e[1]=r=>o(y)(r)),clearable:""},null,8,["modelValue"]),i("span",null,s(o(l)("closeOrderInfoRight")),1)]),i("p",pe,s(o(l)("closeOrderInfoBottom")),1)])]),_:1}),t(d,{prop:"is_close"},{default:a(()=>[t(h,{modelValue:n.value.is_close,"onUpdate:modelValue":e[2]||(e[2]=r=>n.value.is_close=r),label:o(l)("isClose"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",me,s(o(l)("confirm")),1),t(d,{prop:"finish_length"},{default:a(()=>[i("div",null,[i("p",fe,[i("span",null,s(o(l)("confirmLeft")),1),t(u,{modelValue:n.value.finish_length,"onUpdate:modelValue":e[3]||(e[3]=r=>n.value.finish_length=r),class:"!w-[120px] mx-[10px]",onKeyup:e[4]||(e[4]=r=>o(y)(r)),clearable:""},null,8,["modelValue"]),i("span",null,s(o(l)("confirmRight")),1)]),i("p",ve,s(o(l)("confirmBottom")),1)])]),_:1}),t(d,{prop:"is_finish"},{default:a(()=>[t(h,{modelValue:n.value.is_finish,"onUpdate:modelValue":e[5]||(e[5]=r=>n.value.is_finish=r),label:o(l)("isFinish"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",ce,s(o(l)("refund")),1),t(d,{prop:"refund_length"},{default:a(()=>[i("div",null,[i("p",he,[i("span",null,s(o(l)("refundLeft")),1),t(u,{modelValue:n.value.refund_length,"onUpdate:modelValue":e[6]||(e[6]=r=>n.value.refund_length=r),class:"!w-[120px] mx-[10px]",onKeyup:e[7]||(e[7]=r=>o(y)(r)),clearable:""},null,8,["modelValue"]),i("span",null,s(o(l)("refundRight")),1)]),i("p",xe,s(o(l)("refundBottom")),1)])]),_:1}),t(d,{prop:"no_allow_refund"},{default:a(()=>[t(h,{modelValue:n.value.no_allow_refund,"onUpdate:modelValue":e[8]||(e[8]=r=>n.value.no_allow_refund=r),label:o(l)("noAllowRefund"),"true-label":"1","false-label":"2"},null,8,["modelValue","label"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",ge,s(o(l)("evaluate")),1),t(d,{prop:"refund_length"},{default:a(()=>[i("span",null,s(o(l)("isEvaluate")),1),t(g,{class:"mx-[10px]",modelValue:n.value.is_evaluate,"onUpdate:modelValue":e[9]||(e[9]=r=>n.value.is_evaluate=r)},{default:a(()=>[t(m,{label:1},{default:a(()=>[_(s(o(l)("isEvaluateOpen")),1)]),_:1}),t(m,{label:0},{default:a(()=>[_(s(o(l)("isEvaluateClose")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{prop:"refund_length"},{default:a(()=>[i("span",null,s(o(l)("evaluateIsToExamine")),1),t(g,{class:"mx-[10px]",modelValue:n.value.evaluate_is_to_examine,"onUpdate:modelValue":e[10]||(e[10]=r=>n.value.evaluate_is_to_examine=r)},{default:a(()=>[t(m,{label:1},{default:a(()=>[_(s(o(l)("isEvaluateOpen")),1)]),_:1}),t(m,{label:0},{default:a(()=>[_(s(o(l)("isEvaluateClose")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{prop:"refund_length"},{default:a(()=>[i("span",null,s(o(l)("evaluateIsShow")),1),t(g,{class:"mx-[10px]",modelValue:n.value.evaluate_is_show,"onUpdate:modelValue":e[11]||(e[11]=r=>n.value.evaluate_is_show=r)},{default:a(()=>[t(m,{label:1},{default:a(()=>[_(s(o(l)("isEvaluateOpen")),1)]),_:1}),t(m,{label:0},{default:a(()=>[_(s(o(l)("isEvaluateClose")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(x,{class:"box-card !border-none",shadow:"never"},{default:a(()=>[i("h3",be,s(o(l)("invoice")),1),t(d,null,{default:a(()=>[i("span",null,s(o(l)("isInvoice")),1),t(g,{class:"mx-[10px]",modelValue:n.value.is_invoice,"onUpdate:modelValue":e[12]||(e[12]=r=>n.value.is_invoice=r)},{default:a(()=>[t(m,{label:"2"},{default:a(()=>[_(s(o(l)("isInvoiceClose")),1)]),_:1}),t(m,{label:"1"},{default:a(()=>[_(s(o(l)("isInvoiceOpen")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{class:"invoice"},{default:a(()=>[i("div",Ve,[i("div",null,s(o(l)("invoiceContent")),1),i("div",we,[(c(!0),C(q,null,J(n.value.invoice_content,(r,v)=>(c(),E(d,{prop:`invoice_content[${v}]`,key:v,rules:[{validator:(V,$,w)=>n.value.is_invoice==="1"&&$===""?w(o(l)("invoicePlaceholder1")):w(),trigger:"blur"}]},{default:a(()=>[i("div",{class:M(["w-[120px] relative",v?"mt-[15px]":""])},[t(u,{modelValue:n.value.invoice_content[v],"onUpdate:modelValue":V=>n.value.invoice_content[v]=V,modelModifiers:{trim:!0},class:"!w-[120px]",clearable:""},null,8,["modelValue","onUpdate:modelValue"]),v?(c(),E(j,{key:0,color:"rgba(0, 0, 0, 0.3)",class:"!absolute right-[-6px] top-[-5px]",onClick:V=>F(v)},{default:a(()=>[t(T)]),_:2},1032,["onClick"])):B("",!0)],2)]),_:2},1032,["prop","rules"]))),128))]),t(U,{onClick:O},{default:a(()=>[_(s(o(l)("insert")),1)]),_:1})])]),_:1}),t(d,{prop:"invoice_type"},{default:a(()=>[i("span",Ce,s(o(l)("invoiceType")),1),t(K,{modelValue:n.value.invoice_type,"onUpdate:modelValue":e[13]||(e[13]=r=>n.value.invoice_type=r)},{default:a(()=>[t(h,{label:"1"},{default:a(()=>[_(s(o(l)("electronicInvoice")),1)]),_:1}),t(h,{label:"2"},{default:a(()=>[_(s(o(l)("paperInvoice")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[S,f.value]]),f.value?B("",!0):(c(),C("div",Ee,[i("div",ye,[t(U,{type:"primary",onClick:e[14]||(e[14]=r=>P(L.value))},{default:a(()=>[_(s(o(l)("save")),1)]),_:1})])]))])}}});export{qe as default};
