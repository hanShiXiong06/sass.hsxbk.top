import{d as M,x as R,r as S,n as P,q as e,f as Y,h as _,c as w,e as o,w as n,a as d,t as i,u as l,i as p,F as A,Q as O,s as g,P as q,A as J,B as E,_ as K,E as Q,J as G,K as W,bN as X,ak as Z,aI as ee,L as te,a0 as ae,aa as le,ac as oe,T as se,U as ne}from"./index-17984968.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                *//* empty css                       *//* empty css                  */import"./el-form-item-4ed993c7.js";import{n as re,o as ie,p as me}from"./tourism-ed22e76b.js";const de={class:"main-container"},pe={class:"flex justify-between items-center"},ce={class:"text-page-title"},ue={class:"mt-[10px]"},_e={class:"flex items-center cursor-pointer"},he={class:"min-w-[60px] h-[60px] flex items-center justify-center"},fe=["src"],ge=["title"],be={class:"mt-[16px] flex justify-end"},Me=M({__name:"list",setup(ve){const V=R().meta.title,v=S([]);(async()=>{v.value=await(await re()).data})();const a=P({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{hotel_name:"",create_time:[]}}),T=P({1:e("oneStar"),2:e("twoStar"),3:e("threeStar"),4:e("fourStar"),5:e("fiveStar")}),x=S(),c=(r=1)=>{a.loading=!0,a.page=r,ie({page:a.page,limit:a.limit,...a.searchParam}).then(s=>{a.loading=!1,a.data=s.data.data,a.total=s.data.total}).catch(()=>{a.loading=!1})};c();const b=Y(),H=()=>{b.push("/tourism/product/hotel/edit")},B=r=>{b.push("/tourism/product/hotel/edit?id="+r.hotel_id)},D=r=>{b.push("/tourism/product/hotel/room?id="+r.hotel_id)},k=(r,s)=>{const m=r==1?e("upPrompt"):e("downPrompt");K.confirm(m,e("warning"),{confirmButtonText:e("confirm"),cancelButtonText:e("cancel"),type:"warning"}).then(()=>{me({hotel_id:s.hotel_id,hotel_status:r}).then(()=>{c()})})},F=r=>{r&&(r.resetFields(),c())};return(r,s)=>{const m=Q,N=G,f=W,L=X,y=Z,$=ee,z=te,C=ae,u=le,U=oe,j=se,I=ne;return _(),w("div",de,[o(C,{class:"box-card !border-none",shadow:"never"},{default:n(()=>[d("div",pe,[d("span",ce,i(l(V)),1),o(m,{type:"primary",class:"w-[100px]",onClick:H},{default:n(()=>[p(i(l(e)("addTourismHotel")),1)]),_:1})]),o(C,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:n(()=>[o(z,{inline:!0,model:a.searchParam,ref_key:"searchFormRef",ref:x},{default:n(()=>[o(f,{label:l(e)("hotelName"),prop:"hotel_name"},{default:n(()=>[o(N,{modelValue:a.searchParam.hotel_name,"onUpdate:modelValue":s[0]||(s[0]=t=>a.searchParam.hotel_name=t),modelModifiers:{trim:!0},placeholder:l(e)("hotelNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(f,{label:l(e)("createTime"),prop:"create_time"},{default:n(()=>[o(L,{modelValue:a.searchParam.create_time,"onUpdate:modelValue":s[1]||(s[1]=t=>a.searchParam.create_time=t),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":l(e)("startDate"),"end-placeholder":l(e)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),o(f,{label:l(e)("hotelStatus"),prop:"hotel_status"},{default:n(()=>[o($,{modelValue:a.searchParam.hotel_status,"onUpdate:modelValue":s[2]||(s[2]=t=>a.searchParam.hotel_status=t),clearable:"",placeholder:l(e)("hotelStatusPlaceholder"),class:"input-width"},{default:n(()=>[o(y,{label:l(e)("selectPlaceholder"),value:""},null,8,["label"]),(_(!0),w(A,null,O(v.value,(t,h)=>(_(),g(y,{label:t.name,value:t.status,key:h},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),o(f,null,{default:n(()=>[o(m,{type:"primary",onClick:s[3]||(s[3]=t=>c())},{default:n(()=>[p(i(l(e)("search")),1)]),_:1}),o(m,{onClick:s[4]||(s[4]=t=>F(x.value))},{default:n(()=>[p(i(l(e)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),d("div",ue,[q((_(),g(U,{data:a.data,size:"large"},{empty:n(()=>[d("span",null,i(a.loading?"":l(e)("emptyData")),1)]),default:n(()=>[o(u,{label:l(e)("hotelInfo"),"min-width":"240",align:"left"},{default:n(({row:t})=>[d("div",_e,[d("div",he,[d("img",{class:"max-w-[60px] max-h-[60px]",src:l(J)(t.hotel_cover)},null,8,fe)]),d("a",{href:"javascript:;",title:t.hotel_name,class:"multi-hidden ml-2"},i(t.hotel_name),9,ge)])]),_:1},8,["label"]),o(u,{prop:"hotel_star",label:l(e)("hotelStar"),"min-width":"100"},{default:n(({row:t})=>[p(i(T[t.hotel_star]),1)]),_:1},8,["label"]),o(u,{prop:"full_address",label:l(e)("fullAddress"),"min-width":"150"},null,8,["label"]),o(u,{prop:"hotel_status_name",label:l(e)("hotelStatus"),"min-width":"100"},null,8,["label"]),o(u,{prop:"create_time",label:l(e)("createTime"),"min-width":"150"},null,8,["label"]),o(u,{label:l(e)("operation"),fixed:"right",align:"right",width:"240"},{default:n(({row:t})=>[t.hotel_status==0?(_(),g(m,{key:0,type:"primary",link:"",onClick:h=>k(1,t)},{default:n(()=>[p(i(l(e)("grounding")),1)]),_:2},1032,["onClick"])):E("",!0),t.hotel_status==1?(_(),g(m,{key:1,type:"primary",link:"",onClick:h=>k(0,t)},{default:n(()=>[p(i(l(e)("OffShelf")),1)]),_:2},1032,["onClick"])):E("",!0),o(m,{type:"primary",link:"",onClick:h=>B(t)},{default:n(()=>[p(i(l(e)("edit")),1)]),_:2},1032,["onClick"]),o(m,{type:"primary",link:"",onClick:h=>D(t)},{default:n(()=>[p(i(l(e)("roomList")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[I,a.loading]]),d("div",be,[o(j,{"current-page":a.page,"onUpdate:current-page":s[5]||(s[5]=t=>a.page=t),"page-size":a.limit,"onUpdate:page-size":s[6]||(s[6]=t=>a.limit=t),layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:s[7]||(s[7]=t=>c()),onCurrentChange:c},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{Me as default};
