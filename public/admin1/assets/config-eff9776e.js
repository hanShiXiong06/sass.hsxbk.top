import{d as N,x as B,f as I,r as w,n as b,q as e,aS as O,a5 as D,R as y,h as k,c as j,a as s,u as l,t as r,P as L,s as z,w as p,e as o,i as f,J as F,K as Q,a0 as W,az as G,aA as J,L as H,E as X,U as Y}from"./index-17984968.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                       *//* empty css                 */import{_ as Z}from"./index.vue_vue_type_style_index_0_lang-90d7952a.js";/* empty css                */import ee from"./index-0ce1f7fc.js";import"./el-form-item-4ed993c7.js";/* empty css                 */import{g as x,d as le}from"./weapp-cc74ef2e.js";/* empty css                    *//* empty css                        */import"./index.vue_vue_type_style_index_0_lang-c5bcb8a9.js";/* empty css                  *//* empty css                   */import"./attachment-a816d3ef.js";import"./index.vue_vue_type_script_setup_true_lang-8693344a.js";/* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                      *//* empty css                    *//* empty css                 */import"./el-tooltip-4ed993c7.js";/* empty css                 *//* empty css               *//* empty css               *//* empty css                         */import"./index.vue_vue_type_script_setup_true_lang-5615c67a.js";/* empty css                   */import"./index.vue_vue_type_script_setup_true_lang-8e50df98.js";/* empty css                */import"./_plugin-vue_export-helper-c27b6911.js";import"./sortable.esm-be94e56d.js";const oe={class:"main-container"},ae={class:"detail-head"},te=s("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),pe={class:"ml-[1px]"},se=s("span",{class:"adorn"},"|",-1),re={class:"right"},ie={class:"panel-title !text-sm"},de={class:"form-tip"},ne={class:"panel-title !text-sm"},ue={class:"form-tip"},ce={class:"form-tip"},me={class:"panel-title !text-sm"},_e={class:"input-width"},fe={class:"form-tip"},ve={class:"form-tip"},he={class:"panel-title !text-sm"},ge={class:"form-tip"},we={class:"form-tip"},be={class:"form-tip"},ye={class:"form-tip"},ke={class:"form-tip"},xe={class:"flex"},Ve={class:"panel-title !text-sm"},Pe={class:"fixed-footer-wrap"},Ue={class:"fixed-footer"},cl=N({__name:"config",setup(qe){const V=B(),P=I(),U=V.meta.title,c=w(!0),t=b({weapp_name:"",weapp_original:"",app_id:"",app_secret:"",qr_code:"",token:"",encoding_aes_key:"",encryption_type:"not_encrypt",serve_url:"",request_url:"",socket_url:"",upload_url:"",download_url:"",upload_private_key:""}),h=w(),q=b({weapp_name:[{required:!0,message:e("weappNamePlaceholder"),trigger:"blur"}],weapp_original:[{required:!0,message:e("weappOriginalPlaceholder"),trigger:"blur"}],app_id:[{required:!0,message:e("appidPlaceholder"),trigger:"blur"}],app_secret:[{required:!0,message:e("appSecretPlaceholder"),trigger:"blur"}],token:[{required:!0,message:e("tokenPlaceholder"),trigger:"blur"}],encoding_aes_key:[{required:!0,message:e("encodingAesKeyPlaceholder"),trigger:"blur"}]});x().then(u=>{Object.assign(t,u.data),c.value=!1}),x().then(u=>{Object.assign(u.data)});const{copy:C,isSupported:T,copied:g}=O(),m=u=>{if(!T.value){y({message:e("notSupportCopy"),type:"warning"});return}C(u)};D(g,()=>{g.value&&y({message:e("copySuccess"),type:"success"})});const E=async u=>{c.value||!u||await u.validate(async a=>{a&&(c.value=!0,le(t).then(()=>{c.value=!1}).catch(()=>{c.value=!1}))})};return(u,a)=>{const n=F,d=Q,M=ee,_=W,S=Z,v=G,A=J,R=H,$=X,K=Y;return k(),j("div",oe,[s("div",ae,[s("div",{class:"left",onClick:a[0]||(a[0]=i=>l(P).push({path:"/channel/weapp"}))},[te,s("span",pe,r(l(e)("returnToPreviousPage")),1)]),se,s("span",re,r(l(U)),1)]),L((k(),z(R,{model:t,"label-width":"170px",ref_key:"formRef",ref:h,rules:q,class:"page-form"},{default:p(()=>[o(_,{class:"box-card !border-none",shadow:"never"},{default:p(()=>[s("h3",ie,r(l(e)("weappInfo")),1),o(d,{label:l(e)("weappName"),prop:"weapp_name"},{default:p(()=>[o(n,{modelValue:t.weapp_name,"onUpdate:modelValue":a[1]||(a[1]=i=>t.weapp_name=i),modelModifiers:{trim:!0},placeholder:l(e)("weappNamePlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(d,{label:l(e)("weappOriginal"),prop:"weapp_original"},{default:p(()=>[o(n,{modelValue:t.weapp_original,"onUpdate:modelValue":a[2]||(a[2]=i=>t.weapp_original=i),modelModifiers:{trim:!0},placeholder:l(e)("weappOriginalPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(d,{label:l(e)("weappQrcode"),prop:"qr_code"},{default:p(()=>[o(M,{modelValue:t.qr_code,"onUpdate:modelValue":a[3]||(a[3]=i=>t.qr_code=i)},null,8,["modelValue"]),s("div",de,r(l(e)("weappQrcodeTips")),1)]),_:1},8,["label"])]),_:1}),o(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:p(()=>[s("h3",ne,r(l(e)("weappDevelopInfo")),1),o(d,{label:l(e)("weappAppid"),prop:"app_id"},{default:p(()=>[o(n,{modelValue:t.app_id,"onUpdate:modelValue":a[4]||(a[4]=i=>t.app_id=i),modelModifiers:{trim:!0},placeholder:l(e)("appidPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),s("div",ue,r(l(e)("weappAppidTips")),1)]),_:1},8,["label"]),o(d,{label:l(e)("weappAppsecret"),prop:"app_secret"},{default:p(()=>[o(n,{modelValue:t.app_secret,"onUpdate:modelValue":a[5]||(a[5]=i=>t.app_secret=i),modelModifiers:{trim:!0},placeholder:l(e)("appSecretPlaceholder"),class:"input-width",clearable:""},null,8,["modelValue","placeholder"]),s("div",ce,r(l(e)("weappAppsecretTips")),1)]),_:1},8,["label"])]),_:1}),o(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:p(()=>[s("h3",me,r(l(e)("weappUpload")),1),o(d,{label:l(e)("uploadKey"),prop:"upload_private_key"},{default:p(()=>[s("div",_e,[o(S,{modelValue:t.upload_private_key,"onUpdate:modelValue":a[6]||(a[6]=i=>t.upload_private_key=i),api:"sys/document/wechat"},null,8,["modelValue"])]),s("div",fe,r(l(e)("uploadKeyTips")),1),s("div",ve,r(l(e)("uploadIpTips"))+r(t.upload_ip),1)]),_:1},8,["label"])]),_:1}),o(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:p(()=>[s("h3",he,r(l(e)("theServerSetting")),1),o(d,{label:"URL"},{default:p(()=>[o(n,{"model-value":t.serve_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[s("div",{class:"cursor-pointer",onClick:a[7]||(a[7]=i=>m(t.serve_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1}),o(d,{label:"Token",prop:"token"},{default:p(()=>[o(n,{modelValue:t.token,"onUpdate:modelValue":a[8]||(a[8]=i=>t.token=i),modelModifiers:{trim:!0},placeholder:l(e)("tokenPlaceholder"),class:"input-width",maxlength:"32","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),s("div",ge,r(l(e)("tokenTips")),1)]),_:1}),o(d,{label:"EncodingAESKey",prop:"encoding_aes_key"},{default:p(()=>[o(n,{modelValue:t.encoding_aes_key,"onUpdate:modelValue":a[9]||(a[9]=i=>t.encoding_aes_key=i),modelModifiers:{trim:!0},placeholder:l(e)("encodingAesKeyPlaceholder"),class:"input-width",maxlength:"43","show-word-limit":"",clearable:""},null,8,["modelValue","placeholder"]),s("div",we,r(l(e)("encodingAESKeyTips")),1)]),_:1}),o(d,{label:l(e)("encryptionType"),prop:"encryption_type"},{default:p(()=>[o(A,{modelValue:t.encryption_type,"onUpdate:modelValue":a[10]||(a[10]=i=>t.encryption_type=i)},{default:p(()=>[o(v,{label:"not_encrypt"},{default:p(()=>[f(r(l(e)("cleartextMode")),1)]),_:1}),o(v,{label:"compatible"},{default:p(()=>[f(r(l(e)("compatibleMode")),1)]),_:1}),o(v,{label:"safe"},{default:p(()=>[f(r(l(e)("safeMode")),1)]),_:1})]),_:1},8,["modelValue"]),s("div",be,r(l(e)("cleartextModeTips")),1),s("div",ye,r(l(e)("compatibleModeTips")),1),s("div",ke,r(l(e)("safeModeTips")),1)]),_:1},8,["label"])]),_:1}),o(_,{class:"box-card !border-none mt-[16px]",shadow:"never"},{default:p(()=>[s("div",xe,[s("h3",Ve,r(l(e)("functionSetting")),1)]),o(d,{label:l(e)("requestUrl")},{default:p(()=>[o(n,{"model-value":t.request_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[s("div",{class:"cursor-pointer",onClick:a[11]||(a[11]=i=>m(t.request_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),o(d,{label:l(e)("socketUrl")},{default:p(()=>[o(n,{"model-value":t.socket_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[s("div",{class:"cursor-pointer",onClick:a[12]||(a[12]=i=>m(t.socket_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),o(d,{label:l(e)("uploadUrl")},{default:p(()=>[o(n,{"model-value":t.upload_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[s("div",{class:"cursor-pointer",onClick:a[13]||(a[13]=i=>m(t.upload_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"]),o(d,{label:l(e)("downloadUrl")},{default:p(()=>[o(n,{"model-value":t.download_url,placeholder:"Please input",class:"input-width",readonly:!0},{append:p(()=>[s("div",{class:"cursor-pointer",onClick:a[14]||(a[14]=i=>m(t.download_url))},r(l(e)("copy")),1)]),_:1},8,["model-value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["model","rules"])),[[K,c.value]]),s("div",Pe,[s("div",Ue,[o($,{type:"primary",loading:c.value,onClick:a[15]||(a[15]=i=>E(h.value))},{default:p(()=>[f(r(l(e)("save")),1)]),_:1},8,["loading"])])])])}}});export{cl as default};
