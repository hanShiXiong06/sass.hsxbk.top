import{d as U,x as G,n as I,r as L,f as S,h as _,c as Y,e as n,w as s,a as i,u as t,t as d,q as e,i as p,P as M,s as v,A as q,B as w,_ as E,E as H,J as A,K as J,bN as K,L as O,a0 as Q,aa as W,ac as X,T as Z,U as ee}from"./index-17984968.js";/* empty css                   *//* empty css                      *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                    */import"./el-tooltip-4ed993c7.js";/* empty css                        *//* empty css                *//* empty css                *//* empty css                       *//* empty css                  */import"./el-form-item-4ed993c7.js";import{u as te,v as ae,w as oe}from"./tourism-ed22e76b.js";const le={class:"main-container"},ne={class:"flex justify-between items-center"},se={class:"detail-head"},ie=i("span",{class:"iconfont iconxiangzuojiantou !text-xs"},null,-1),re={class:"ml-[1px]"},de=i("span",{class:"adorn"},"|",-1),me={class:"right"},ce={class:"mt-[10px]"},pe={class:"flex"},ue={class:"min-w-[60px] h-[60px] flex items-center justify-center"},_e=["src"],he={class:"flex flex flex-col ml-2"},ge={class:"multi-hidden"},fe={class:"mt-[16px] flex justify-end"},Ge=U({__name:"room",setup(xe){const b=G(),P=b.meta.title,h=parseInt(b.query.id),a=I({page:1,limit:10,total:0,loading:!0,data:[],searchParam:{goods_name:"",create_time:[]}}),y=L(),c=(r=1)=>{a.loading=!0,a.page=r,te({hotel_id:h,page:a.page,limit:a.limit,...a.searchParam}).then(o=>{a.loading=!1,a.data=o.data.data,a.total=o.data.total}).catch(()=>{a.loading=!1})};c();const g=S(),T=()=>{g.push("/tourism/product/hotel/edit_room?hotel_id="+h)},B=r=>{g.push("/tourism/product/hotel/edit_room?hotel_id="+h+"&id="+r.goods_id)},k=(r,o)=>{const m=r==1?e("upPrompt"):e("downPrompt");E.confirm(m,e("warning"),{confirmButtonText:e("confirm"),cancelButtonText:e("cancel"),type:"warning"}).then(()=>{ae({id:o,status:r}).then(()=>{c()})})},V=r=>{E.confirm(e("tourismGoodsDeleteTips"),e("warning"),{confirmButtonText:e("confirm"),cancelButtonText:e("cancel"),type:"warning"}).then(()=>{oe(r).then(()=>{c()}).catch(()=>{})})},D=r=>{r&&(r.resetFields(),c())};return(r,o)=>{const m=H,N=A,f=J,$=K,z=O,C=Q,u=W,R=X,F=Z,j=ee;return _(),Y("div",le,[n(C,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[i("div",ne,[i("div",se,[i("div",{class:"left",onClick:o[0]||(o[0]=l=>t(g).push({path:"/tourism/product/hotel/hotel"}))},[ie,i("span",re,d(t(e)("returnToPreviousPage")),1),de,i("span",me,d(t(P)),1)])]),n(m,{type:"primary",class:"w-[100px]",onClick:T},{default:s(()=>[p(d(t(e)("addTourismGoods")),1)]),_:1})]),n(C,{class:"box-card !border-none my-[10px] table-search-wrap",shadow:"never"},{default:s(()=>[n(z,{inline:!0,model:a.searchParam,ref_key:"searchFormRef",ref:y},{default:s(()=>[n(f,{label:t(e)("goodsName"),prop:"goods_name"},{default:s(()=>[n(N,{modelValue:a.searchParam.goods_name,"onUpdate:modelValue":o[1]||(o[1]=l=>a.searchParam.goods_name=l),placeholder:t(e)("goodsNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),n(f,{label:t(e)("createTime"),prop:"create_time"},{default:s(()=>[n($,{modelValue:a.searchParam.create_time,"onUpdate:modelValue":o[2]||(o[2]=l=>a.searchParam.create_time=l),type:"datetimerange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":t(e)("startDate"),"end-placeholder":t(e)("endDate")},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"]),n(f,null,{default:s(()=>[n(m,{type:"primary",onClick:o[3]||(o[3]=l=>c())},{default:s(()=>[p(d(t(e)("search")),1)]),_:1}),n(m,{onClick:o[4]||(o[4]=l=>D(y.value))},{default:s(()=>[p(d(t(e)("reset")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),i("div",ce,[M((_(),v(R,{data:a.data,size:"large"},{empty:s(()=>[i("span",null,d(a.loading?"":t(e)("emptyData")),1)]),default:s(()=>[n(u,{label:t(e)("roomInfo"),"min-width":"240",align:"left"},{default:s(({row:l})=>[i("div",pe,[i("div",ue,[i("img",{class:"max-w-[60px] max-h-[60px]",src:t(q)(l.cover_thumb_small)},null,8,_e)]),i("div",he,[i("span",ge,d(l.goods_name),1)])])]),_:1},8,["label"]),n(u,{prop:"price",label:t(e)("price"),"min-width":"120"},null,8,["label"]),n(u,{prop:"stock",label:t(e)("stock"),"min-width":"120"},null,8,["label"]),n(u,{prop:"create_time",label:t(e)("createTime"),"min-width":"120"},null,8,["label"]),n(u,{prop:"status_name",label:t(e)("status"),"min-width":"120"},null,8,["label"]),n(u,{label:t(e)("operation"),align:"right",fixed:"right","min-width":"160"},{default:s(({row:l})=>[l.status==0?(_(),v(m,{key:0,type:"primary",link:"",onClick:x=>k(1,l.goods_id)},{default:s(()=>[p(d(t(e)("up")),1)]),_:2},1032,["onClick"])):w("",!0),l.status==1?(_(),v(m,{key:1,type:"primary",link:"",onClick:x=>k(0,l.goods_id)},{default:s(()=>[p(d(t(e)("down")),1)]),_:2},1032,["onClick"])):w("",!0),n(m,{type:"primary",link:"",onClick:x=>B(l)},{default:s(()=>[p(d(t(e)("edit")),1)]),_:2},1032,["onClick"]),n(m,{type:"primary",link:"",onClick:x=>V(l.goods_id)},{default:s(()=>[p(d(t(e)("delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])),[[j,a.loading]]),i("div",fe,[n(F,{"current-page":a.page,"onUpdate:current-page":o[5]||(o[5]=l=>a.page=l),"page-size":a.limit,"onUpdate:page-size":o[6]||(o[6]=l=>a.limit=l),layout:"total, sizes, prev, pager, next, jumper",total:a.total,onSizeChange:o[7]||(o[7]=l=>c()),onCurrentChange:c},null,8,["current-page","page-size","total"])])])]),_:1})])}}});export{Ge as default};
